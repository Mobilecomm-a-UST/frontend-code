"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[6668],{88845:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(72791),l=a(5574),r=a(39157),o=a(64554),i=a(63571),s=a(80184);const c=()=>{const[e,t]=(0,n.useState)(!1);return{loading:(0,n.useMemo)((()=>(0,s.jsx)(l.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(o.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,s.jsx)(o.Z,{style:{textAlign:"center"},children:(0,s.jsx)(i.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,s.jsx)(o.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{t(e)}}}},62020:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var n=a(72791),l=a(9098),r=a(73518),o=a(22151),i=a(62226),s=a(90977),c=a(5574),d=a(65661),u=a(39157),p=a(44997),_=a(29823),m=a(31243),h=a(21830),f=a.n(h),v=a(93006),g=a(61889),x=a(13838),y=a(57689),b=a(78687),j=a(61982),Z=a(88845),w=a(68439),k=a(64554),C=a(77196),S=a(50168),A=a(82626),D=a(45363),P=a(49900),R=a(17563),M=a(13034),O=a(80184);const N=e=>{let{label:t,options:a,selectedValues:n,setSelectedValues:l,name:r,required:o}=e;const i=a.length>0&&n.length===a.length;return(0,O.jsxs)(D.Z,{fullWidth:!0,size:"small",children:[(0,O.jsx)(S.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsxs)(R.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:n,name:r,label:t,onChange:e=>{const{value:t}=e.target,r="string"===typeof t?t.split(","):t;r.includes("ALL")?n.length===a.length?l([]):l(a):l(r)},required:o,input:(0,O.jsx)(C.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,O.jsxs)(A.Z,{value:"ALL",children:[(0,O.jsx)(M.Z,{checked:i,indeterminate:n.length>0&&n.length<a.length}),(0,O.jsx)(P.Z,{primary:"Select All"})]}),a.map((e=>(0,O.jsxs)(A.Z,{value:e,children:[(0,O.jsx)(M.Z,{checked:n.includes(e)}),(0,O.jsx)(P.Z,{primary:e})]},e)))]})]})},F=e=>{let{label:t,options:a,value:n,setValue:l,name:r,required:o}=e;return(0,O.jsxs)(D.Z,{fullWidth:!0,size:"small",children:[(0,O.jsx)(S.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsx)(R.Z,{labelId:"".concat(t,"-label"),value:n,label:t,name:r,required:o,onChange:e=>{l(e.target.value)},children:a.map((e=>(0,O.jsx)(A.Z,{value:e,children:e},e)))})]})},E=["CENTRAL","AP","ASM","BIH","CHN","DEL","HRY","JK","JRK","KK","KOL","MAH","MP","MUM","NE","ORI","PUN","RAJ","ROTN","UPE","UPW","WB"],z=e=>{const[t,a]=(0,n.useState)({name:"",email:"",circles:[],columns:[],right:""});console.log("props in dialog form",t);const{close:l,column:r}=e,o=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))};return(0,O.jsxs)(c.Z,{open:!0,keepMounted:!0,fullWidth:!0,maxWidth:"lg",children:[(0,O.jsxs)(d.Z,{children:["Add New User Data",(0,O.jsx)("span",{style:{float:"right"},children:(0,O.jsxs)(s.Z,{"aria-label":"close",onClick:l,children:[(0,O.jsx)(_.Z,{})," "]})})]}),(0,O.jsx)(u.Z,{dividers:"paper",children:(0,O.jsx)("form",{onSubmit:e=>{e.preventDefault()},style:{width:"100%",marginTop:10},children:(0,O.jsxs)(k.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,O.jsx)(D.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,O.jsx)(v.Z,{variant:"outlined",label:"User Name",name:"name",value:(null===t||void 0===t?void 0:t.name)||"",onChange:o,type:"Text",size:"small",required:!0,InputLabelProps:{shrink:!0}})}),(0,O.jsx)(D.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,O.jsx)(v.Z,{variant:"outlined",label:"User Email Id",name:"email",value:(null===t||void 0===t?void 0:t.email)||"",onChange:o,type:"email",size:"small",required:!0,InputLabelProps:{shrink:!0}})}),(0,O.jsx)(N,{label:"Circle",options:E,name:"circles",required:!0,selectedValues:t.circles,setSelectedValues:e=>a((t=>({...t,circles:e})))}),(0,O.jsx)(N,{label:"Columns",options:r,name:"columns",required:!0,selectedValues:t.columns,setSelectedValues:e=>a((t=>({...t,columns:e})))}),(0,O.jsx)(F,{label:"Rights",options:["Admin","Read","Write"],name:"right",required:!0,selectedValues:t.right,setSelectedValues:e=>a((t=>({...t,right:e})))}),(0,O.jsx)(x.Z,{type:"submit",variant:"contained",color:"primary",children:"Add User"})]})})})]})};a(763);const L=["unique_id","circle","site_tagging","old_toco_name","old_site_id","new_site_id","pri_history","pri_count","pri_issue_ageing","issue_history","other_issue_ageing","total_issue_ageing","clear_rfai_to_ms1_ageing","last_updated_date","last_updated_by","clear_rfai_to_ms1_ageing"],I=["rfai_date","allocation_date","rfai_survey_date","mo_punch_date","material_dispatch_date","material_delivered_date","installation_start_date","installation_end_date","integration_date","emf_submission_date","alarm_rectification_done_date","scft_done_date","scft_i_deploy_offered_date","ran_pat_offer_date","ran_sat_offer_date","mw_pat_offer_date","mw_sat_offer_date","mw_ms1_mids_date","site_onair_date","i_deploy_onair_date","rfai_rejected_date","re_rfai_date","pri_start_date","pri_close_date","issue_start_date","issue_close_date","ran_pat_accepted_date","ran_sat_accepted_date","mw_pat_accepted_date","mw_sat_accepted_date","scft_accepted_date","kpi_at_offer_date","kpi_at_accepted_date","four_g_ms2_date","five_g_ms2_date","final_ms2_date"],U=()=>{var e;const t=(0,b.v9)((e=>e.relocationFinalTracker)),a=((0,b.I0)(),(0,y.s0)()),h=(0,j.b)("userID"),{actions:k,loading:C}=(0,Z.Z)(),[S,A]=(0,n.useState)({unique_id:"",circle:"",site_tagging:"",old_toco_name:"",old_site_id:"",new_site_id:"",new_toco_name:"",sr_number:""}),[D,P]=(0,n.useState)(!1),[R,M]=(0,n.useState)(["CENTRAL"]),[N,F]=(0,n.useState)(""),[E,U]=(0,n.useState)([]),[T,V]=(0,n.useState)(!1),[W,q]=(0,n.useState)(),[B,H]=(0,n.useState)([]),J=(null===(e=(0,j.b)("user_type"))||void 0===e||e.split(","),e=>{A({...S,[e.target.name]:e.target.value})}),K=async e=>{e.preventDefault();try{const e=new FormData;e.append("data",JSON.stringify(S)),e.append("userId",h);const t=await m.Z.post("".concat(p.hN,"/alok_tracker/hyperlink_frontend_editing_update/"),e,{headers:{Authorization:"token ".concat((0,j.b)("tokenKey"))}});console.log("weeee",t),t.status&&(V(!1),f().fire({icon:"success",title:"Done",text:"Data Updated Successfully"}),a("/tools/relocation_tracking/rfai_to_ms1_waterfall/"))}catch(l){var t,n;console.log("error",l.response),V(!1),f().fire({icon:"error",title:"Error",text:"Failed to update data: ".concat((null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||l.message)})}},G=[{title:"Actions",field:"actions",render:e=>(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(s.Z,{"aria-label":"edit",onClick:()=>(async e=>{A({unique_id:e["Unique ID"],circle:e.circle,site_tagging:e.site_tagging,old_toco_name:e.old_toco_name,old_site_id:e.old_site_id,new_site_id:e.new_site_id,new_toco_name:e.new_toco_name,sr_number:e.sr_number}),F(e.id),V(!0)})(e),children:(0,O.jsx)(i.Z,{color:"success"})})})},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Circles",field:"circles"},{title:"Columns",field:"columns"},{title:"Rights",field:"right"}],$=e=>{if(!e||"nan"===e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-[A-Za-z]{3}-\d{2}$/.test(e)){const[t,a,n]=e.split("-"),l={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},r=Number(n)<50?"20"+n:"19"+n;return"".concat(r,"-").concat(l[a],"-").concat(t.padStart(2,"0"))}return e},Y=(0,n.useCallback)((()=>(0,O.jsxs)(c.Z,{open:T,keepMounted:!0,fullWidth:!0,maxWidth:"lg",children:[(0,O.jsxs)(d.Z,{children:["Edit Data",(0,O.jsx)("span",{style:{float:"right"},children:(0,O.jsxs)(s.Z,{"aria-label":"close",onClick:()=>V(!1),children:[(0,O.jsx)(_.Z,{})," "]})})]}),(0,O.jsx)(u.Z,{dividers:"paper",children:(0,O.jsx)("form",{onSubmit:K,style:{width:"100%",marginTop:10},children:(0,O.jsxs)(g.ZP,{container:!0,spacing:2,children:[Object.keys(S).map((e=>(0,O.jsx)(g.ZP,{item:!0,xs:3,children:(0,O.jsx)(v.Z,{variant:"outlined",fullWidth:!0,placeholder:e.replace(/_/g," "),label:e.replace(/_/g," "),name:e,value:e.includes("date")?$(S[e]):S[e],onChange:J,size:"small",type:I.includes(e)?"date":"text",InputLabelProps:e.includes("date")?{shrink:!0}:{},inputProps:L.includes(e)?{readOnly:!0}:{}})},e))),(0,O.jsx)(g.ZP,{item:!0,xs:12,children:(0,O.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",children:"Update"})})]})})})]})),[T,S]);(0,n.useEffect)((()=>{(async()=>{try{const a=new FormData;a.append("adminId",(0,j.b)("userID"));const n=await m.Z.post("".concat(p.hN,"/alok_tracker/users/"),a,{headers:{Authorization:"token ".concat((0,j.b)("tokenKey"))}});var e,t;console.log("fetchAdminPanelData response",n.data),n&&(V(!1),M(["CENTRAL",...null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.columns]),U(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.json_data))}catch(l){var a,n;V(!1),f().fire({icon:"error",title:"Error",text:"Failed to update data: ".concat((null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||l.message)})}})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:{margin:"1% 1%"},children:(0,O.jsx)(l.ZP,{title:"User Control Admin Panel",columns:G,data:t.temp,actions:[{icon:()=>(0,O.jsx)(w.Z,{color:"primary",fontSize:"large"}),tooltip:"Add New User",onClick:()=>P(!D),isFreeAction:!0},{icon:()=>(0,O.jsx)(r.Z,{color:"primary",fontSize:"large"}),tooltip:"Export to Excel",onClick:()=>{return e=t.temp,void new o.M("RFAI-To-MS1_Tracker.csv").setColumns(G.map((e=>e.title))).addRows(e.map((e=>G.map((t=>e[t.field]))))).exportFile();var e},isFreeAction:!0}],options:{selection:!1,search:!0,exportButton:!0,grouping:!1,headerStyle:{backgroundColor:"#006e74",color:"#FFF",whiteSpace:"nowrap",fontWeight:"bold"},rowStyle:{whiteSpace:"nowrap"}}})}),Y(),D&&(0,O.jsx)(z,{close:()=>P((e=>!e)),column:R}),C]})}},68439:(e,t,a)=>{var n=a(64836);t.Z=void 0;var l=n(a(45649)),r=a(80184),o=(0,l.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.Z=o},872:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(45649)),r=a(80184),o=(0,l.default)((0,r.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=o},5130:(e,t,a)=>{var n=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(45649)),r=a(80184),o=(0,l.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=o},73518:(e,t,a)=>{var n=a(64836);t.Z=void 0;var l=n(a(45649)),r=a(80184),o=(0,l.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");t.Z=o},62226:(e,t,a)=>{var n=a(64836);t.Z=void 0;var l=n(a(45649)),r=a(80184),o=(0,l.default)((0,r.jsx)("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"}),"DriveFileRenameOutline");t.Z=o},36314:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(63366),l=a(87462),r=a(72791),o=a(30831),i=a(98736),s=a(64657),c=a(20838),d=a(91203),u=a(86083),p=a(78519),_=a(52173),m=a(51184),h=a(45682),f=a(80184);const v=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,_.Z)(),x=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:g})}function b(e,t){const a=r.Children.toArray(e).filter(Boolean);return a.reduce(((e,n,l)=>(e.push(n),l<a.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(l)})),e)),[])}const j=e=>{let{ownerState:t,theme:a}=e,n=(0,l.Z)({display:"flex",flexDirection:"column"},(0,m.k9)({theme:a},(0,m.P$)({values:t.direction,breakpoints:a.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,h.hB)(a),l=Object.keys(a.breakpoints.values).reduce(((e,a)=>(("object"===typeof t.spacing&&null!=t.spacing[a]||"object"===typeof t.direction&&null!=t.direction[a])&&(e[a]=!0),e)),{}),r=(0,m.P$)({values:t.direction,base:l}),o=(0,m.P$)({values:t.spacing,base:l});"object"===typeof r&&Object.keys(r).forEach(((e,t,a)=>{if(!r[e]){const n=t>0?r[a[t-1]]:"column";r[e]=n}}));const s=(a,n)=>{return t.useFlexGap?{gap:(0,h.NA)(e,a)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((l=n?r[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[l]))]:(0,h.NA)(e,a)}};var l};n=(0,i.Z)(n,(0,m.k9)({theme:a},o,s))}return n=(0,m.dt)(a.breakpoints,n),n};var Z=a(66934),w=a(31402);const k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=x,useThemeProps:a=y,componentName:i="MuiStack"}=e,d=t(j),u=r.forwardRef((function(e,t){const r=a(e),u=(0,p.Z)(r),{component:_="div",direction:m="column",spacing:h=0,divider:g,children:x,className:y,useFlexGap:j=!1}=u,Z=(0,n.Z)(u,v),w={direction:m,spacing:h,useFlexGap:j},k=(0,c.Z)({root:["root"]},(e=>(0,s.ZP)(i,e)),{});return(0,f.jsx)(d,(0,l.Z)({as:_,ownerState:w,ref:t,className:(0,o.Z)(k.root,y)},Z,{children:g?b(x,g):x}))}));return u}({createStyledComponent:(0,Z.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,w.Z)({props:e,name:"MuiStack"})}),C=k},63571:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(95338),l=a(72791);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){return l.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),l.createElement("path",{d:"m11.967 4.96-.354-.461.845-2.002-1.935-1.117-1.315 1.738-.574-.073a5 5 0 0 0-1.28.003l-.576.076-1.319-1.743-1.935 1.117.85 2.015-.35.461a5 5 0 0 0-.638 1.106l-.224.534-2.17.271v2.234l2.169.271.223.537c.164.396.378.769.638 1.11l.35.461-.847 2.008 1.935 1.117 1.312-1.733.576.076c.428.056.862.056 1.291.001l.576-.075 1.31 1.731 1.935-1.117-.842-1.996.352-.461a5 5 0 0 0 .65-1.125l.223-.536 2.15-.269V6.885l-2.154-.269-.223-.536a5 5 0 0 0-.646-1.118zm1.569.733 1.579.197a1 1 0 0 1 .876.992v2.234a1 1 0 0 1-.876.992l-1.574.197a6.1 6.1 0 0 1-.778 1.348l.617 1.461a1 1 0 0 1-.421 1.255l-1.935 1.117a1 1 0 0 1-1.297-.262l-.96-1.268a6 6 0 0 1-1.549-.001l-.961 1.269a1 1 0 0 1-1.297.262l-1.935-1.117a1 1 0 0 1-.421-1.255l.622-1.475a6 6 0 0 1-.765-1.332l-1.592-.199a1 1 0 0 1-.876-.992V6.882a1 1 0 0 1 .876-.992l1.596-.199a6.2 6.2 0 0 1 .764-1.324l-.625-1.482a1 1 0 0 1 .421-1.255L4.96.513a1 1 0 0 1 1.297.262l.968 1.279a6 6 0 0 1 1.536-.003L9.727.775a1 1 0 0 1 1.297-.262l1.935 1.117a1 1 0 0 1 .421 1.255l-.619 1.467c.318.414.577.866.775 1.341"}),l.createElement("path",{d:"M8 10a2 2 0 1 0 .001-3.999A2 2 0 0 0 8 10m0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6"}))};const i=(0,l.forwardRef)(o);const s=(0,n.Z)({as:i,ariaLabel:"gear",category:"action",displayName:"Gear"})},31782:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.exportFile=function(e,t,a){if(window.navigator.msSaveOrOpenBlob){var n=new Blob([a]);window.navigator.msSaveOrOpenBlob(n,t)}else{var l="data:text/"+e+";charset=utf-8,\ufeff"+encodeURIComponent(a),r=document.createElement("a");r.setAttribute("href",l),r.setAttribute("download",t),document.body.appendChild(r),r.click()}},e}();t.default=a},82253:function(e,t,a){var n=this&&this.__extends||function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},e(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var a=e.call(this)||this;return a._FileName="",a._Delimeter=",",a._Columns=[],a._RowData=[],a._FileName=t,a}return n(t,e),t.prototype.setColumns=function(e){return this._Columns=e,this},t.prototype.setDelimeter=function(e){return this._Delimeter=e,this},t.prototype.addRow=function(e){return this._RowData.push(e),this},t.prototype.addRows=function(e){return this._RowData=this._RowData.concat(e),this},t.prototype.escapeCell=function(e){return"string"===typeof e?'"'+e.replace(/\"/g,'""')+'"':e},t.prototype.getRowData=function(e){return e.map(this.escapeCell).join(this._Delimeter)},t.prototype.exportFile=function(){var t=this,a=[];this._Columns&&this._Columns.length>0&&a.push(this.getRowData(this._Columns)),this._RowData.forEach((function(e){a.push(t.getRowData(e))}));var n=a.join("\r\n");e.prototype.exportFile.call(this,"csv",this._FileName,n)},t}(l(a(31782)).default);t.default=r},22151:(e,t,a)=>{var n=a(82253);t.M=n.default}}]);
//# sourceMappingURL=6668.3952fe91.chunk.js.map