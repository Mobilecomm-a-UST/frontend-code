"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[861],{50861:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var l=a(72791),n=a(66934),i=a(64554),r=a(61889),s=a(13838),o=a(93517),c=a(50533),d=a(4567),m=a(5397),h=a(57689),u=a(25415),x=a(97639),p=a(73518),j=a(15416),f=a(62155),y=a(68745),Z=a(90618),b=a(39281),g=a(22041),C=a(9195),k=a(4841),w=a(90977),v=a(77898),S=a(41286),_=a(5574),P=a(65661),T=a(39157),O=a(29823),R=a(55931),E=a(93006),z=a(17759),A=a(88845),M=a(12998),F=a(3984),B=a(44997),N=a(31243),L=a(21830),U=a.n(L),W=a(80067),I=a(763),q=a.n(I),D=a(23974),H=a(61982),K=a(80184);const V=(0,n.ZP)(y.Z)((e=>{let{theme:t}=e;return{["&.".concat(Z.Z.head)]:{backgroundColor:"#223354",color:t.palette.common.white,whiteSpace:"nowrap",width:t.palette.common.auto,padding:5},["&.".concat(Z.Z.body)]:{fontSize:14,padding:"0px 5px 0px 5px"}}})),G=(0,n.ZP)(C.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:"#EEEEEE"},"&:last-child td, &:last-child th":{border:0}}})),X=l.forwardRef((function(e,t){return(0,K.jsx)(R.Z,{direction:"up",ref:t,...e})})),Y=()=>{var e;const t=(0,h.s0)(),{makeGetRequest:a}=(0,z.X)(),{action:n,loading:y}=(0,A.Z)(),Z=(0,M.y)(),[L,I]=(0,l.useState)(!1),[Y,J]=(0,l.useState)(!1),[Q,$]=(0,l.useState)(),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(null),[ne,ie]=(0,l.useState)([]),[re,se]=(0,l.useState)([]),[oe,ce]=(0,l.useState)([]),[de,me]=(0,l.useState)([]),he=null===(e=(0,H.b)("user_type"))||void 0===e?void 0:e.split(","),[ue,xe]=(0,l.useState)({MO_Class:"",Parameter:""}),{isPending:pe,data:je,refetch:fe}=(0,F.a)({queryKey:["SOFT_AT_Nokia_Summary"],queryFn:async()=>{n(pe);const e=await a("Soft_AT_Checklist_Nokia/get_summary/");if(e)return n(!1),console.log("soft at nokia data",e),ie(q().uniq(q().map(e,"Parameter"))),e;n(!1)},staleTime:1e5,refetchOnReconnect:!1}),ye=Boolean(ae),Ze=e=>{xe({...ue,[e.target.name]:e.target.value})},be=async e=>{e.preventDefault();200===(await N.Z.put("".concat(B.hN,"/RCA_TOOL/rca-tables/").concat(Q,"/"),ue,{headers:{Authorization:"token ".concat((0,H.b)("tokenKey"))}})).status?(U().fire({icon:"success",title:"Done",text:"Data Updated Successfully"}),J(!1),ge(),fe()):(J(!1),ge(),fe())},ge=()=>{xe({path:"",parameter_name:"",expected_value:""}),J(!1),$()},Ce=(0,l.useCallback)((()=>(0,K.jsxs)(_.Z,{open:Y,TransitionComponent:X,keepMounted:!0,maxWidth:"md",fullWidth:!0,children:[(0,K.jsxs)(P.Z,{style:{borderBottom:"1px solid black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsxs)(i.Z,{style:{display:"flex",justifyContent:"center",alignItem:"center"},children:[(0,K.jsx)(i.Z,{children:(0,K.jsx)(S.default,{fontSize:"medium"})}),(0,K.jsx)(i.Z,{children:"EDIT CHECKLIST DATA"})]}),(0,K.jsx)(i.Z,{children:(0,K.jsx)(x.Z,{title:"Cancel",children:(0,K.jsx)(w.Z,{onClick:()=>J(!1),children:(0,K.jsx)(O.Z,{fontSize:"medium",color:"default"})})})})]}),(0,K.jsx)(T.Z,{dividers:"paper",children:(0,K.jsx)("form",{onSubmit:be,style:{width:"100%",marginTop:20},children:(0,K.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,K.jsx)(r.ZP,{item:!0,xs:6,children:(0,K.jsx)(E.Z,{variant:"outlined",fullWidth:!0,placeholder:"MO Class",label:"MO Class",name:"MO_Class",value:ue.MO_Class,onChange:Ze,multiline:!0,maxRows:4,size:"small",type:"text"})})," ",(0,K.jsx)(r.ZP,{item:!0,xs:6,children:(0,K.jsx)(E.Z,{variant:"outlined",fullWidth:!0,placeholder:"Parameter Value",label:"Parameter Value",name:"Parameter",value:ue.Parameter,onChange:Ze,multiline:!0,maxRows:4,size:"small",type:"text"})}),(0,K.jsx)(r.ZP,{item:!0,xs:12,children:(0,K.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",children:"Update"})})]})})})]})),[Y,ue,ae,ee,ye]),ke=(0,l.useCallback)((()=>{let e=q().filter(je,(e=>{const t=0===re.length||q().includes(re,e.parameter_name),a=0===de.length||q().includes(de,e.expected_value);return t&&a}));return null===e||void 0===e?void 0:e.map(((e,t)=>(0,K.jsxs)(G,{className:Z.hover,children:[(0,K.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:e.MO_Class}),(0,K.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:e.Parameter})]},t)))}),[je,re,de]);return(0,l.useEffect)((()=>{je&&ie(q().uniq(q().map(je,"Parameter"))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)("div",{style:{margin:10},children:[(0,K.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,K.jsxs)(o.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,K.jsx)(m.Z,{fontSize:"small"}),children:[(0,K.jsx)(c.Z,{underline:"hover",onClick:()=>{t("/tools")},children:"Tools"}),(0,K.jsx)(c.Z,{underline:"hover",onClick:()=>{t("/tools/soft_at")},children:"Soft-AT Tool"}),(0,K.jsx)(d.Z,{color:"text.primary",children:"Nokia Summary Table"})]})}),(0,K.jsx)("div",{style:{height:"auto",width:"100%",margin:"5px 0px",boxShadow:"rgba(0, 0, 0, 0.5) 0px 3px 8px",backgroundColor:"white",borderRadius:"10px",padding:"1px"},children:(0,K.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsx)(i.Z,{children:he.includes("Admin")&&(0,K.jsx)(x.Z,{title:"Add List",color:"primary",children:(0,K.jsx)(w.Z,{color:"primary",onClick:()=>I(!L),children:(0,K.jsx)(v.Z,{fontSize:"medium",color:"primary"})})})}),(0,K.jsx)(i.Z,{children:(0,K.jsx)("h3",{children:"Nokia Summary Table"})}),(0,K.jsx)(i.Z,{style:{float:"right",display:"flex"},children:(0,K.jsx)(x.Z,{title:"Export Excel",children:(0,K.jsx)(w.Z,{onClick:()=>{(()=>{const e=new u.Workbook,t=e.addWorksheet("Nokia Summary",{properties:{tabColor:{argb:"B0EBB4"}}});t.getCell("A1").value="MO Class",t.getCell("B1").value="Parameter",t.columns=[{key:"MO_Class"},{key:"Parameter"}],null===je||void 0===je||je.map((e=>{t.addRow({MO_Class:null===e||void 0===e?void 0:e.MO_Class,Parameter:null===e||void 0===e?void 0:e.Parameter})})),t.eachRow({includeEmpty:!0},((e,a)=>{t.getColumn(1),e.eachCell({includeEmpty:!0},(e=>{e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},1===a&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"223354"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}])}))})),e.xlsx.writeBuffer().then((e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheet.sheet"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="Nokia_Summary_Table.xlsx",l.click(),window.URL.revokeObjectURL(a)}))})()},children:(0,K.jsx)(p.Z,{fontSize:"medium",color:"primary"})})})})]})}),(0,K.jsx)(R.Z,{direction:"left",in:"true",timeout:1e3,children:(0,K.jsx)(k.Z,{sx:{width:"100%",overflow:"hidden"},children:(0,K.jsx)(b.Z,{sx:{maxHeight:"77vh",width:"100%"},children:(0,K.jsxs)(j.Z,{stickyHeader:!0,children:[(0,K.jsx)(g.Z,{style:{fontSize:18},children:(0,K.jsxs)(C.Z,{children:[(0,K.jsx)(V,{align:"center",children:"Path "}),(0,K.jsxs)(V,{align:"center",children:["Parameter Name ",(0,K.jsx)(D.Z,{data:ne.map((e=>({label:e,value:e}))),value:re,onChange:e=>{se(e)},size:"sm",appearance:"subtle",style:{width:40}})]})]})}),(0,K.jsx)(f.Z,{children:ke()})]})})})}),Ce(),(0,K.jsx)(i.Z,{sx:{marginTop:5}}),(0,K.jsx)(W.Z,{open:L,handleClick:()=>{I(!1)},handleFetch:fe,name:"SUMMARY",api:"upload_Summary_excel"}),y]})})}}}]);
//# sourceMappingURL=861.6c6ef9f9.chunk.js.map