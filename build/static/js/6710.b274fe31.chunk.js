"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[6710],{17759:(e,t,l)=>{l.d(t,{X:()=>r});var n=l(72791),a=l(31243),s=l(44997),o=l(61982);const r=e=>{const[t,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)(null),[p,x]=(0,n.useState)(0),g=()=>{h&&h.cancel()};return(0,n.useEffect)((()=>g),[]),{isLoading:t,error:r,response:c,makeGetRequest:async t=>{l(!0),i(null),d(null);const n=a.Z.CancelToken.source();u(n);try{const l=await a.Z.get("".concat(s.hN,"/").concat(t),{...e,cancelToken:n.token,headers:{Authorization:"token ".concat((0,o.b)("tokenKey"))}});return await l.data}catch(r){return a.Z.isCancel(r)?(console.log("Request canceled"),!1):(i(r),!1)}finally{l(!1)}},cancelRequest:g}}},88845:(e,t,l)=>{l.d(t,{Z:()=>c});var n=l(72791),a=l(5574),s=l(39157),o=l(64554),r=l(63571),i=l(80184);const c=()=>{const[e,t]=(0,n.useState)(!1);return{loading:(0,n.useMemo)((()=>(0,i.jsx)(a.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(o.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,i.jsx)(o.Z,{style:{textAlign:"center"},children:(0,i.jsx)(r.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,i.jsx)(o.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{t(e)}}}},30204:(e,t,l)=>{l.d(t,{u:()=>r});var n=l(72791),a=l(31243),s=l(44997),o=l(61982);const r=e=>{const[t,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)(null),[p,x]=(0,n.useState)(0),g=()=>{h&&h.cancel()};return(0,n.useEffect)((()=>g),[]),{isLoading:t,error:r,response:c,makePostRequest:async(t,n)=>{l(!0),i(null),d(null);const c=a.Z.CancelToken.source();u(c);try{const l=await a.Z.post("".concat(s.hN,"/").concat(t),n,{...e,cancelToken:c.token,headers:{Authorization:"token ".concat((0,o.b)("tokenKey"))}});return d(l),await l.data}catch(r){return a.Z.isCancel(r)?(console.log("Request canceled"),!1):(i(r),console.log("error",r),!1)}finally{l(!1)}},cancelRequest:g}}},36710:(e,t,l)=>{l.r(t),l.d(t,{default:()=>O});var n=l(72791),a=l(64554),s=l(93517),o=l(50533),r=l(4567),i=l(5397),c=l(57689),d=l(17759),h=l(3984),u=l(88845),p=l(30204),x=l(66934),g=l(14771),m=l(15416),b=l(62155),j=l(68745),y=l(90618),f=l(39281),k=l(22041),S=l(9195),_=l(4841),C=l(55931),w=l(763),Z=l.n(w),R=l(12998),v=l(22151),A=l(73518),E=l(90977),P=l(50168),T=l(82626),D=l(45363),F=l(17563),M=l(80184);const V=(0,x.ZP)(j.Z)((e=>{let{theme:t}=e;return{["&.".concat(y.Z.head)]:{backgroundColor:"#223354",color:t.palette.common.white,whiteSpace:"nowrap",width:t.palette.common.auto,padding:5,"&:first-of-type":{position:"-webkit-sticky",left:0,zIndex:4,backgroundColor:"#223354"}},["&.".concat(y.Z.body)]:{fontSize:14,padding:"0px 5px 0px 5px","&:first-of-type":{position:"sticky",left:0,backgroundColor:t.palette.background.paper,zIndex:1}}}})),q=(0,x.ZP)(S.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:"#EEEEEE"},"&:last-child td, &:last-child th":{border:0}}})),z=()=>{const e=(0,R.y)(),[t,l]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[o,r]=(0,n.useState)(50),[i,c]=(0,n.useState)([]),[d,h]=(0,n.useState)([]),[x,j]=(0,n.useState)("MV_RRC_Setup_Success_Rate"),{makePostRequest:y}=(0,p.u)(),{action:w,loading:z}=(0,u.Z)(),I=[{title:"Circle",field:"circle"},{title:"Cell Name",field:"Cell_name"},{title:"KPI",field:"KPI"},{title:"Cell Value",field:"cell_value"},{title:"Threshold Value",field:"threshold_value"},{title:"Check Condition",field:"check_condition"},{title:"RCA",field:"RCA"},{title:"Proposed Solution",field:"Proposed_Solution"},{title:"History Alarms",field:"history_alarms"}];return(0,n.useEffect)((()=>{const e=new Date;e.setDate(e.getDate()-1),(async e=>{w(!0);const t=new FormData;t.append("date",e),t.append("kpi_name",x);const n=await y("RCA_TOOL/rca-dashboard/",t);n?(w(!1),console.log("responce",n),l(null===n||void 0===n?void 0:n.table_data),s(n.table_data.slice(0,o)),c(Z().uniq(Z().map(null===n||void 0===n?void 0:n.table_data,"circle")))):(w(!1),console.log("responce",n))})(e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2))}),[x]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(C.Z,{direction:"left",in:"true",timeout:1e3,children:(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,M.jsx)(E.Z,{color:"primary",onClick:()=>{new v.M("Generate_rca_output.csv").setColumns(I.map((e=>e.title))).addRows(t.map((e=>I.map((t=>e[t.field]))))).exportFile()},title:"Export in csv",children:(0,M.jsx)(A.Z,{})}),(0,M.jsxs)(D.Z,{sx:{m:1,width:"auto",minWidth:200},size:"small",children:[(0,M.jsx)(P.Z,{id:"demo-simple-select-label",children:"KPI"}),(0,M.jsxs)(F.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,label:"KPI",onChange:e=>j(e.target.value),children:[(0,M.jsx)(T.Z,{value:"MV_RRC_Setup_Success_Rate",children:"MV_RRC_Setup_Success_Rate"}),(0,M.jsx)(T.Z,{value:"MV_ERAB_Setup_Success_Rate",children:"MV_ERAB_Setup_Success_Rate"}),(0,M.jsx)(T.Z,{value:"MV_4G_Data_Volume_GB",children:"MV_4G_Data_Volume_GB"})]})]})]}),(0,M.jsx)(_.Z,{sx:{width:"100%",overflow:"hidden"},children:(0,M.jsx)(f.Z,{id:"scrollableTable",sx:{maxHeight:"77vh",width:"100%"},children:(0,M.jsx)(g.Z,{dataLength:a.length,next:()=>{console.log("loading dataa ssssssss"),s((e=>[...e,...t.slice(e.length,e.length+o)]))},hasMore:a.length<t.length,loader:(0,M.jsx)("h4",{children:"Loading more rows..."}),endMessage:(0,M.jsx)("p",{style:{textAlign:"center"},children:"No more data to display"}),scrollableTarget:"scrollableTable",children:(0,M.jsxs)(m.Z,{stickyHeader:!0,children:[(0,M.jsx)(k.Z,{style:{fontSize:18},children:(0,M.jsxs)(S.Z,{children:[(0,M.jsx)(V,{align:"center",children:"Circle"}),(0,M.jsx)(V,{align:"center",children:"Cell Name"}),(0,M.jsx)(V,{align:"center",children:"KPI"}),(0,M.jsx)(V,{align:"center",children:"Cell Value"}),(0,M.jsx)(V,{align:"center",children:"Threshold Value"}),(0,M.jsx)(V,{align:"center",children:"Check Condition"}),(0,M.jsx)(V,{align:"center",children:"RCA"}),(0,M.jsx)(V,{align:"center",children:"Proposed Solution"}),(0,M.jsx)(V,{align:"center",children:"History Alarms"})]})}),(0,M.jsx)(b.Z,{children:null===a||void 0===a?void 0:a.map((t=>(0,M.jsxs)(q,{className:e.hover,children:[(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.circle}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.Cell_name}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.KPI}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.cell_value}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.threshold_value}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.check_condition}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.RCA}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.Proposed_Solution}),(0,M.jsx)(V,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:t.history_alarms})]},t.id)))})]})})})})]})}),z]})},I=n.memo(z);var B=l(61982);const O=()=>{var e;const t=["#B0EBB4","#A0DEFF","#FF9F66","#ECB176","#CDE8E5"],{makeGetRequest:l}=(0,d.X)(),p=(0,c.s0)(),{loading:x,action:g}=(0,u.Z)(),{data:m,isPending:b}=(null===(e=(0,B.b)("user_type"))||void 0===e||e.split(","),(0,h.a)({queryKey:["rca_generate_date"],queryFn:async()=>{g(b);const e=await l("RCA_TOOL/latest_record_date/");if(e){g(!1);const t=Object.keys(e),l=Object.values(e);return t.map(((e,t)=>({[e]:l[t]})))}g(!1)},staleTime:1e5,refetchOnReconnect:!1})),j=(0,n.useCallback)((e=>{let{datas:t,color:l}=e,n=Object.keys(t)[0].replaceAll("_"," ").toUpperCase(),s=Object.values(t);return(0,M.jsxs)(a.Z,{sx:{height:"15vh",width:"45vh",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:l,textAlign:"center"},children:[(0,M.jsx)(a.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:n}),(0,M.jsx)(a.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:function(e){const t=new Date(e),l=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(l,"-").concat(n,"-").concat(a)}(s)})]})}),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{style:{margin:10,marginLeft:10},children:(0,M.jsxs)(s.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,M.jsx)(i.Z,{fontSize:"small"}),children:[(0,M.jsx)(o.Z,{underline:"hover",onClick:()=>{p("/tools")},children:"Tools"}),(0,M.jsx)(o.Z,{underline:"hover",onClick:()=>{p("/tools/rca")},children:"RCA Tool"}),(0,M.jsx)(r.Z,{color:"text.primary",children:"Generate RCA"})]})}),(0,M.jsx)("div",{style:{padding:"5px",display:"flex",justifyContent:"space-between",flexWrap:"wrap",flexDirection:"row",gap:20,marginTop:"10px"},children:null===m||void 0===m?void 0:m.map(((e,l)=>(0,M.jsx)(j,{datas:e,color:t[l]})))}),(0,M.jsx)(a.Z,{sx:{marginTop:4},children:(0,M.jsx)(I,{})})]}),x]})}}}]);
//# sourceMappingURL=6710.b274fe31.chunk.js.map