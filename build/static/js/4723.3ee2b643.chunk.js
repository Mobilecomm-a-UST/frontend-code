"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[4723],{74723:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var l=a(72791),n=a(66934),i=a(64554),r=a(61889),s=a(13838),o=a(93517),c=a(50533),d=a(4567),h=a(5397),p=a(57689),m=a(97639),u=a(73518),x=a(15416),j=a(62155),f=a(68745),g=a(90618),Z=a(39281),v=a(22041),y=a(9195),b=a(4841),k=a(90977),C=a(77898),w=a(41286),_=a(5574),S=a(65661),E=a(39157),R=a(29823),T=a(55931),z=a(93006),P=a(17759),A=a(88845),N=a(12998),F=a(3984),B=a(44997),L=a(31243),W=a(21830),q=a.n(W),I=a(25415),U=a(80067),O=a(763),D=a.n(O),V=a(23974),H=a(61982),K=a(80184);const G=(0,n.ZP)(f.Z)((e=>{let{theme:t}=e;return{["&.".concat(g.Z.head)]:{backgroundColor:"#223354",color:t.palette.common.white,whiteSpace:"nowrap",width:t.palette.common.auto,padding:5},["&.".concat(g.Z.body)]:{fontSize:14,padding:"0px 5px 0px 5px"}}})),M=(0,n.ZP)(y.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:"#EEEEEE"},"&:last-child td, &:last-child th":{border:0}}})),X=l.forwardRef((function(e,t){return(0,K.jsx)(T.Z,{direction:"up",ref:t,...e})})),J=()=>{var e;const t=(0,p.s0)(),{makeGetRequest:a}=(0,P.X)(),{action:n,loading:f}=(0,A.Z)(),g=(0,N.y)(),[W,O]=(0,l.useState)(!1),[J,Q]=(0,l.useState)(!1),[Y,$]=(0,l.useState)(),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(null),[ne,ie]=(0,l.useState)([]),[re,se]=(0,l.useState)([]),[oe,ce]=(0,l.useState)([]),[de,he]=(0,l.useState)([]),pe=null===(e=(0,H.b)("user_type"))||void 0===e?void 0:e.split(","),[me,ue]=(0,l.useState)({path:"",parameter_name:"",expected_value:""}),{isPending:xe,data:je,refetch:fe}=(0,F.a)({queryKey:["SOFT_AT_Nokia_Checklist"],queryFn:async()=>{n(xe);const e=await a("Soft_AT_Checklist_Nokia/get/");if(e)return n(!1),console.log("soft at nokia data",e),ce(D().uniq(D().map(e,"expected_value"))),ie(D().uniq(D().map(e,"parameter_name"))),e;n(!1)},staleTime:1e5,refetchOnReconnect:!1}),ge=Boolean(ae),Ze=e=>{ue({...me,[e.target.name]:e.target.value})},ve=async e=>{e.preventDefault();200===(await L.Z.put("".concat(B.hN,"/RCA_TOOL/rca-tables/").concat(Y,"/"),me,{headers:{Authorization:"token ".concat((0,H.b)("tokenKey"))}})).status?(q().fire({icon:"success",title:"Done",text:"Data Updated Successfully"}),Q(!1),ye(),fe()):(Q(!1),ye(),fe())},ye=()=>{ue({path:"",parameter_name:"",expected_value:""}),Q(!1),$()},be=(0,l.useCallback)((()=>(0,K.jsxs)(_.Z,{open:J,TransitionComponent:X,keepMounted:!0,maxWidth:"md",fullWidth:!0,children:[(0,K.jsxs)(S.Z,{style:{borderBottom:"1px solid black",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsxs)(i.Z,{style:{display:"flex",justifyContent:"center",alignItem:"center"},children:[(0,K.jsx)(i.Z,{children:(0,K.jsx)(w.default,{fontSize:"medium"})}),(0,K.jsx)(i.Z,{children:"EDIT CHECKLIST DATA"})]}),(0,K.jsx)(i.Z,{children:(0,K.jsx)(m.Z,{title:"Cancel",children:(0,K.jsx)(k.Z,{onClick:()=>Q(!1),children:(0,K.jsx)(R.Z,{fontSize:"medium",color:"default"})})})})]}),(0,K.jsx)(E.Z,{dividers:"paper",children:(0,K.jsx)("form",{onSubmit:ve,style:{width:"100%",marginTop:20},children:(0,K.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,K.jsx)(r.ZP,{item:!0,xs:12,children:(0,K.jsx)(z.Z,{variant:"outlined",fullWidth:!0,placeholder:"Path",label:"Path",name:"path",value:me.path,onChange:Ze,multiline:!0,maxRows:4,size:"small",type:"text"})}),(0,K.jsx)(r.ZP,{item:!0,xs:6,children:(0,K.jsx)(z.Z,{variant:"outlined",fullWidth:!0,placeholder:"Parameter Name",label:"Parameter Name",name:"parameter_name",value:me.parameter_name,onChange:Ze,multiline:!0,maxRows:4,size:"small",type:"text"})})," ",(0,K.jsx)(r.ZP,{item:!0,xs:6,children:(0,K.jsx)(z.Z,{variant:"outlined",fullWidth:!0,placeholder:"Expected Value",label:"Expected Value",name:"expected_value",value:me.expected_value,onChange:Ze,multiline:!0,maxRows:4,size:"small",type:"text"})}),(0,K.jsx)(r.ZP,{item:!0,xs:12,children:(0,K.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",children:"Update"})})]})})})]})),[J,me,ae,ee,ge]),ke=(0,l.useCallback)((()=>{let e=D().filter(je,(e=>{const t=0===re.length||D().includes(re,e.parameter_name),a=0===de.length||D().includes(de,e.expected_value);return t&&a}));return null===e||void 0===e?void 0:e.map(((e,t)=>(0,K.jsxs)(M,{className:g.hover,children:[(0,K.jsx)(G,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:e.path}),(0,K.jsx)(G,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:e.parameter_name}),(0,K.jsx)(G,{align:"center",style:{borderRight:"2px solid black",whiteSpace:"nowrap"},children:e.expected_value})]},t)))}),[je,re,de]);return(0,l.useEffect)((()=>{je&&(ce(D().uniq(D().map(je,"expected_value"))),ie(D().uniq(D().map(je,"parameter_name")))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)("div",{style:{margin:10},children:[(0,K.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,K.jsxs)(o.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,K.jsx)(h.Z,{fontSize:"small"}),children:[(0,K.jsx)(c.Z,{underline:"hover",onClick:()=>{t("/tools")},children:"Tools"}),(0,K.jsx)(c.Z,{underline:"hover",onClick:()=>{t("/tools/soft_at")},children:"Soft-AT Tool"}),(0,K.jsx)(d.Z,{color:"text.primary",children:"Nokia Checklist Table"})]})}),(0,K.jsx)("div",{style:{height:"auto",width:"100%",margin:"5px 0px",boxShadow:"rgba(0, 0, 0, 0.5) 0px 3px 8px",backgroundColor:"white",borderRadius:"10px",padding:"1px"},children:(0,K.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,K.jsx)(i.Z,{children:pe.includes("Admin")&&(0,K.jsx)(m.Z,{title:"Add List",color:"primary",children:(0,K.jsx)(k.Z,{color:"primary",onClick:()=>O(!W),children:(0,K.jsx)(C.Z,{fontSize:"medium",color:"primary"})})})}),(0,K.jsx)(i.Z,{children:(0,K.jsx)("h3",{children:"Nokia Checkpoint Table"})}),(0,K.jsx)(i.Z,{style:{float:"right",display:"flex"},children:(0,K.jsx)(m.Z,{title:"Export Checklist",children:(0,K.jsx)(k.Z,{onClick:()=>{(()=>{const e=new I.Workbook,t=e.addWorksheet("Nokia Checklist",{properties:{tabColor:{argb:"B0EBB4"}}});t.getCell("A1").value="Path",t.getCell("B1").value="Parameter",t.getCell("C1").value="Value",t.columns=[{key:"path"},{key:"parameter_name"},{key:"expected_value"}],null===je||void 0===je||je.map((e=>{t.addRow({path:null===e||void 0===e?void 0:e.path,parameter_name:null===e||void 0===e?void 0:e.parameter_name,expected_value:null===e||void 0===e?void 0:e.expected_value})})),t.eachRow({includeEmpty:!0},((e,a)=>{t.getColumn(1)._worksheet._rows.length,e.eachCell({includeEmpty:!0},(e=>{e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},1===a&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"223354"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}])}))})),e.xlsx.writeBuffer().then((e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheet.sheet"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="Nokia_Checklist.xlsx",l.click(),window.URL.revokeObjectURL(a)}))})()},children:(0,K.jsx)(u.Z,{fontSize:"medium",color:"primary"})})})})]})}),(0,K.jsx)(T.Z,{direction:"left",in:"true",timeout:1e3,children:(0,K.jsx)(b.Z,{sx:{width:"100%",overflow:"hidden"},children:(0,K.jsx)(Z.Z,{sx:{maxHeight:"77vh",width:"100%"},children:(0,K.jsxs)(x.Z,{stickyHeader:!0,children:[(0,K.jsx)(v.Z,{style:{fontSize:18},children:(0,K.jsxs)(y.Z,{children:[(0,K.jsx)(G,{align:"center",children:"Path "}),(0,K.jsxs)(G,{align:"center",children:["Parameter Name ",(0,K.jsx)(V.Z,{data:ne.map((e=>({label:e,value:e}))),value:re,onChange:e=>{se(e)},size:"sm",appearance:"subtle",style:{width:40}})]}),(0,K.jsxs)(G,{align:"center",children:["Expected Value  ",(0,K.jsx)(V.Z,{data:oe.map((e=>({label:e,value:e}))),value:de,onChange:e=>{he(e)},size:"sm",appearance:"subtle",placeholder:"Expected Value",style:{width:100}})," "]})]})}),(0,K.jsx)(j.Z,{children:ke()})]})})})}),be(),(0,K.jsx)(i.Z,{sx:{marginTop:5}}),(0,K.jsx)(U.Z,{open:W,handleClick:()=>{O(!1)},handleFetch:fe,name:"CHECKLIST",api:"upload-excel"}),f]})})}}}]);
//# sourceMappingURL=4723.3ee2b643.chunk.js.map