"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[3149],{88845:(e,n,o)=>{o.d(n,{Z:()=>c});var t=o(72791),i=o(5574),l=o(39157),a=o(64554),r=o(63571),s=o(80184);const c=()=>{const[e,n]=(0,t.useState)(!1);return{loading:(0,t.useMemo)((()=>(0,s.jsx)(i.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(a.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,s.jsx)(a.Z,{style:{textAlign:"center"},children:(0,s.jsx)(r.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,s.jsx)(a.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{n(e)}}}},93149:(e,n,o)=>{o.r(n),o.d(n,{default:()=>C});var t=o(72791),i=o(64554),l=o(36314),a=o(13838),r=o(93517),s=o(50533),c=o(4567),d=o(5397),x=o(57689),p=o(55931),g=o(89013),h=o(38926),f=o(21830),m=o.n(f),u=o(44997),b=o(65560),j=o(39992),y=o(88845),Z=o(61982),k=o(97639),w=o(49877),_=o(73518),v=o(80184);const C=()=>{var e;const[n,o]=(0,t.useState)({filename:"",bytes:""}),[f,C]=(0,t.useState)(""),[S,B]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),[T,D]=(0,t.useState)(),[R,N]=(0,t.useState)(!1),{loading:A,action:E}=(0,y.Z)(),W=(0,x.s0)(),z=(0,j.Z)(),P=(0,Z.b)("userID"),q=(null===(e=(0,Z.b)("user_type"))||void 0===e||e.split(","),"".concat(u.hN).concat(T));return(0,t.useEffect)((()=>{document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,v.jsxs)(r.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,v.jsx)(d.Z,{fontSize:"small"}),children:[(0,v.jsx)(s.Z,{underline:"hover",onClick:()=>{W("/tools")},children:"Tools"}),(0,v.jsx)(s.Z,{underline:"hover",onClick:()=>{W("/tools/relocation_tracking")},children:"Relocation Tracking"}),(0,v.jsx)(c.Z,{color:"text.primary",children:"Relocation 2.0 Upload File"})]})}),(0,v.jsx)(p.Z,{direction:"left",in:"true",timeout:1e3,children:(0,v.jsxs)(i.Z,{children:[(0,v.jsxs)(i.Z,{style:{position:"fixed",right:20},children:[(0,v.jsx)(i.Z,{style:{fontWeight:"bolder",color:"green"},children:"Template"}),(0,v.jsx)(k.Z,{children:(0,v.jsx)("a",{download:!0,href:q,children:(0,v.jsx)(w.Z,{color:"primary","aria-label":"add",children:(0,v.jsx)(_.Z,{})})})})]}),(0,v.jsxs)(i.Z,{className:z.main_Box,children:[(0,v.jsxs)(i.Z,{className:z.Back_Box,sx:{width:{md:"75%",xs:"100%"}},children:[(0,v.jsx)(i.Z,{className:z.Box_Hading,children:"Upload Relocation File"}),(0,v.jsx)(l.Z,{spacing:2,sx:{marginTop:"-40px"},direction:"column",children:(0,v.jsxs)(i.Z,{className:z.Front_Box,children:[(0,v.jsxs)("div",{className:z.Front_Box_Hading,children:["Select Excel Files:-",(0,v.jsx)("span",{style:{fontFamily:"Poppins",color:"gray",marginLeft:20},children:n.filename})]}),(0,v.jsxs)("div",{className:z.Front_Box_Select_Button,children:[(0,v.jsx)("div",{style:{float:"left"},children:(0,v.jsxs)(a.Z,{variant:"contained",component:"label",color:n.state>0?"warning":"primary",children:["select file",(0,v.jsx)("input",{required:!0,hidden:!0,accept:".xlsx,.xls",multiple:!0,type:"file",onChange:e=>{return n=e,console.log("event target files",n),B(!1),void o({filename:n.target.files[0].name,bytes:n.target.files[0],state:!0});var n}})]})}),(0,v.jsxs)("div",{children:["  ",(0,v.jsx)("span",{style:{display:S?"inherit":"none",color:"red",fontSize:"18px",fontWeight:600},children:"This Field Is Required !"})," "]})]})]})}),(0,v.jsxs)(l.Z,{direction:{xs:"column",sm:"column",md:"row"},spacing:2,style:{display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,v.jsx)(a.Z,{variant:"contained",color:"success",onClick:async()=>{if(n){E(!0);var e=new FormData;e.append("tracker_file",n.bytes),e.append("userId",P);const o=await(0,u.qC)("alok_tracker/upload_file/",e);!0===o.status?(E(!1),N(!0),m().fire({icon:"success",title:"Done",text:"".concat(o.message)})):(E(!1),m().fire({icon:"error",title:"Oops...",text:"".concat(o.message)}))}else 0===n.length?B(!0):B(!1)},endIcon:(0,v.jsx)(g.Z,{}),children:"Submit"}),(0,v.jsx)(a.Z,{variant:"contained",onClick:()=>{o({filename:"",bytes:""}),B(!1)},style:{backgroundColor:"red",color:"white"},endIcon:(0,v.jsx)(h.Z,{}),children:"cancel"})]})]}),(0,v.jsx)(i.Z,{sx:{textAlign:"center"},children:(0,v.jsx)(a.Z,{variant:"outlined",onClick:()=>(async()=>{try{E(!0);const e=await(0,u.qC)("alok_tracker/download_tracker_file/",{userId:P});if(console.log("Download file response:",e),null!==e&&void 0!==e&&e.download_link){const n=document.createElement("a");n.href=e.download_link,n.setAttribute("download",""),document.body.appendChild(n),n.click(),document.body.removeChild(n)}else console.warn("No download link found in response")}catch(e){console.error("Error downloading relocation file:",e)}finally{E(!1)}})(),title:"Export Excel",startIcon:(0,v.jsx)(b.Z,{style:{fontSize:30,color:"green"}}),sx:{marginTop:"10px",width:"auto"},children:(0,v.jsx)("span",{style:{fontFamily:"Poppins",fontSize:"22px",fontWeight:800,textTransform:"none",textDecorationLine:"none"},children:"Download Relocation Tracking Data"})})})]})]})}),A]})}},39992:(e,n,o)=>{o.d(n,{Z:()=>i});var t=o(21101);(0,o(86122).Z)({breakpoints:{values:{mobile:0,tablet:640,laptop:1024,desktop:1200}}});const i=(0,t.Z)((e=>({main_Box:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px",padding:"20px",flexDirection:"column",textAlign:"center"},Back_Box:{width:"80%",border:"0px solid",height:"50%",marginTop:5,padding:30,borderRadius:"15px",backgroundImage:"linear-gradient(160deg, #0093E9 0%, #80D0C7 100%)",boxShadow:"rgba(50, 50, 93, 0.25) 0px 50px 10px -40px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset"},Box_Hading:{width:"80%",padding:"15px 0px",fontFamily:"Poppins",fontSize:"120%",fontWeight:700,backgroundColor:"#223354",borderRadius:50,color:"#ffffff",marginRight:"auto",marginLeft:"auto",position:"relative",top:"-60px"},Front_Box:{border:"0px solid",borderRadius:10,padding:"10px",backgroundColor:"white",boxShadow:" rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px"},Front_Box_Hading:{textAlign:"left",fontFamily:"Poppins",fontSize:"20px",fontWeight:600},Front_Box_Select_Button:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},hover:{"&:hover":{backgroundColor:"rgb(42,128,234, 0.5)",color:"black",fontWeight:"bold"}}})))}}]);
//# sourceMappingURL=3149.500b762e.chunk.js.map