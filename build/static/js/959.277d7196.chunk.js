"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[959],{88845:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(72791),r=a(5574),l=a(39157),n=a(64554),i=a(63571),d=a(80184);const s=()=>{const[e,t]=(0,o.useState)(!1);return{loading:(0,o.useMemo)((()=>(0,d.jsx)(r.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,d.jsxs)(l.Z,{children:[(0,d.jsx)(n.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,d.jsx)(n.Z,{style:{textAlign:"center"},children:(0,d.jsx)(i.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,d.jsx)(n.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{t(e)}}}},30204:(e,t,a)=>{a.d(t,{u:()=>i});var o=a(72791),r=a(31243),l=a(44997),n=a(61982);const i=e=>{const[t,a]=(0,o.useState)(!1),[i,d]=(0,o.useState)(null),[s,c]=(0,o.useState)(null),[b,p]=(0,o.useState)(null),[h,u]=(0,o.useState)(0),x=()=>{b&&b.cancel()};return(0,o.useEffect)((()=>x),[]),{isLoading:t,error:i,response:s,makePostRequest:async(t,o)=>{a(!0),d(null),c(null);const s=r.Z.CancelToken.source();p(s);try{const a=await r.Z.post("".concat(l.hN,"/").concat(t),o,{...e,cancelToken:s.token,headers:{Authorization:"token ".concat((0,n.b)("tokenKey"))}});return c(a),await a.data}catch(i){return r.Z.isCancel(i)?(console.log("Request canceled"),!1):(d(i),console.log("error",i),!1)}finally{a(!1)}},cancelRequest:x}}},959:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var o=a(72791),r=(a(30550),a(43623)),l=a(13838),n=a(81213),i=a(80429),d=a(46420),s=a.n(d),c=a(44997),b=a(60585),p=a(50168),h=a(40630),u=a(70320),x=a(5536),g=a(5574),m=a(55931),f=a(30204),y=a(88845),C=a(3984),v=a(65661),j=a(90977),S=a(29823),k=a(80184);const R=o.forwardRef((function(e,t){return(0,k.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),_=e=>{var t,a,o,l,d,b,p,h,u,x,m,f,y;let C,{dataset:_,status:w,closeDialog:E,month:O,activity:A}=e;console.log("data",_);const I={labels:[_?null===(t=_[0])||void 0===t?void 0:t.cir:"nan"],datasets:[{label:"DE-GROW",data:[_?null===(a=_[0])||void 0===a?void 0:a.DE_GROW:"0"],borderColor:"black",backgroundColor:["rgb(192, 57, 43,0.8)"],borderWidth:1,fill:!0,tension:.4},{label:"MACRO",data:[_?null===(o=_[0])||void 0===o?void 0:o.MACRO:"0"],borderColor:"black",backgroundColor:["rgb(236, 112, 99,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"RELOCATION",data:[_?null===(l=_[0])||void 0===l?void 0:l.RELOCATION:"0"],borderColor:"black",backgroundColor:["rgb(136, 78, 160 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"RET",data:[_?null===(d=_[0])||void 0===d?void 0:d.RET:"0"],borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"ULS HPSC",data:[_?null===(b=_[0])||void 0===b?void 0:b.ULS_HPSC:"0"],borderColor:"black",backgroundColor:["rgb(187, 143, 206,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"UPGRADE",data:[_?null===(p=_[0])||void 0===p?void 0:p.UPGRADE:"0"],borderColor:"black",backgroundColor:["rgb(229, 152, 102,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"FEMTO",data:[_?null===(h=_[0])||void 0===h?void 0:h.FEMTO:"0"],borderColor:"black",backgroundColor:["rgb(93, 173, 226,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"HT-INCREMENT",data:[_?null===(u=_[0])||void 0===u?void 0:u.HT_INCREMENT:"0"],borderColor:"black",backgroundColor:["rgb(118, 215, 196,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"IBS",data:[_?null===(x=_[0])||void 0===x?void 0:x.IBS:"0"],borderColor:"black",backgroundColor:["rgb(34, 153, 84 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"ODSC",data:[_?null===(m=_[0])||void 0===m?void 0:m.ODSC:"0"],borderColor:"black",backgroundColor:["rgb(243, 156, 18,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"RECTIFICATION",data:[_?null===(f=_[0])||void 0===f?void 0:f.RECTIFICATION:"0"],borderColor:"black",backgroundColor:["rgb(211, 84, 0 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"OTHERS",data:[_?null===(y=_[0])||void 0===y?void 0:y.OTHERS:"0"],borderColor:"black",backgroundColor:["rgb(133, 146, 158,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1}]},Z={responsive:!0,maintainApectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"OEM (".concat(A,") Wise Integration Count ").concat(O),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:10,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{C=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||C||(t=300*e.dataIndex+100*e.datasetIndex),t}}};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(g.Z,{fullWidth:!0,maxWidth:"md",TransitionComponent:R,open:w,children:[(0,k.jsxs)(v.Z,{children:["Activity Graph ",(0,k.jsx)("span",{style:{float:"right"},children:(0,k.jsx)(j.Z,{size:"large",onClick:E,children:(0,k.jsx)(S.Z,{})})})]}),(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,k.jsx)("div",{style:{filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,k.jsx)(r.$Q,{data:I,options:Z,plugins:[n.Z,i.ZP,s()]})})})]})})},w=o.memo(_);var E=a(763),O=a.n(E);const A=o.forwardRef((function(e,t){return(0,k.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),I=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],Z=()=>{const e=(0,o.useRef)(null),[t,a]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),{makePostRequest:v,cancelRequest:j}=(0,f.u)(),{loading:S,action:R}=(0,y.Z)(),[_,E]=(0,o.useState)([]),[Z,W]=(0,o.useState)([]),[T,N]=(0,o.useState)([]),[P,D]=(0,o.useState)([]),[M,F]=(0,o.useState)([]),[z,G]=(0,o.useState)([]),[U,J]=(0,o.useState)(""),[B,L]=(0,o.useState)(""),[H,q]=(0,o.useState)(""),[K,Q]=(0,o.useState)(),[$,X]=(0,o.useState)(!1),[Y,V]=(0,o.useState)(""),{isPending:ee,isFetching:te,isError:ae,data:oe,refetch:re}=(0,C.a)({queryKey:["Vi_Integration_OEM_wise"],queryFn:async()=>{R(ee);var e=new FormData;e.append("month",U),e.append("year",B);const t=await v("ix_tracker_vi/monthly-oemwise-integration-data/",e);if(t)return R(!1),E(O().map(JSON.parse(t.table_data),"cir")),W(O().map(JSON.parse(t.table_data),"ERICSSON")),N(O().map(JSON.parse(t.table_data),"HUAWEI")),D(O().map(JSON.parse(t.table_data),"NOKIA")),F(O().map(JSON.parse(t.table_data),"SAMSUNG")),G(O().map(JSON.parse(t.table_data),"ZTE")),J(t.month),L(t.year),q("".concat(t.year,"-").concat(t.month<10?"0"+t.month:t.month)),t;R(!1)},staleTime:1e5,refetchOnReconnect:!1});let le;const ne={labels:_,datasets:[{label:"Ericsson",data:Z,borderColor:"black",backgroundColor:["rgb(237,108,2,0.8)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"Huawei",data:T,borderColor:"black",backgroundColor:["rgb(241,4,5,0.6)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"Nokia",data:P,borderColor:"black",backgroundColor:["rgb(0,90,255,0.7)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"Samsung",data:M,borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"ZTE",data:z,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4,borderRadius:5}]},ie={labels:_,datasets:[{label:"Ericsson",data:Z,borderColor:"black",backgroundColor:["rgb(237,108,2,0.8)"],borderWidth:1,fill:!0,tension:.4},{label:"Huawei",data:T,borderColor:"black",backgroundColor:["rgb(241,4,5,0.6)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"Nokia",data:P,borderColor:"black",backgroundColor:["rgb(0,90,255,0.7)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"Samsung",data:M,borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"ZTE",data:z,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1}]},de={responsive:!0,maintainApectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"OEM Wise Integration Count ( ".concat(I[U],"-").concat(B," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:10,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{le=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||le||(t=300*e.dataIndex+100*e.datasetIndex),t}}},se=()=>{m(!1),X(!1)};(0,o.useEffect)((()=>{const t=e.current;t&&(t.canvas.onclick=function(e){const a=t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(a.length>0){const e=a[0],o=t.data.labels[e.index],r=t.data.datasets[e.datasetIndex].label;t.data.datasets[e.datasetIndex].data[e.index];(async()=>{R(!0);var e=new FormData;e.append("circle",o),e.append("oem",r.toUpperCase()),e.append("month",U),e.append("year",B);const t=await v("ix_tracker_vi/hyperlink-monthly-oemwise-integration-data/",e);t?(R(!1),V(r.toUpperCase()),Q(JSON.parse(t.table_data)),X(!0)):R(!1)})()}})}),[ie]);const ce=(0,o.useCallback)((()=>(0,k.jsx)(g.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:A,open:d,onClose:se,children:(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.$Q,{ref:e,data:ie,options:de,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.x1,{data:ne,options:de,plugins:[n.Z,i.ZP,s()]})})]})})),[d]);return(0,o.useEffect)((()=>(oe&&(E(O().map(JSON.parse(oe.table_data),"cir")),W(O().map(JSON.parse(oe.table_data),"ERICSSON")),N(O().map(JSON.parse(oe.table_data),"HUAWEI")),D(O().map(JSON.parse(oe.table_data),"NOKIA")),F(O().map(JSON.parse(oe.table_data),"SAMSUNG")),G(O().map(JSON.parse(oe.table_data),"ZTE")),J(oe.month),L(oe.year),q("".concat(oe.year,"-").concat(oe.month<10?"0"+oe.month:oe.month)),console.log("test data",JSON.parse(oe.table_data))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{j()})),[]),(0,k.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,k.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,k.jsx)(b.Z,{}),"FILTER DATA"]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(p.Z,{style:{fontSize:15},children:"Select Month"}),(0,k.jsx)("input",{type:"month",value:H,onChange:e=>(async e=>{let t=e.split("-");await J(t[1]),await L(t[0]),await q(e),await re()})(e.target.value)})]}),(0,k.jsx)("div",{children:(0,k.jsxs)(u.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{a(!t)},"aria-label":"Platform",children:[(0,k.jsx)(h.Z,{value:!0,children:"Line"}),(0,k.jsx)(h.Z,{value:!1,children:"Bar"})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(l.Z,{color:"primary",endIcon:(0,k.jsx)(x.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,k.jsx)(r.x1,{ref:e,data:ne,options:de,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,k.jsx)(r.$Q,{ref:e,data:ie,options:de,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)(w,{dataset:K,status:$,closeDialog:se,month:"".concat(I[U],"-").concat(B),activity:Y}),ce(),S]})};var W=a(64554),T=a(40835);const N=o.forwardRef((function(e,t){return(0,k.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),P=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],D=["#B0EBB4","#A0DEFF","#FF9F66","#ECB176","#CDE8E5"],M=()=>{const e=(0,o.useRef)(null),[t,a]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),{makePostRequest:v,cancelRequest:j}=(0,f.u)(),{loading:S,action:R}=(0,y.Z)(),[_,w]=(0,o.useState)([]),[E,A]=(0,o.useState)("AP"),[I,Z]=(0,o.useState)("_DE_GROW"),[M,F]=(0,o.useState)([]),[z,G]=(0,o.useState)([]),[U,J]=(0,o.useState)([]),[B,L]=(0,o.useState)([]),[H,q]=(0,o.useState)([]),[K,Q]=(0,o.useState)([]),[$,X]=(0,o.useState)(""),[Y,V]=(0,o.useState)(""),[ee,te]=(0,o.useState)(""),[ae,oe]=(0,o.useState)([]),[re,le]=(0,o.useState)([]),{isPending:ne,isFetching:ie,isError:de,data:se,error:ce,refetch:be}=(0,C.a)({queryKey:["Vi_Integration_month_wise"],queryFn:async()=>{R(!0);var e=new FormData;e.append("month",$),e.append("year",Y);try{const t=await v("ix_tracker_vi/monthwise-integration-data/",e);return R(!1),console.log("graph data",t),t?(X(t.latest_months),V(t.latest_year),te("".concat(t.latest_year[0],"-").concat(t.latest_months[0]<10?"0"+t.latest_months[0]:t.latest_months[0])),w(O().map(JSON.parse(t.table_data),"cir")),le(JSON.parse(t.table_data)),t):{}}catch(ce){return R(!1),console.error("Error fetching data:",ce),{}}},staleTime:1e5,refetchOnReconnect:!1});let pe;console.log("activityData",null!==re&&void 0!==re?re:0);const he=(0,o.useCallback)((()=>{fe();let e={["M1".concat(I)]:0,["M2".concat(I)]:0,["M3".concat(I)]:0,["M4".concat(I)]:0,["M5".concat(I)]:0,["M6".concat(I)]:0};null===_||void 0===_||_.map((e=>{const t=O().filter(re,(t=>O().includes(e,t.cir)));F((e=>[...e,O().get(t[0],"M1".concat(I))])),G((e=>[...e,O().get(t[0],"M2".concat(I))])),J((e=>[...e,O().get(t[0],"M3".concat(I))])),L((e=>[...e,O().get(t[0],"M4".concat(I))])),q((e=>[...e,O().get(t[0],"M5".concat(I))])),Q((e=>[...e,O().get(t[0],"M6".concat(I))]))})),null===re||void 0===re||re.forEach((t=>{for(let a in e)e[a]+=Number(t[a])||0})),oe(Object.entries(e).map((e=>{let[t,a]=e;return{activity:t,count:a}})))}),[E,I,re]),ue={labels:_,datasets:[{label:"".concat(P[$[0]],"-").concat(Y[0]),data:M,borderColor:"rgb(0, 159, 189)",backgroundColor:["rgb(0, 159, 189)"],borderWidth:2,borderRadius:5,fill:!1,tension:.4},{label:"".concat(P[$[1]],"-").concat(Y[1]),data:z,borderColor:"rgb(249, 226, 175)",backgroundColor:["rgb(249, 226, 175)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(P[$[2]],"-").concat(Y[2]),data:U,borderColor:"rgb(63, 162, 246)",backgroundColor:["rgb(63, 162, 246)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(P[$[3]],"-").concat(Y[3]),data:B,borderColor:"rgb(54, 186, 152)",backgroundColor:["rgb(54, 186, 152)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(P[$[4]],"-").concat(Y[4]),data:H,borderColor:"rgb(255, 177, 177)",backgroundColor:["rgb(255, 177, 177)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4,borderRadius:5},{label:"".concat(P[$[5]],"-").concat(Y[5]),data:K,borderColor:"rgb(0,76,156,0.8)",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4,borderRadius:5}]},xe={labels:_,datasets:[{label:"".concat(P[$[0]],"-").concat(Y[0]),data:M,borderColor:"black",backgroundColor:["rgb(0, 159, 189)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"".concat(P[$[1]],"-").concat(Y[1]),data:z,borderColor:"black",backgroundColor:["rgb(249, 226, 175)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(P[$[2]],"-").concat(Y[2]),data:U,borderColor:"black",backgroundColor:["rgb(63, 162, 246)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(P[$[3]],"-").concat(Y[3]),data:B,borderColor:"black",backgroundColor:["rgb(54, 186, 152)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(P[$[4]],"-").concat(Y[4]),data:H,borderColor:"black",backgroundColor:["rgb(255, 177, 177)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(P[$[5]],"-").concat(Y[5]),data:K,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4}]},ge={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Monthly Wise Integration Site Count ( ".concat(P[$[0]],"-").concat(Y[0]," ~ ").concat(P[$[5]],"-").concat(Y[5]," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{pe=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||pe||(t=300*e.dataIndex+100*e.datasetIndex),t}}},me=()=>{m(!1)},fe=()=>{F([]),G([]),J([]),L([]),q([]),Q([])},ye=(0,o.useCallback)((()=>(0,k.jsx)(g.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:N,open:d,onClose:me,children:(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.$Q,{ref:e,data:xe,options:ge,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.x1,{data:ue,options:ge,plugins:[n.Z,i.ZP,s()]})})]})})),[d]);return(0,o.useEffect)((()=>{he()}),[he]),(0,o.useEffect)((()=>(se&&(X(se.latest_months),V(se.latest_year),te("".concat(se.latest_year[0],"-").concat(se.latest_months[0]<10?"0"+se.latest_months[0]:se.latest_months[0])),w(O().map(JSON.parse(se.table_data),"cir")),le(JSON.parse(se.table_data))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{j()})),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(W.Z,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",flexDirection:"row",gap:1,marginBottom:2},children:ae.length>0&&ae.map(((e,t)=>(0,k.jsxs)(W.Z,{sx:{height:"auto",width:"23vh",cursor:"pointer",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:"".concat(D[t]),textAlign:"center"},children:[(0,k.jsx)(W.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:"".concat(P[$[t]],"-").concat(Y[t])}),(0,k.jsx)(W.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:(0,k.jsx)(T.ZP,{end:null===e||void 0===e?void 0:e.count,duration:6})}),(0,k.jsx)(W.Z,{sx:{color:"black",textAlign:"left"},children:null===e||void 0===e?void 0:e.activity.replace(/^M\d_/,"").replace(/_/g," ")})]})))}),(0,k.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,k.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,k.jsx)(b.Z,{}),"FILTER DATA"]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(p.Z,{style:{fontSize:15},children:"Select Month"}),(0,k.jsx)("input",{type:"month",value:ee,onChange:e=>(async e=>{let t=e.split("-");await X(t[1]),await V(t[0]),await te(e),await be()})(e.target.value)})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(p.Z,{style:{fontSize:15},children:"Select Activity"}),(0,k.jsxs)("select",{style:{width:145,height:25,borderRadius:2},value:I,onChange:e=>Z(e.target.value),children:[(0,k.jsx)("option",{selected:!0,value:"_DE_GROW",children:"DE-GROW"}),(0,k.jsx)("option",{value:"_MACRO",children:"MACRO"}),(0,k.jsx)("option",{value:"_RELOCATION",children:"RELOCATION"}),(0,k.jsx)("option",{value:"_RET",children:"RET"}),(0,k.jsx)("option",{value:"_ULS_HPSC",children:"ULS-HPSC"}),(0,k.jsx)("option",{value:"_UPGRADE",children:"UPGRADE"}),(0,k.jsx)("option",{value:"_FEMTO",children:"FEMTO"}),(0,k.jsx)("option",{value:"_TRAFFIC_SHIFTING",children:"TRAFFIC SHIFTING"}),(0,k.jsx)("option",{value:"_RRU_SWAP",children:"RRU SWAP"}),(0,k.jsx)("option",{value:"_HT_INCREMENT",children:"HT-INCREMENT"}),(0,k.jsx)("option",{value:"_IBS",children:"IBS"}),(0,k.jsx)("option",{value:"_IDSC",children:"IDSC"}),(0,k.jsx)("option",{value:"_ODSC",children:"ODSC"}),(0,k.jsx)("option",{value:"_RECTIFICATION",children:"RECTIFICATION"}),(0,k.jsx)("option",{value:"_5G_RELOCATION",children:"5G RELOCATION"}),(0,k.jsx)("option",{value:"_5G_SECTOR_ADDITION",children:"5G SECTOR ADDITION"}),(0,k.jsx)("option",{value:"_5G_RRU_SWAP",children:"5G RRU SWAP"}),(0,k.jsx)("option",{value:"_5G_BBU_UPGRADE",children:"5G BBU UPGRADE"}),(0,k.jsx)("option",{value:"_5G_BW_UPGRADE",children:"5G BW UPGRADE"}),(0,k.jsx)("option",{value:"_5G_AIR_SWAP",children:"5G AIR SWAP"}),(0,k.jsx)("option",{value:"_OPERATIONS",children:"OPERATIONS"}),(0,k.jsx)("option",{value:"_OTHERS",children:"OTHER"})]})]}),(0,k.jsx)("div",{children:(0,k.jsxs)(u.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{a(!t)},"aria-label":"Platform",children:[(0,k.jsx)(h.Z,{value:!0,children:"Line"}),(0,k.jsx)(h.Z,{value:!1,children:"Bar"})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(l.Z,{color:"primary",endIcon:(0,k.jsx)(x.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,k.jsx)(r.x1,{ref:e,data:ue,options:ge,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,k.jsx)(r.$Q,{ref:e,data:xe,options:ge,plugins:[n.Z,i.ZP,s()]})}),ye(),S]})]})},F=o.forwardRef((function(e,t){return(0,k.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),z=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],G=["rgb(255, 99, 132,0.7)","rgb(54, 162, 235,0.7)","rgb(255, 206, 86,0.7)","rgb(75, 192, 192,0.7)","rgb(153, 102, 255,0.7)","rgb(255, 159, 64,0.7)","rgb(201, 203, 207,0.7)","rgb(255, 99, 71,0.7)","rgb(144, 238, 144,0.7)","rgb(135, 206, 235,0.7)","rgb(255, 182, 193)","rgb(173, 216, 230)","rgb(255, 228, 196)","rgb(124, 252, 0)","rgb(255, 140, 0)","rgb(220, 20, 60)","rgb(255, 215, 0)","rgb(0, 255, 127)","rgb(70, 130, 180)","rgb(240, 128, 128)"],U=()=>{const e=(0,o.useRef)(null),[t,a]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),{makePostRequest:v,cancelRequest:j}=(0,f.u)(),{loading:S,action:R}=(0,y.Z)(),[_,w]=(0,o.useState)(["ORI","AP","UPW","RAJ","BIH","UPE","KK","KOL","JRK","WB","HRY","ROTN","PUN","MP","MUM","DEL","JK","CHN"]),[E,A]=(0,o.useState)("AP"),[I,Z]=(0,o.useState)("_DE_GROW"),[W,T]=(0,o.useState)(""),[N,P]=(0,o.useState)(""),[D,M]=(0,o.useState)(""),[U,J]=(0,o.useState)([]),[B,L]=(0,o.useState)(),[H,q]=(0,o.useState)([]),{isPending:K,isFetching:Q,isError:$,data:X,error:Y,refetch:V}=(0,C.a)({queryKey:["Vi_Integration_month_wises"],queryFn:async()=>{R(K);var e=new FormData;e.append("month",W),e.append("year",N);try{const t=await v("ix_tracker_vi/monthwise-integration-data/",e);return R(!1),t?(T(t.latest_months),P(t.latest_year),M("".concat(t.latest_year[0],"-").concat(t.latest_months[0]<10?"0"+t.latest_months[0]:t.latest_months[0])),J(O().uniqBy(t.download_data,"Activity_Name").map((e=>e.Activity_Name))),L(t.download_data),t):{}}catch(Y){return R(!1),console.error("Error fetching data:",Y),{}}},staleTime:1e5,refetchOnReconnect:!1});let ee;const te=(0,o.useCallback)((()=>{ne();const e={};null===B||void 0===B||B.forEach((t=>{const a="".concat(t.CIRCLE,"_").concat(t.Site_ID,"_").concat(t.Activity_Name);e[a]?e[a]++:e[a]=1}));const t=Object.keys(e).map((t=>{let[a,o,r]=t.split("_");return{CIRCLE:a,Site_ID:o,Activity_Name:r,count:e[t]}}));let a=O().filter(t,(e=>O().includes(E,e.CIRCLE)));const o=[];U.map((e=>{let t=O().filter(a,(t=>O().includes(e,t.Activity_Name))).length;o.push({Activity:e,Count:t})})),console.log("countArray",o),q(o)}),[E,I,B]),ae={labels:[E],datasets:H.map(((e,t)=>({label:e.Activity,data:[e.Count],borderColor:"black",backgroundColor:[G[t]],borderWidth:1,borderRadius:5,fill:!0,tension:.4})))},oe={labels:[E],datasets:H.map(((e,t)=>({label:e.Activity,data:[e.Count],borderColor:"black",backgroundColor:[G[t]],borderWidth:1,borderRadius:5,fill:!0,tension:.4})))},re={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Count Of Distinct Activities ( ".concat(z[W[0]],"-").concat(N[0]," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{ee=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||ee||(t=300*e.dataIndex+100*e.datasetIndex),t}}},le=()=>{m(!1)},ne=()=>{},ie=(0,o.useCallback)((()=>(0,k.jsx)(g.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:F,open:d,onClose:le,children:(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.$Q,{ref:e,data:oe,options:re,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,k.jsx)(r.x1,{data:ae,options:re,plugins:[n.Z,i.ZP,s()]})})]})})),[d]);return(0,o.useEffect)((()=>{te()}),[te]),(0,o.useEffect)((()=>(X&&(T(X.latest_months),P(X.latest_year),M("".concat(X.latest_year[0],"-").concat(X.latest_months[0]<10?"0"+X.latest_months[0]:X.latest_months[0])),L(X.download_data)),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{j()})),[]),(0,k.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,k.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,k.jsx)(b.Z,{}),"FILTER DATA"]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(p.Z,{style:{fontSize:15},children:"Select Month"}),(0,k.jsx)("input",{type:"month",value:D,onChange:e=>(async e=>{let t=e.split("-");await T(t[1]),await P(t[0]),await M(e),await V()})(e.target.value)})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(p.Z,{style:{fontSize:15},children:"Select Circle"}),(0,k.jsx)("select",{style:{width:145,height:25,borderRadius:2},value:E,onChange:e=>A(e.target.value),children:null===_||void 0===_?void 0:_.map(((e,t)=>(0,k.jsx)("option",{children:e},t)))})]}),(0,k.jsx)("div",{children:(0,k.jsxs)(u.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{a(!t)},"aria-label":"Platform",children:[(0,k.jsx)(h.Z,{value:!0,children:"Line"}),(0,k.jsx)(h.Z,{value:!1,children:"Bar"})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(l.Z,{color:"primary",endIcon:(0,k.jsx)(x.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,k.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,k.jsx)(r.x1,{ref:e,data:ae,options:re,plugins:[n.Z,i.ZP,s()]})}),(0,k.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,k.jsx)(r.$Q,{ref:e,data:oe,options:re,plugins:[n.Z,i.ZP,s()]})}),ie(),S]})};var J=a(93517),B=a(50533),L=a(4567),H=a(57689),q=a(5397);const K=()=>{const e=(0,H.s0)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,k.jsxs)(J.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,k.jsx)(q.Z,{fontSize:"small"}),children:[(0,k.jsx)(B.Z,{underline:"hover",onClick:()=>{e("/tools")},children:"Tools"}),(0,k.jsx)(B.Z,{underline:"hover",onClick:()=>{e("/tools/ix_tools")},children:"IX Tools"}),(0,k.jsx)(B.Z,{underline:"hover",onClick:()=>{e("/tools/ix_tools/vi_integration")},children:"VI Tracker"}),(0,k.jsx)(L.Z,{color:"text.primary",children:"Dashboard"})]})}),(0,k.jsxs)(W.Z,{sx:{margin:2},children:[(0,k.jsx)(M,{}),(0,k.jsx)("br",{}),(0,k.jsx)(Z,{}),(0,k.jsx)("br",{}),(0,k.jsx)(U,{})]})]})}}}]);
//# sourceMappingURL=959.277d7196.chunk.js.map