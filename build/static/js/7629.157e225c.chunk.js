"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[7629],{88845:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(72791),l=n(5574),a=n(39157),i=n(64554),o=n(63571),r=n(80184);const c=()=>{const[e,t]=(0,s.useState)(!1);return{loading:(0,s.useMemo)((()=>(0,r.jsx)(l.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,r.jsx)(i.Z,{style:{textAlign:"center"},children:(0,r.jsx)(o.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,r.jsx)(i.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{t(e)}}}},57629:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var s=n(72791),l=n(64554),a=n(93517),i=n(50533),o=n(4567),r=n(5397),c=n(57689),d=n(93006),p=n(97639),h=n(90977),x=n(73518),u=n(39281),g=n(4841),j=n(55931),y=n(88845),m=n(12998),b=n(77196),C=n(50168),f=n(82626),S=n(45363),I=n(49900),v=n(17563),w=n(13034),k=n(44997),Z=(n(64197),n(763),n(80184));const N=e=>{let{label:t,options:n,selectedValues:s,setSelectedValues:l}=e;const a=n.length>0&&s.length===n.length;return(0,Z.jsxs)(S.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,Z.jsx)(C.Z,{id:"".concat(t,"-label"),children:t}),(0,Z.jsxs)(v.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:s,onChange:e=>{const{value:t}=e.target,a="string"===typeof t?t.split(","):t;a.includes("ALL")?s.length===n.length?l([]):l(n):l(a)},input:(0,Z.jsx)(b.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,Z.jsxs)(f.Z,{value:"ALL",children:[(0,Z.jsx)(w.Z,{checked:a,indeterminate:s.length>0&&s.length<n.length}),(0,Z.jsx)(I.Z,{primary:"Select All"})]}),n.map((e=>(0,Z.jsxs)(f.Z,{value:e,children:[(0,Z.jsx)(w.Z,{checked:s.includes(e)}),(0,Z.jsx)(I.Z,{primary:e})]},e)))]})]})},A=Array.from({length:50},((e,t)=>t+1)),D=()=>{const e=s.useRef(null),{loading:t,action:n}=(0,y.Z)(),[a,i]=(0,s.useState)([]),[o,r]=(0,s.useState)([]),[c,b]=(0,s.useState)([]),[I,w]=(0,s.useState)([]),[D,W]=(0,s.useState)([]),[z,R]=(0,s.useState)([]),[_,T]=(0,s.useState)([]),[O,B]=(0,s.useState)("RFAI"),[F,P]=(0,s.useState)("Integration"),[M,V]=(0,s.useState)(["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"]),[E,L]=(0,s.useState)(3),[q,J]=(0,s.useState)(8),[U,H]=(0,s.useState)(""),[G,K]=(0,s.useState)("type1"),[Q,X]=(0,s.useState)("not considered"),[Y,$]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[ne,se]=(0,s.useState)(""),le=(0,m.y)(),ae=(t,n)=>{const s=Number(n);e.current&&clearTimeout(e.current),e.current=setTimeout((()=>{let e=E,n=q;"bp1"===t&&(e=s),"bp2"===t&&(n=s);Math.abs(e-n)<3?alert("\u26a0\ufe0f Breakpoint difference must be at least 3"):("bp1"===t&&L(s),"bp2"===t&&J(s))}),300)};return(0,s.useEffect)((()=>{$("RFAI"==O&&"Site ONAIR"==F),te("considered"==Q)}),[O,F,Q]),(0,s.useEffect)((()=>{(async()=>{n(!0);var e=new FormData;e.append("site_tagging",a),e.append("current_status",c),e.append("milestone1",O),e.append("milestone2",F),e.append("breakpoint1",E),e.append("breakpoint2",q),e.append("month",U.split("-")[1]||""),e.append("year",U.split("-")[0]||""),Y&&e.append("issue",Q),e.append("type",G);const t=await(0,k.qC)("alok_tracker/ageing_dashboard_file/",e);console.log("MOS response",t),t?(n(!1),R(JSON.parse(t.json_data.done_summary)),T(JSON.parse(t.json_data.pending_summary)),L(t.breakpoint1),J(t.breakpoint2),0===I.length&&0===o.length&&(w(t.unique_data.unique_current_status),r(t.unique_data.unique_site_tagging)),se(t.download_link)):n(!1)})()}),[a,c,O,F,E,q,U,G,Q]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("style",{children:"th{border:1px solid black;}"}),(0,Z.jsx)(j.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,Z.jsxs)("div",{style:{margin:20},children:[(0,Z.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,Z.jsxs)(l.Z,{style:{fontSize:22,fontWeight:"bold"},children:[O," to ",F," Aging"]}),(0,Z.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,Z.jsxs)(S.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-select-small-label",children:"Type"}),(0,Z.jsxs)(v.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:G,label:"Type",onChange:e=>{K(e.target.value)},children:[(0,Z.jsx)(f.Z,{value:"type1",children:"Sequential Independent"}),(0,Z.jsx)(f.Z,{value:"type2",children:"Combined Overlapping"})]})]}),(0,Z.jsx)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:(0,Z.jsx)(d.Z,{variant:"outlined",fullWidth:!0,label:"Month",name:"month",value:U,onChange:e=>{H(e.target.value)},size:"small",type:"month",InputLabelProps:{shrink:!0}})}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"milestone1"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"milestone1",onChange:e=>{B(e.target.value)},disabled:ee,children:null===M||void 0===M?void 0:M.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"milestone2"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:F,label:"milestone2",onChange:e=>{P(e.target.value)},disabled:ee,children:null===M||void 0===M?void 0:M.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"Breakpoint 1"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"Breakpoint 1",onChange:e=>ae("bp1",e.target.value),children:null===A||void 0===A?void 0:A.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"Breakpoint 2"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:q,label:"Breakpoint 2",onChange:e=>ae("bp2",e.target.value),children:null===A||void 0===A?void 0:A.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsx)(N,{label:"Site Tagging",options:o,selectedValues:a,setSelectedValues:i}),(0,Z.jsx)(N,{label:"Current Status",options:I,selectedValues:c,setSelectedValues:b}),(0,Z.jsx)(p.Z,{title:"Download Ageing Data",children:(0,Z.jsx)(h.Z,{component:"a",href:ne,download:!0,children:(0,Z.jsx)(x.Z,{fontSize:"large",color:"primary"})})})]})]}),(0,Z.jsxs)(l.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[(0,Z.jsx)(u.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:g.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,Z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,Z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,Z.jsxs)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",backgroundColor:"#006e74"},children:[O," Done Count"]}),(0,Z.jsxs)("th",{colSpan:5,style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[O," to ",F," - Completed"]})]}),(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"balck",border:"1px solid white"},children:[(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[F," Done Count"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" <=",E," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[E+1,"-",q-1," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" >=",q," days"]}),(0,Z.jsx)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:"Average"})]})]}),(0,Z.jsx)("tbody",{children:null===z||void 0===z?void 0:z.map(((e,t)=>"Total"===e.Circle?(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:"bolder",backgroundColor:"#ffd3be"},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,color:"black",zIndex:3,backgroundColor:"#ffd3be"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Done Count")]))?"-":parseInt(e["".concat(F," Done Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t):(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#CBCBCB",color:"black"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Done Count")]))?"-":parseInt(e["".concat(F," Done Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t)))})]})}),"type2"==G?(0,Z.jsx)(u.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:g.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,Z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,Z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,Z.jsxs)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",backgroundColor:"#006e74"},children:[O," Done Count"]}),(0,Z.jsxs)("th",{colSpan:5,style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[O," to ",F," - Incompleted"]})]}),(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"balck",border:"1px solid white"},children:[(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[F," Pending Count"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" <=",E," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[E+1,"-",q-1," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" >=",q," days"]}),(0,Z.jsx)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:"Average"})]})]}),(0,Z.jsx)("tbody",{children:null===_||void 0===_?void 0:_.map(((e,t)=>"Total"===e.Circle?(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700,backgroundColor:"#ffd3be"},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,color:"black",backgroundColor:"#ffd3be"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Pending Count")]))?"-":parseInt(e["".concat(F," Pending Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t):(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#CBCBCB",color:"black"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Pending Count")]))?"-":parseInt(e["".concat(F," Pending Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t)))})]})}):(0,Z.jsx)(Z.Fragment,{})]})]})}),t]})};n(22151);var W=n(25415);const z=e=>{let{label:t,options:n,selectedValues:s,setSelectedValues:l}=e;const a=n.length>0&&s.length===n.length;return(0,Z.jsxs)(S.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,Z.jsx)(C.Z,{id:"".concat(t,"-label"),children:t}),(0,Z.jsxs)(v.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:s,onChange:e=>{const{value:t}=e.target,a="string"===typeof t?t.split(","):t;a.includes("ALL")?s.length===n.length?l([]):l(n):l(a)},input:(0,Z.jsx)(b.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,Z.jsxs)(f.Z,{value:"ALL",children:[(0,Z.jsx)(w.Z,{checked:a,indeterminate:s.length>0&&s.length<n.length}),(0,Z.jsx)(I.Z,{primary:"Select All"})]}),n.map((e=>(0,Z.jsxs)(f.Z,{value:e,children:[(0,Z.jsx)(w.Z,{checked:s.includes(e)}),(0,Z.jsx)(I.Z,{primary:e})]},e)))]})]})},R=()=>{var e,t;const{loading:n,action:a}=(0,y.Z)(),[i,o]=(0,s.useState)([]),[r,c]=(0,s.useState)([]),[b,I]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[A,D]=(0,s.useState)([]),[R,_]=(0,s.useState)("RFAI"),[T,O]=(0,s.useState)("Integration"),[B,F]=(0,s.useState)(["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"]),[P,M]=(0,s.useState)(""),V=Object.keys((null===A||void 0===A||null===(e=A[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Done)||[]);console.log("table data",V);const E=(0,m.y)(),L=e=>{const t={};return e.forEach((e=>{const n=e.Circle,s=e["Site Status"];t[n]||(t[n]={Circle:n,data:{Done:null,Pending:null}});const{Circle:l,"Site Status":a,...i}=e;t[n].data[s]=i})),Object.values(t)};return(0,s.useEffect)((()=>{(async()=>{a(!0);var e=new FormData;e.append("site_tagging",i),e.append("current_status",b),e.append("milestone1",R),e.append("milestone2",T),e.append("month",P.split("-")[1]||""),e.append("year",P.split("-")[0]||"");const t=await(0,k.qC)("alok_tracker/graphs/",e);console.log(" rfai data",L(JSON.parse(t.json_data.table_summary))),t?(a(!1),D(L(JSON.parse(t.json_data.table_summary))),0===w.length&&0===r.length&&(N(t.unique_data.unique_current_status),c(t.unique_data.unique_site_tagging))):a(!1)})()}),[i,b,R,T,P]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("style",{children:"th{border:1px solid black;}"}),(0,Z.jsx)(j.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,Z.jsxs)("div",{style:{margin:20},children:[(0,Z.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center",margin:"5px 5px"},children:[(0,Z.jsxs)(l.Z,{style:{fontSize:22,fontWeight:"bold"},children:["Done Vs Pending Count - ",R," to ",T]}),(0,Z.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,Z.jsx)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:(0,Z.jsx)(d.Z,{variant:"outlined",fullWidth:!0,label:"Month",name:"month",value:P,onChange:e=>{M(e.target.value)},size:"small",type:"month",InputLabelProps:{shrink:!0}})}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"milestone1"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:R,label:"milestone1",onChange:e=>{_(e.target.value)},children:null===B||void 0===B?void 0:B.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"milestone2"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:T,label:"milestone2",onChange:e=>{O(e.target.value)},children:null===B||void 0===B?void 0:B.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsx)(z,{label:"Site Tagging",options:r,selectedValues:i,setSelectedValues:o}),(0,Z.jsx)(z,{label:"Current Status",options:w,selectedValues:b,setSelectedValues:I}),(0,Z.jsx)(p.Z,{title:"Download Done Vs Pending Count",children:(0,Z.jsx)(h.Z,{component:"a",onClick:async()=>{const e=new W.Workbook,t=e.addWorksheet("Done Vs Pending Count"),n=[{header:"Circle",key:"circle",width:15},{header:"Type",key:"type",width:10}];V.forEach((e=>{n.push({header:e,key:e,width:15})})),t.columns=n,A.forEach((e=>{const{Circle:n,data:s}=e,l=s.Done||{},a=s.Pending||{},i={circle:n,type:"Done"};V.forEach((e=>{var t;i[e]=null!==(t=l[e])&&void 0!==t?t:"-"})),t.addRow(i);const o={circle:n,type:"Pending"};V.forEach((e=>{var t;o[e]=null!==(t=a[e])&&void 0!==t?t:"-"})),t.addRow(o)})),t.eachRow(((e,t)=>{e.eachCell((e=>{e.alignment={horizontal:"center",vertical:"middle"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},1===t&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"223354"}},e.font={color:{argb:"FFFFFF"},bold:!0})}))}));const s=await e.xlsx.writeBuffer(),l=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(l),i=document.createElement("a");i.href=a,i.download="".concat(R,"_to_").concat(T,".xlsx"),i.click(),window.URL.revokeObjectURL(a)},download:!0,children:(0,Z.jsx)(x.Z,{fontSize:"large",color:"primary"})})})]})]}),(0,Z.jsx)(l.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:(0,Z.jsx)(u.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:g.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse"},children:[(0,Z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,Z.jsxs)("tr",{style:{backgroundColor:"#223354",color:"white"},children:[(0,Z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,Z.jsx)("th",{colSpan:V.length+1,children:"Milestone Summary"})]}),(0,Z.jsxs)("tr",{style:{backgroundColor:"#CBCBCB"},children:[(0,Z.jsx)("th",{children:"Type"}),V.map((e=>(0,Z.jsx)("th",{children:e},e)))]})]}),(0,Z.jsx)("tbody",{children:null===A||void 0===A?void 0:A.map(((e,t)=>{const{Circle:n,data:l}=e,a=l.Done||{},i=l.Pending||{};return(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsxs)("tr",{className:E.tableRow,style:{textAlign:"center"},children:[(0,Z.jsx)("th",{rowSpan:2,children:n}),(0,Z.jsx)("th",{children:"Done"}),V.map((e=>{var t;return(0,Z.jsx)("th",{children:null!==(t=a[e])&&void 0!==t?t:"-"},e)}))]}),(0,Z.jsxs)("tr",{className:E.tableRow,style:{textAlign:"center"},children:[(0,Z.jsx)("th",{children:"Pending"}),V.map((e=>{var t;return(0,Z.jsx)("th",{children:null!==(t=i[e])&&void 0!==t?t:"-"},e)}))]})]},t)}))})]})})})]})}),n]})},_=e=>{let{label:t,options:n,selectedValues:s,setSelectedValues:l}=e;const a=n.length>0&&s.length===n.length;return(0,Z.jsxs)(S.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,Z.jsx)(C.Z,{id:"".concat(t,"-label"),children:t}),(0,Z.jsxs)(v.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:s,onChange:e=>{const{value:t}=e.target,a="string"===typeof t?t.split(","):t;a.includes("ALL")?s.length===n.length?l([]):l(n):l(a)},input:(0,Z.jsx)(b.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,Z.jsxs)(f.Z,{value:"ALL",children:[(0,Z.jsx)(w.Z,{checked:a,indeterminate:s.length>0&&s.length<n.length}),(0,Z.jsx)(I.Z,{primary:"Select All"})]}),n.map((e=>(0,Z.jsxs)(f.Z,{value:e,children:[(0,Z.jsx)(w.Z,{checked:s.includes(e)}),(0,Z.jsx)(I.Z,{primary:e})]},e)))]})]})},T=Array.from({length:50},((e,t)=>t+1)),O=()=>{const e=s.useRef(null),{loading:t,action:n}=(0,y.Z)(),[a,i]=(0,s.useState)([]),[o,r]=(0,s.useState)([]),[c,b]=(0,s.useState)([]),[I,w]=(0,s.useState)([]),[N,A]=(0,s.useState)([]),[D,W]=(0,s.useState)([]),[z,R]=(0,s.useState)([]),[O,B]=(0,s.useState)("RFAI"),[F,P]=(0,s.useState)("Site ONAIR"),[M,V]=(0,s.useState)(["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"]),[E,L]=(0,s.useState)(3),[q,J]=(0,s.useState)(8),[U,H]=(0,s.useState)(""),[G,K]=(0,s.useState)("type1"),[Q,X]=(0,s.useState)("not considered"),[Y,$]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[ne,se]=(0,s.useState)(""),le=(0,m.y)(),ae=(t,n)=>{const s=Number(n);e.current&&clearTimeout(e.current),e.current=setTimeout((()=>{let e=E,n=q;"bp1"===t&&(e=s),"bp2"===t&&(n=s);Math.abs(e-n)<3?alert("\u26a0\ufe0f Breakpoint difference must be at least 3"):("bp1"===t&&L(s),"bp2"===t&&J(s))}),300)};return(0,s.useEffect)((()=>{te("considered"==Q)}),[Q]),(0,s.useEffect)((()=>{(async()=>{n(!0);var e=new FormData;e.append("site_tagging",a),e.append("current_status",c),e.append("breakpoint1",E),e.append("breakpoint2",q),e.append("month",U.split("-")[1]||""),e.append("year",U.split("-")[0]||""),e.append("issue",Q),e.append("type",G);const t=await(0,k.qC)("alok_tracker/ageing_dashboard_issues/",e);console.log("MOS2 response",t),t?(n(!1),W(JSON.parse(t.json_data.done_summary)),R(JSON.parse(t.json_data.pending_summary)),L(t.breakpoint1),J(t.breakpoint2),0===I.length&&0===o.length&&(w(t.unique_data.unique_current_status),r(t.unique_data.unique_site_tagging)),se(t.download_link)):n(!1)})()}),[a,c,E,q,U,G,Q]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("style",{children:"th{border:1px solid black;}"}),(0,Z.jsx)(j.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,Z.jsxs)("div",{style:{margin:20},children:[(0,Z.jsxs)(l.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,Z.jsx)(l.Z,{style:{fontSize:22,fontWeight:"bold"},children:"RFAI to Site On-Air Aging"}),(0,Z.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,Z.jsxs)(S.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-select-small-label",children:"Issue"}),(0,Z.jsxs)(v.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:Q,label:"Issue",onChange:e=>{X(e.target.value)},children:[(0,Z.jsx)(f.Z,{value:"considered",children:"Considered"}),(0,Z.jsx)(f.Z,{value:"not considered",children:"Not Considered"})]})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-select-small-label",children:"Type"}),(0,Z.jsxs)(v.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:G,label:"Type",onChange:e=>{K(e.target.value)},children:[(0,Z.jsx)(f.Z,{value:"type1",children:"Sequential Independent"}),(0,Z.jsx)(f.Z,{value:"type2",children:"Combined Overlapping"})]})]}),(0,Z.jsx)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:(0,Z.jsx)(d.Z,{variant:"outlined",fullWidth:!0,label:"Month",name:"month",value:U,onChange:e=>{H(e.target.value)},size:"small",type:"month",InputLabelProps:{shrink:!0}})}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"Breakpoint 1"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"Breakpoint 1",onChange:e=>ae("bp1",e.target.value),children:null===T||void 0===T?void 0:T.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsxs)(S.Z,{sx:{minWidth:100,maxWidth:100},size:"small",children:[(0,Z.jsx)(C.Z,{id:"demo-simple-select-label",children:"Breakpoint 2"}),(0,Z.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:q,label:"Breakpoint 2",onChange:e=>ae("bp2",e.target.value),children:null===T||void 0===T?void 0:T.map(((e,t)=>(0,Z.jsx)(f.Z,{value:e,children:e},t)))})]}),(0,Z.jsx)(_,{label:"Site Tagging",options:o,selectedValues:a,setSelectedValues:i}),(0,Z.jsx)(_,{label:"Current Status",options:I,selectedValues:c,setSelectedValues:b}),(0,Z.jsx)(p.Z,{title:"Download Ageing Data",children:(0,Z.jsx)(h.Z,{component:"a",href:ne,download:!0,children:(0,Z.jsx)(x.Z,{fontSize:"large",color:"primary"})})})]})]}),(0,Z.jsxs)(l.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[(0,Z.jsx)(u.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:g.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,Z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,Z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,Z.jsxs)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",backgroundColor:"#006e74"},children:[O," Done Count"]}),(0,Z.jsxs)("th",{colSpan:5,style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[O," to ",F," - Completed"]})]}),(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"balck",border:"1px solid white"},children:[(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[F," Done Count"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" <=",E," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[E+1,"-",q-1," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" >=",q," days"]}),(0,Z.jsx)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:"Average"})]})]}),(0,Z.jsx)("tbody",{children:null===D||void 0===D?void 0:D.map(((e,t)=>"Total"===e.Circle?(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:"bolder",backgroundColor:"#ffd3be"},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,color:"black",zIndex:3,backgroundColor:"#ffd3be"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Done Count")]))?"-":parseInt(e["".concat(F," Done Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t):(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#CBCBCB",color:"black"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Done Count")]))?"-":parseInt(e["".concat(F," Done Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t)))})]})}),"type2"==G?(0,Z.jsx)(u.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:g.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,Z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,Z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,Z.jsxs)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",backgroundColor:"#006e74"},children:[O," Done Count"]}),(0,Z.jsxs)("th",{colSpan:5,style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[O," to ",F," - Incompleted"]})]}),(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"balck",border:"1px solid white"},children:[(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[F," Pending Count"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" <=",E," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[E+1,"-",q-1," days"]}),(0,Z.jsxs)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:[" >=",q," days"]}),(0,Z.jsx)("th",{style:{padding:"1px 1px",whiteSpace:"nowrap"},children:"Average"})]})]}),(0,Z.jsx)("tbody",{children:null===z||void 0===z?void 0:z.map(((e,t)=>"Total"===e.Circle?(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700,backgroundColor:"#ffd3be"},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,color:"black",backgroundColor:"#ffd3be"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Pending Count")]))?"-":parseInt(e["".concat(F," Pending Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t):(0,Z.jsxs)("tr",{className:le.hoverRT,style:{textAlign:"center",fontWeigth:700},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#CBCBCB",color:"black"},children:e.Circle}),(0,Z.jsx)("th",{style:{position:"sticky",color:"black"},children:e["".concat(O," Done Count")]}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(F," Pending Count")]))?"-":parseInt(e["".concat(F," Pending Count")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["<= ".concat(E," days")]))?"-":parseInt(e["<= ".concat(E," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["".concat(E+1,"-").concat(q-1," days")]))?"-":parseInt(e["".concat(E+1,"-").concat(q-1," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e[">= ".concat(q," days")]))?"-":parseInt(e[">= ".concat(q," days")])}),(0,Z.jsx)("th",{children:isNaN(parseInt(e["Average Days"]))?"-":parseInt(e["Average Days"])})]},t)))})]})}):(0,Z.jsx)(Z.Fragment,{})]})]})}),t]})},B=()=>{const e=(0,c.s0)();return(0,s.useEffect)((()=>{document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,Z.jsxs)(a.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,Z.jsx)(r.Z,{fontSize:"small"}),children:[(0,Z.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools")},children:"Tools"}),(0,Z.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools/relocation_tracking")},children:"Relocation Tracking"}),(0,Z.jsx)(o.Z,{color:"text.primary",children:"RFAI to MS1 Aging"})]})}),(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(R,{})}),(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(D,{})}),(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(O,{})})]})}}}]);
//# sourceMappingURL=7629.157e225c.chunk.js.map