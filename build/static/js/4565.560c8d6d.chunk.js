"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[4565],{88845:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(72791),i=a(5574),s=a(39157),n=a(64554),r=a(63571),o=a(80184);const d=()=>{const[e,t]=(0,l.useState)(!1);return{loading:(0,l.useMemo)((()=>(0,o.jsx)(i.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(n.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,o.jsx)(n.Z,{style:{textAlign:"center"},children:(0,o.jsx)(r.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,o.jsx)(n.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})})),[e]),action:e=>{t(e)}}}},44565:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var l=a(72791),i=a(13838),s=a(93517),n=a(50533),r=a(4567),o=a(5397),d=a(57689),c=a(64554),u=a(61889),p=a(50168),x=a(82626),h=a(45363),m=a(17563),v=a(29823),f=a(90977),j=a(39281),y=a(4841),b=a(93006),g=a(14524),Z=a(80184);const C=[{title:"Allocation",dateKey:"allocation_date"},{title:"RFAI",dateKey:"rfai_date"},{title:"RFAI Survey",dateKey:"rfai_survey_date"},{title:"MO Punch",dateKey:"mo_punch_date"},{title:"Material Dispatch",dateKey:"material_dispatch_date"},{title:"Material Delivered",dateKey:"material_delivered_date"},{title:"Installation End",dateKey:"installation_end_date"},{title:"Integration",dateKey:"integration_date"},{title:"EMF Submission",dateKey:"emf_submission_date"},{title:"Alarm Rectification Done",dateKey:"alarm_rectification_done_date"},{title:"SCFT I-Deploy Offered",dateKey:"scft_i_deploy_offered_date"},{title:"RAN PAT Offer",dateKey:"ran_pat_offer_date"},{title:"RAN SAT Offer",dateKey:"ran_sat_offer_date"},{title:"MW PAT Offer",dateKey:"mw_pat_offer_date"},{title:"MW SAT Offer",dateKey:"mw_sat_offer_date"},{title:"Site ONAIR",dateKey:"site_onair_date"},{title:"I-Deploy ONAIR",dateKey:"i_deploy_onair_date"}],_=e=>{const{mileston:t}=e;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("ol",{className:"timeline",children:C.map(((e,a)=>{var l;return(0,Z.jsxs)("li",{className:"timeline-item",children:[(0,Z.jsx)("div",{className:"timeline-circle"}),(0,Z.jsxs)("div",{className:"timeline-content",children:[(0,Z.jsx)("h4",{children:e.title}),(0,Z.jsx)("p",{children:(null===t||void 0===t||null===(l=t[0])||void 0===l?void 0:l[e.dateKey])||"\u2014"})]})]},a)}))})})};var k=a(61982),w=a(44997),S=a(88845),I=a(12998),D=a(5574),z=a(65661),A=a(39157),N=a(53793),M=a(41286),K=a(64558),P=a(94721),O=a(31243),R=a(21830),B=a.n(R);const E=["MW","PRI","Fiber","Material"],L=()=>{const e=(0,I.y)(),t=(0,d.s0)(),a=(0,k.b)("userID"),[C,R]=(0,l.useState)(""),[L,T]=(0,l.useState)(),[W,F]=(0,l.useState)({}),[J,H]=(0,l.useState)([]),[V,U]=(0,l.useState)(),[q,G]=(0,l.useState)(!1),{action:$,loading:X}=(0,S.Z)(),Q=e=>{const{name:t,value:a}=e.target;F((e=>({...e,[t]:a})))},Y=e=>{const{name:t,value:a}=e.target;U((e=>({...e,[t]:a})))},ee=async e=>{e.preventDefault();const t=J.map((e=>e.Index===V.Index?{...e,...V}:e));H(t),(async e=>{$(!0);try{const l=new FormData;l.append("siteId",C),l.append("userId",a),l.append("timeline",JSON.stringify(e));const i=await O.Z.post("".concat(w.hN,"/alok_tracker/issue_timeline_update/"),l,{headers:{Authorization:"token ".concat((0,k.b)("tokenKey"))}});var t;i.status&&(G(!1),$(!1),ae(),H(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.json_data),B().fire({icon:"success",title:"Done",text:"Issue Date Updated Successfully!"}))}catch(s){var l,i;G(!1),$(!1),ae(),B().fire({icon:"error",title:"Error",text:"".concat((null===(l=s.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error)||s.message)})}})(t)},te=e=>{if(!e||"nan"===e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{1,2}-[A-Za-z]{3}-\d{2}$/.test(e)){const[t,a,l]=e.split("-"),i={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=Number(l)<50?"20"+l:"19"+l;return"".concat(s,"-").concat(i[a],"-").concat(t.padStart(2,"0"))}return e},ae=()=>{U()};return(0,l.useEffect)((()=>{document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("style",{children:"th{border:1px solid black;}"}),(0,Z.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,Z.jsxs)(s.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,Z.jsx)(o.Z,{fontSize:"small"}),children:[(0,Z.jsx)(n.Z,{underline:"hover",onClick:()=>{t("/tools")},children:"Tools"}),(0,Z.jsx)(n.Z,{underline:"hover",onClick:()=>{t("/tools/relocation_tracking")},children:"Relocation Tracking"}),(0,Z.jsx)(r.Z,{color:"text.primary",children:"Site Lifecycle"})]})}),(0,Z.jsx)("div",{style:{height:"auto",width:"99%",margin:"5px 5px",padding:"2px",border:"0px solid black",borderRadius:"10px",padding:"2px",display:"flex"},children:(0,Z.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(u.ZP,{item:!0,xs:10,style:{display:"flex"},children:(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),$(!0);try{const e=new FormData;e.append("siteId",C),e.append("userId",a);const i=await O.Z.post("".concat(w.hN,"/alok_tracker/lifecycle_display/"),e,{headers:{Authorization:"token ".concat((0,k.b)("tokenKey"))}}),s=await O.Z.post("".concat(w.hN,"/alok_tracker/issue_timeline_display/"),e,{headers:{Authorization:"token ".concat((0,k.b)("tokenKey"))}});var t,l;if(i.status)$(!1),console.log("site id responce ",s),H(JSON.parse(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.json_data)),T(JSON.parse(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.json_data)),B().fire({icon:"success",title:"Done",text:"This Site-ID Found in database"})}catch(n){var i,s;$(!1),console.log("aaaaa",n),B().fire({icon:"error",title:"Error",text:" ".concat((null===(i=n.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.error)||n.message)})}},style:{display:"flex",justifyContent:"center",gap:5},children:[(0,Z.jsx)(b.Z,{size:"small",placeholder:"Enter Site ID",required:!0,value:C,onChange:e=>R(e.target.value)}),(0,Z.jsx)(i.Z,{type:"submit",variant:"contained",children:"search site"})]})})}),(0,Z.jsx)(u.ZP,{item:!0,xs:2})]})}),L?(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(u.ZP,{container:!0,spacing:1,sx:{width:"99%",margin:"5px 5px"},children:[(0,Z.jsx)(u.ZP,{item:!0,xs:3,sx:{},children:(0,Z.jsx)(c.Z,{sx:{maxHeight:"77vh",minBlockSize:"77vh",overflow:"auto",padding:2,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:5,backgroundColor:"white"},children:(0,Z.jsx)(_,{mileston:L})})}),(0,Z.jsx)(u.ZP,{item:!0,xs:9,children:(0,Z.jsxs)(c.Z,{sx:{maxHeight:"77vh",minHeight:"77vh",overflow:"auto",padding:1,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:5,backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[(0,Z.jsx)(c.Z,{sx:{fontWeight:"bold",fontSize:"25px",color:"black",mb:2},children:"SITE ISSUE TRACKER"}),(0,Z.jsx)(c.Z,{sx:{width:"100%",boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:"10px",padding:"8px"},children:(0,Z.jsx)("form",{onSubmit:async e=>{e.preventDefault(),$(!0);try{const e=new FormData;e.append("siteId",C),e.append("userId",a),e.append("issue",null===W||void 0===W?void 0:W.issue),e.append("start_date",null===W||void 0===W?void 0:W.start_date),e.append("close_date",null===W||void 0===W?void 0:W.close_date),e.append("timeline",JSON.stringify(J));const l=await O.Z.post("".concat(w.hN,"/alok_tracker/issue_timeline_add/"),e,{headers:{Authorization:"token ".concat((0,k.b)("tokenKey"))}});var t;if(l.status)$(!1),H(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.json_data),B().fire({icon:"success",title:"Done",text:"Issue Added Succesfully !"})}catch(s){var l,i;$(!1),B().fire({icon:"error",title:"Error",text:" ".concat((null===(l=s.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error)||s.message)})}},children:(0,Z.jsxs)(c.Z,{sx:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[(0,Z.jsxs)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:[(0,Z.jsx)(p.Z,{id:"issue-label",children:"Issue"}),(0,Z.jsx)(m.Z,{labelId:"issue-label",name:"issue",value:(null===W||void 0===W?void 0:W.issue)||"",label:"Issue",onChange:Q,required:!0,children:E.map(((e,t)=>(0,Z.jsx)(x.Z,{value:e,children:e},t)))})]}),(0,Z.jsx)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,Z.jsx)(b.Z,{variant:"outlined",label:"Start Date",name:"start_date",value:(null===W||void 0===W?void 0:W.start_date)||"",onChange:Q,type:"date",size:"small",required:!0,InputLabelProps:{shrink:!0}})}),(0,Z.jsx)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,Z.jsx)(b.Z,{variant:"outlined",label:"Close Date",name:"close_date",value:(null===W||void 0===W?void 0:W.close_date)||"",onChange:Q,type:"date",size:"small",InputLabelProps:{shrink:!0}})}),(0,Z.jsx)(i.Z,{variant:"contained",type:"submit",startIcon:(0,Z.jsx)(g.Z,{}),children:"Add"})]})})}),(0,Z.jsx)(P.Z,{}),(0,Z.jsxs)("div",{style:{width:"100%"},children:[(0,Z.jsxs)(c.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,Z.jsx)(c.Z,{style:{fontSize:22,fontWeight:"bold"},children:"Site Issue Logs"}),(0,Z.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1}})]}),(0,Z.jsx)(c.Z,{sx:{width:"100%"},children:(0,Z.jsx)(j.Z,{sx:{maxHeight:"58vh",boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:y.Z,children:(0,Z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,Z.jsx)("thead",{style:{position:"sticky",top:0,zIndex:1},children:(0,Z.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,Z.jsx)("th",{style:{padding:"5px 10px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,backgroundColor:"#006e74"},children:"Issue Name"}),(0,Z.jsx)("th",{style:{padding:"5px 5px",whiteSpace:"nowrap",backgroundColor:"#CBCBCB",color:"black"},children:"Start Date"}),(0,Z.jsx)("th",{style:{padding:"5px 5px",whiteSpace:"nowrap",backgroundColor:"#CBCBCB",color:"black"},children:"Close Date"}),(0,Z.jsx)("th",{style:{padding:"5px 5px",whiteSpace:"nowrap",backgroundColor:"#CBCBCB",color:"black"},children:"Duration Days"}),(0,Z.jsx)("th",{style:{padding:"5px 5px",whiteSpace:"nowrap",backgroundColor:"#CBCBCB",color:"black"},children:"Action"})]})}),(0,Z.jsx)("tbody",{children:null===J||void 0===J?void 0:J.map(((t,a)=>(0,Z.jsxs)("tr",{className:e.hoverRT,style:{textAlign:"center",fontWeigth:700},children:[(0,Z.jsx)("th",{style:{position:"sticky",left:0,top:0,backgroundColor:"#CBCBCB",color:"black"},children:t["Issue Name"]}),(0,Z.jsx)("th",{style:{color:"black"},children:t["Start Date"]}),(0,Z.jsx)("th",{style:{color:"black"},children:t["Close Date"]}),(0,Z.jsx)("th",{style:{color:"black"},children:t["Duration Days"]}),(0,Z.jsx)("th",{style:{color:"black"},children:"Closed"==t.Status?(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(K.Z,{size:"small",color:"error"})}):(0,Z.jsx)(f.Z,{onClick:()=>(U(t),void G(!0)),children:(0,Z.jsx)(M.default,{size:"small",color:"primary"})})})]},a)))})]})})})]})]})})]})}):(0,Z.jsx)(Z.Fragment,{}),q&&(0,Z.jsxs)(D.Z,{open:q,keepMounted:!0,fullWidth:!0,maxWidth:"lg",children:[(0,Z.jsxs)(z.Z,{children:["Edit Site Issue Logs",(0,Z.jsx)("span",{style:{float:"right"},children:(0,Z.jsxs)(f.Z,{"aria-label":"close",onClick:()=>G(!1),children:[(0,Z.jsx)(v.Z,{})," "]})})]}),(0,Z.jsx)(A.Z,{dividers:"paper",children:(0,Z.jsx)("form",{onSubmit:ee,children:(0,Z.jsxs)(c.Z,{sx:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[(0,Z.jsxs)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:[(0,Z.jsx)(p.Z,{id:"issue-label",children:"Issue"}),(0,Z.jsx)(m.Z,{labelId:"issue-label",name:"Issue Name",value:(null===V||void 0===V?void 0:V["Issue Name"])||"",label:"Issue",onChange:Y,disabled:!0,children:E.map(((e,t)=>(0,Z.jsx)(x.Z,{value:e,children:e},t)))})]}),(0,Z.jsx)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,Z.jsx)(b.Z,{variant:"outlined",label:"Start Date",name:"Start Date",value:te(null===V||void 0===V?void 0:V["Start Date"])||"",onChange:Y,required:!0,type:"date",size:"small",InputLabelProps:{shrink:!0}})}),(0,Z.jsx)(h.Z,{fullWidth:!0,size:"small",sx:{flex:1},children:(0,Z.jsx)(b.Z,{variant:"outlined",label:"Close Date",name:"Close Date",value:te(null===V||void 0===V?void 0:V["Close Date"])||"",onChange:Y,type:"date",size:"small",InputLabelProps:{shrink:!0}})}),(0,Z.jsx)(i.Z,{variant:"contained",type:"submit",startIcon:(0,Z.jsx)(N.Z,{}),children:"update"})]})})})]}),X]})}},64558:(e,t,a)=>{var l=a(64836);t.Z=void 0;var i=l(a(45649)),s=a(80184),n=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.Z=n},14524:(e,t,a)=>{var l=a(64836);t.Z=void 0;var i=l(a(45649)),s=a(80184),n=(0,i.default)((0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"ControlPoint");t.Z=n},41286:(e,t,a)=>{var l=a(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(45649)),s=a(80184),n=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=n},5397:(e,t,a)=>{var l=a(64836);t.Z=void 0;var i=l(a(45649)),s=a(80184),n=(0,i.default)((0,s.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.Z=n},53793:(e,t,a)=>{var l=a(64836);t.Z=void 0;var i=l(a(45649)),s=a(80184),n=(0,i.default)((0,s.jsx)("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4 8 7.99h3z"}),"Upgrade");t.Z=n},39281:(e,t,a)=>{a.d(t,{Z:()=>v});var l=a(87462),i=a(63366),s=a(72791),n=a(59278),r=a(20838),o=a(31402),d=a(66934),c=a(59703),u=a(64657);function p(e){return(0,u.ZP)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var x=a(80184);const h=["className","component"],m=(0,d.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),v=s.forwardRef((function(e,t){const a=(0,o.Z)({props:e,name:"MuiTableContainer"}),{className:s,component:d="div"}=a,c=(0,i.Z)(a,h),u=(0,l.Z)({},a,{component:d}),v=(e=>{const{classes:t}=e;return(0,r.Z)({root:["root"]},p,t)})(u);return(0,x.jsx)(m,(0,l.Z)({ref:t,as:d,className:(0,n.Z)(v.root,s),ownerState:u},c))}))},63571:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(95338),i=a(72791);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=function(e,t){return i.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){s(e,t,a[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),i.createElement("path",{d:"m11.967 4.96-.354-.461.845-2.002-1.935-1.117-1.315 1.738-.574-.073a5 5 0 0 0-1.28.003l-.576.076-1.319-1.743-1.935 1.117.85 2.015-.35.461a5 5 0 0 0-.638 1.106l-.224.534-2.17.271v2.234l2.169.271.223.537c.164.396.378.769.638 1.11l.35.461-.847 2.008 1.935 1.117 1.312-1.733.576.076c.428.056.862.056 1.291.001l.576-.075 1.31 1.731 1.935-1.117-.842-1.996.352-.461a5 5 0 0 0 .65-1.125l.223-.536 2.15-.269V6.885l-2.154-.269-.223-.536a5 5 0 0 0-.646-1.118zm1.569.733 1.579.197a1 1 0 0 1 .876.992v2.234a1 1 0 0 1-.876.992l-1.574.197a6.1 6.1 0 0 1-.778 1.348l.617 1.461a1 1 0 0 1-.421 1.255l-1.935 1.117a1 1 0 0 1-1.297-.262l-.96-1.268a6 6 0 0 1-1.549-.001l-.961 1.269a1 1 0 0 1-1.297.262l-1.935-1.117a1 1 0 0 1-.421-1.255l.622-1.475a6 6 0 0 1-.765-1.332l-1.592-.199a1 1 0 0 1-.876-.992V6.882a1 1 0 0 1 .876-.992l1.596-.199a6.2 6.2 0 0 1 .764-1.324l-.625-1.482a1 1 0 0 1 .421-1.255L4.96.513a1 1 0 0 1 1.297.262l.968 1.279a6 6 0 0 1 1.536-.003L9.727.775a1 1 0 0 1 1.297-.262l1.935 1.117a1 1 0 0 1 .421 1.255l-.619 1.467c.318.414.577.866.775 1.341"}),i.createElement("path",{d:"M8 10a2 2 0 1 0 .001-3.999A2 2 0 0 0 8 10m0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6"}))};const r=(0,i.forwardRef)(n);const o=(0,l.Z)({as:r,ariaLabel:"gear",category:"action",displayName:"Gear"})}}]);
//# sourceMappingURL=4565.560c8d6d.chunk.js.map