"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[3035],{17759:(e,t,l)=>{l.d(t,{X:()=>s});var n=l(72791),a=l(31243),i=l(44997),o=l(61982);const s=e=>{const[t,l]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),[h,x]=(0,n.useState)(0),g=()=>{u&&u.cancel()};return(0,n.useEffect)((()=>g),[]),{isLoading:t,error:s,response:d,makeGetRequest:async t=>{l(!0),r(null),c(null);const n=a.Z.CancelToken.source();p(n);try{const l=await a.Z.get("".concat(i.hN,"/").concat(t),{...e,cancelToken:n.token,headers:{Authorization:"token ".concat((0,o.b)("tokenKey"))}});return await l.data}catch(s){return a.Z.isCancel(s)?(console.log("Request canceled"),!1):(r(s),!1)}finally{l(!1)}},cancelRequest:g}}},88845:(e,t,l)=>{l.d(t,{Z:()=>d});var n=l(72791),a=l(5574),i=l(39157),o=l(64554),s=l(63571),r=l(80184);const d=()=>{const[e,t]=(0,n.useState)(!1);return{loading:(0,n.useMemo)((()=>(console.log("loadingh dialog"),(0,r.jsx)(a.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(o.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,r.jsx)(o.Z,{style:{textAlign:"center"},children:(0,r.jsx)(s.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,r.jsx)(o.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,l)=>{l.d(t,{u:()=>s});var n=l(72791),a=l(31243),i=l(44997),o=l(61982);const s=e=>{const[t,l]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),[u,p]=(0,n.useState)(null),[h,x]=(0,n.useState)(0),g=()=>{u&&u.cancel()};return(0,n.useEffect)((()=>g),[]),{isLoading:t,error:s,response:d,makePostRequest:async(t,n)=>{l(!0),r(null),c(null);const d=a.Z.CancelToken.source();p(d);try{const l=await a.Z.post("".concat(i.hN,"/").concat(t),n,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,o.b)("tokenKey"))}});return c(l),await l.data}catch(s){return a.Z.isCancel(s)?(console.log("Request canceled"),!1):(r(s),console.log("error",s),!1)}finally{l(!1)}},cancelRequest:g}}},13035:(e,t,l)=>{l.r(t),l.d(t,{default:()=>X});var n=l(72791),a=l(93517),i=l(50533),o=l(4567),s=l(5397),r=l(64554),d=(l(25415),l(17759),l(30204)),c=(l(78687),l(57689)),u=l(40835),p=(l(30550),l(43623)),h=l(13838),x=l(77196),g=l(50168),m=l(82626),b=l(45363),j=l(49900),f=l(17563),v=l(13034),y=l(81213),S=l(80429),Z=l(46420),C=l.n(Z),k=l(44997),w=l(60585),A=l(40630),I=l(70320),R=l(5536),_=l(5574),W=l(55931),D=l(88845),F=l(763),O=l.n(F),z=l(80184);const N=n.forwardRef((function(e,t){return(0,z.jsx)(W.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),P=e=>{let{label:t,options:l,selectedValues:n,setSelectedValues:a}=e;const i=l.length>0&&n.length===l.length;return(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,z.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:n,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?n.length===l.length?a([]):a(l):a(i)},input:(0,z.jsx)(x.Z,{label:t}),renderValue:e=>e.join(", "),size:"small",children:[(0,z.jsxs)(m.Z,{value:"ALL",children:[(0,z.jsx)(v.Z,{checked:i,indeterminate:n.length>0&&n.length<l.length}),(0,z.jsx)(j.Z,{primary:"Select All"})]}),l.map((e=>(0,z.jsxs)(m.Z,{value:e,children:[(0,z.jsx)(v.Z,{checked:n.includes(e)}),(0,z.jsx)(j.Z,{primary:e})]},e)))]})]})},T=()=>{const e=(0,n.useRef)(null),[t,l]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),{makePostRequest:o,cancelRequest:s}=(0,d.u)(),{loading:r,action:c}=(0,D.Z)(),[u,x]=(0,n.useState)([]),[j,v]=(0,n.useState)(["CF"]),[Z,W]=(0,n.useState)([]),F=["RFAI","Site ONAIR"],[T,q]=(0,n.useState)({}),[M,V]=(0,n.useState)([]),[E,L]=(0,n.useState)([]),[B,J]=(0,n.useState)([]),[Y,Q]=(0,n.useState)([]),[U,$]=(0,n.useState)([]),[X,G]=(0,n.useState)([]),[K,H]=(0,n.useState)([]),[ee,te]=(0,n.useState)([]),[le,ne]=(0,n.useState)("Cumulative");let ae;console.log("data get",j,T);const ie=(e,t)=>{const l={},n=["CF",...O()(e[0]).keys().filter((e=>e.startsWith("Month-"))).sortBy((e=>Number(e.split("-")[1]))).value()];if(O().forEach(t,(t=>{const a=O().find(e,(e=>e["Milestone Track/Site Count"]===t));if(a){const e=O().map(O().pick(a,n),(e=>Number(e)));l[t]=e}})),2===t.length){const[e,n]=t,a=l[e]||[],i=l[n]||[],o=O().map(a,((e,t)=>i[t]&&0!==i[t]?Math.ceil(i[t]/e*100):0));l.Percentage=o}return l},oe={labels:j,datasets:[{label:"RFAI",data:null===T||void 0===T?void 0:T.RFAI,borderColor:"rgb(107, 107, 107)",backgroundColor:["rgb(204, 255, 254)"],borderWidth:3,borderRadius:5,fill:!1,tension:.4},{label:"MS1",data:null===T||void 0===T?void 0:T["Site ONAIR"],borderColor:"rgb(0, 110, 116)",backgroundColor:["rgb(0, 110, 116)"],borderWidth:3,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"Sites Converted %",data:null===T||void 0===T?void 0:T.Percentage,type:"bar",borderColor:"rgb(136, 30, 135)",backgroundColor:"rgb(136, 30, 135,0.3)",borderWidth:2,borderRadius:5,fill:!1,tension:.4,yAxisID:"y1"}]},se={labels:j,datasets:[{label:"Sites Converted %",data:null===T||void 0===T?void 0:T.Percentage,type:"line",borderColor:"rgb(136, 30, 135)",backgroundColor:"rgb(136, 30, 135,0.7)",borderWidth:2,fill:!1,tension:.4,yAxisID:"y1"},{label:"RFAI",data:null===T||void 0===T?void 0:T.RFAI,borderColor:"black",backgroundColor:["rgb(171, 171, 171)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"MS1",data:null===T||void 0===T?void 0:T["Site ONAIR"],borderColor:"black",backgroundColor:["rgb(0, 110, 116)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4}]},re={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Monthly Progress - RFAI to MS1",font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"},formatter:(e,t)=>"Sites Converted %"===t.dataset.label?e+"%":e},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(k.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{ae=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||ae||(t=300*e.dataIndex+100*e.datasetIndex),t}}},de=()=>{i(!1)},ce=(0,n.useCallback)((()=>(0,z.jsx)(_.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:N,open:a,onClose:de,children:(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,z.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,z.jsx)(p.$Q,{ref:e,data:se,options:re,plugins:[y.Z,S.ZP,C()]})}),(0,z.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,z.jsx)(p.x1,{data:oe,options:re,plugins:[y.Z,S.ZP,C()]})})]})})),[a]);return(0,n.useEffect)((()=>(q({Percentage:[],RFAI:[],"Site ONAIR":[]}),(async()=>{c(!0);var e=new FormData;e.append("circle",M),e.append("site_tagging",B),e.append("relocation_method",U),e.append("new_toco_name",K),e.append("view",le);const t=await(0,k.qC)("alok_tracker/weekly_monthly_dashboard_file/",e);t?(c(!1),q(ie(JSON.parse(t.months_data),F)),0===E.length&&(v((e=>[...e,...t.unique_data.month_columns])),L(t.unique_data.unique_circle),Q(t.unique_data.unique_site_tagging),G(t.unique_data.unique_relocation_method),te(t.unique_data.unique_new_toco_name))):c(!1)})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{s()})),[M,B,U,K,le]),(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"96%",margin:20,borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,z.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",overflowY:"auto"},children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,z.jsx)(w.Z,{}),"FILTER DATA"]}),(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"demo-select-small-label",children:"View"}),(0,z.jsxs)(f.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:le,label:"View",onChange:e=>{ne(e.target.value)},children:[(0,z.jsx)(m.Z,{value:"Cumulative",children:"Cumulative"}),(0,z.jsx)(m.Z,{value:"Non-cumulative",children:"Non-cumulative"})]})]}),(0,z.jsx)(P,{label:"Circle",options:E,selectedValues:M,setSelectedValues:V}),(0,z.jsx)(P,{label:"Site Tagging",options:Y,selectedValues:B,setSelectedValues:J}),(0,z.jsx)(P,{label:"Current Status",options:X,selectedValues:U,setSelectedValues:$}),(0,z.jsx)(P,{label:"TOCO",options:ee,selectedValues:K,setSelectedValues:H}),(0,z.jsx)("div",{children:(0,z.jsxs)(I.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{l(!t)},"aria-label":"Platform",children:[(0,z.jsx)(A.Z,{value:!0,children:"Line"}),(0,z.jsx)(A.Z,{value:!1,children:"Bar"})]})}),(0,z.jsx)("div",{children:(0,z.jsx)(h.Z,{color:"primary",endIcon:(0,z.jsx)(R.Z,{}),onClick:()=>{i(!0)},children:"Full screen"})})]}),(0,z.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,z.jsx)(p.x1,{ref:e,data:oe,options:re,plugins:[y.Z,S.ZP,C()]})}),(0,z.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,z.jsx)(p.$Q,{ref:e,data:se,options:re,plugins:[y.Z,S.ZP,C()]})}),ce(),r]})})};var q=l(39281),M=l(4841),V=(l(22151),l(12998));l(64197);const E=e=>{let{label:t,options:l,selectedValues:n,setSelectedValues:a}=e;const i=l.length>0&&n.length===l.length;return(0,z.jsxs)(b.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,z.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,z.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:n,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?n.length===l.length?a([]):a(l):a(i)},input:(0,z.jsx)(x.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,z.jsxs)(m.Z,{value:"ALL",children:[(0,z.jsx)(v.Z,{checked:i,indeterminate:n.length>0&&n.length<l.length}),(0,z.jsx)(j.Z,{primary:"Select All"})]}),l.map((e=>(0,z.jsxs)(m.Z,{value:e,children:[(0,z.jsx)(v.Z,{checked:n.includes(e)}),(0,z.jsx)(j.Z,{primary:e})]},e)))]})]})},L=()=>{var e,t;const{loading:l,action:a}=(0,D.Z)(),[i,o]=(0,n.useState)([]),[s,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[x,j]=(0,n.useState)([]),[v,y]=(0,n.useState)("RFAI"),[S,Z]=(0,n.useState)("Integration"),[C,w]=(0,n.useState)(["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"]),[A,I]=(0,n.useState)([]),[R,_]=(0,n.useState)(""),F=Object.keys((null===x||void 0===x||null===(e=x[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Done)||[]);console.log("table data",F);const O=(0,V.y)(),N=e=>{const t={};return e.forEach((e=>{const l=e.Circle,n=e["Site Status"];t[l]||(t[l]={Circle:l,data:{Done:null,Pending:null}});const{Circle:a,"Site Status":i,...o}=e;t[l].data[n]=o})),Object.values(t)};return(0,n.useEffect)((()=>{(async()=>{a(!0);var e=new FormData;e.append("site_tagging",i),e.append("current_status",c),e.append("milestone1",v),e.append("milestone2",S);const t=await(0,k.qC)("alok_tracker/graphs/",e);console.log(" rfai data",N(JSON.parse(t.json_data.table_summary))),t?(a(!1),j(N(JSON.parse(t.json_data.table_summary))),0===p.length&&0===s.length&&(h(t.unique_data.unique_current_status),d(t.unique_data.unique_site_tagging))):a(!1)})()}),[i,c,v,S]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("style",{children:"th{border:1px solid black;}"}),(0,z.jsx)(W.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,z.jsxs)("div",{style:{margin:20},children:[(0,z.jsxs)(r.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,z.jsxs)(r.Z,{style:{fontSize:22,fontWeight:"bold"},children:["Done Vs Pending Count - ",v," to ",S]}),(0,z.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone1"}),(0,z.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,label:"milestone1",onChange:e=>{y(e.target.value)},children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,z.jsx)(m.Z,{value:e,children:e},t)))})]}),(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone2"}),(0,z.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,label:"milestone2",onChange:e=>{Z(e.target.value)},children:null===C||void 0===C?void 0:C.map(((e,t)=>(0,z.jsx)(m.Z,{value:e,children:e},t)))})]}),(0,z.jsx)(E,{label:"Site Tagging",options:s,selectedValues:i,setSelectedValues:o}),(0,z.jsx)(E,{label:"Current Status",options:p,selectedValues:c,setSelectedValues:u})]})]}),(0,z.jsx)(r.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:(0,z.jsx)(q.Z,{sx:{maxHeight:600,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:M.Z,children:(0,z.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse"},children:[(0,z.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,z.jsxs)("tr",{style:{backgroundColor:"#223354",color:"white"},children:[(0,z.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,z.jsx)("th",{colSpan:F.length+1,children:"Status Summary"})]}),(0,z.jsxs)("tr",{style:{backgroundColor:"#CBCBCB"},children:[(0,z.jsx)("th",{children:"Type"}),F.map((e=>(0,z.jsx)("th",{children:e},e)))]})]}),(0,z.jsx)("tbody",{children:null===x||void 0===x?void 0:x.map(((e,t)=>{const{Circle:l,data:a}=e,i=a.Done||{},o=a.Pending||{};return(0,z.jsxs)(n.Fragment,{children:[(0,z.jsxs)("tr",{className:O.tableRow,style:{textAlign:"center"},children:[(0,z.jsx)("th",{rowSpan:2,children:l}),(0,z.jsx)("th",{children:"Done"}),F.map((e=>{var t;return(0,z.jsx)("th",{children:null!==(t=i[e])&&void 0!==t?t:"-"},e)}))]}),(0,z.jsxs)("tr",{className:O.tableRow,style:{textAlign:"center"},children:[(0,z.jsx)("th",{children:"Pending"}),F.map((e=>{var t;return(0,z.jsx)("th",{children:null!==(t=o[e])&&void 0!==t?t:"-"},e)}))]})]},t)}))})]})})})]})}),l]})};var B=l(93006);const J=n.forwardRef((function(e,t){return(0,z.jsx)(W.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),Y=e=>{let{label:t,options:l,selectedValues:n,setSelectedValues:a}=e;const i=l.length>0&&n.length===l.length;return(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,z.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:n,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?n.length===l.length?a([]):a(l):a(i)},input:(0,z.jsx)(x.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,z.jsxs)(m.Z,{value:"ALL",children:[(0,z.jsx)(v.Z,{checked:i,indeterminate:n.length>0&&n.length<l.length}),(0,z.jsx)(j.Z,{primary:"Select All"})]}),l.map((e=>(0,z.jsxs)(m.Z,{value:e,children:[(0,z.jsx)(v.Z,{checked:n.includes(e)}),(0,z.jsx)(j.Z,{primary:e})]},e)))]})]})},Q=()=>{var e,t;const l=(0,n.useRef)(null),[a,i]=(0,n.useState)(!1),[o,s]=(0,n.useState)(!1),{makePostRequest:r,cancelRequest:c}=(0,d.u)(),{loading:u,action:x}=(0,D.Z)(),j=["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"],[v,Z]=(0,n.useState)("RFAI"),[W,F]=(0,n.useState)("Site ONAIR"),[O,N]=(0,n.useState)([]),[P,T]=(0,n.useState)([]),[q,M]=(0,n.useState)([]),[V,E]=(0,n.useState)([]),[L,Q]=(0,n.useState)([]),[U,$]=(0,n.useState)([]),[X,G]=(0,n.useState)({}),[K,H]=(0,n.useState)("");let ee;console.log("data get",U);const te=e=>{const t=e.map((e=>e.Circle)),l=e.map((e=>Number(e["".concat(v," Done Count")]))),n=e.map((e=>Number(e["".concat(W," Done Count")]))),a=e.map((e=>Number(e["".concat(W," Pending Count")]))),i=n.map(((e,t)=>{const n=l[t];return n?Math.ceil(e/n*100):0}));return{circle:t,RFAI_done:l,onAirDone:n,onAirPending:a,percentage:i}},le={labels:O,datasets:[{label:"".concat(v," Done"),data:null===U||void 0===U?void 0:U.RFAI_done,borderColor:["rgb(171, 171, 171)"],backgroundColor:["rgb(171, 171, 171)"],borderWidth:3,borderRadius:5,fill:!1,tension:.4},{label:"".concat(W," Done"),data:null===U||void 0===U?void 0:U.onAirDone,borderColor:["rgb(0, 110, 116)"],backgroundColor:["rgb(0, 110, 116)"],borderWidth:3,borderRadius:5,fill:!1,tension:.4},{label:"Sites Converted %",data:null===U||void 0===U?void 0:U.percentage,type:"bar",borderColor:"rgb(136, 30, 135)",backgroundColor:"rgb(136, 30, 135,0.3)",borderWidth:2,borderRadius:5,fill:!1,tension:.4,yAxisID:"y1"}]},ne={labels:O,datasets:[{label:"Sites Converted %",data:null===U||void 0===U?void 0:U.percentage,type:"line",borderColor:"rgb(136, 30, 135)",backgroundColor:"rgb(136, 30, 135,0.7)",borderWidth:2,fill:!1,tension:.4,yAxisID:"y1"},{label:"".concat(v," Done"),data:null===U||void 0===U?void 0:U.RFAI_done,borderColor:"black",backgroundColor:["rgb(171, 171, 171)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"".concat(W," Done"),data:null===U||void 0===U?void 0:U.onAirDone,borderColor:"black",backgroundColor:["rgb(0, 110, 116)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4}]},ae={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Circlewise Progress - ".concat(v," (").concat((null===U||void 0===U||null===(e=U.RFAI_done)||void 0===e?void 0:e.reduce(((e,t)=>e+t),0))||0,") to ").concat(W," (").concat((null===U||void 0===U||null===(t=U.onAirDone)||void 0===t?void 0:t.reduce(((e,t)=>e+t),0))||0,")"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"},formatter:(e,t)=>"Sites Converted %"===t.dataset.label?e+"%":e},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(k.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{ee=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||ee||(t=300*e.dataIndex+100*e.datasetIndex),t}}},ie=()=>{s(!1)},oe=(0,n.useCallback)((()=>(0,z.jsx)(_.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:J,open:o,onClose:ie,children:(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,z.jsx)("div",{style:{display:a?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,z.jsx)(p.$Q,{ref:l,data:ne,options:ae,plugins:[y.Z,S.ZP,C()]})}),(0,z.jsx)("div",{style:{display:a?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,z.jsx)(p.x1,{data:le,options:ae,plugins:[y.Z,S.ZP,C()]})})]})})),[o]);return(0,n.useEffect)((()=>(G({circle:[],RFAI_done:[],onAirDone:[],onAirPending:[],percentage:[]}),(async()=>{if(v!==W){x(!0);var e=new FormData;e.append("site_tagging",P),e.append("current_status",V),e.append("milestone1",v),e.append("milestone2",W),e.append("month",K.split("-")[1]||""),e.append("year",K.split("-")[0]||"");const t=await(0,k.qC)("alok_tracker/graphs/",e);console.log(" circle wise data",t),t?(x(!1),$(te(JSON.parse(t.json_data.graph_summary))),0===L.length&&0===q.length&&(N(te(JSON.parse(t.json_data.graph_summary)).circle),Q(t.unique_data.unique_current_status),M(t.unique_data.unique_site_tagging))):x(!1)}else alert("Please select different milestones")})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{c()})),[P,V,v,W,K]),(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"96%",margin:20,borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,z.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",overflowY:"auto"},children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,z.jsx)(w.Z,{}),"FILTER DATA"]}),(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone1"}),(0,z.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:v,label:"milestone1",onChange:e=>{Z(e.target.value)},children:null===j||void 0===j?void 0:j.map(((e,t)=>(0,z.jsx)(m.Z,{value:e,children:e},t)))})]}),(0,z.jsxs)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,z.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone2"}),(0,z.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:W,label:"milestone2",onChange:e=>{F(e.target.value)},children:null===j||void 0===j?void 0:j.map(((e,t)=>(0,z.jsx)(m.Z,{value:e,children:e},t)))})]}),(0,z.jsx)(Y,{label:"Site Tagging",options:q,selectedValues:P,setSelectedValues:T}),(0,z.jsx)(Y,{label:"Current Status",options:L,selectedValues:V,setSelectedValues:E}),(0,z.jsx)(b.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:(0,z.jsx)(B.Z,{variant:"outlined",fullWidth:!0,label:"Month",name:"month",value:K,onChange:e=>{H(e.target.value)},size:"small",type:"month"})}),(0,z.jsx)("div",{children:(0,z.jsxs)(I.Z,{size:"small",color:"primary",value:a,exclusive:!0,onChange:()=>{i(!a)},"aria-label":"Platform",children:[(0,z.jsx)(A.Z,{value:!0,children:"Line"}),(0,z.jsx)(A.Z,{value:!1,children:"Bar"})]})}),(0,z.jsx)("div",{children:(0,z.jsx)(h.Z,{color:"primary",endIcon:(0,z.jsx)(R.Z,{}),onClick:()=>{s(!0)},children:"Full screen"})})]}),(0,z.jsx)("div",{style:{display:a?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,z.jsx)(p.x1,{ref:l,data:le,options:ae,plugins:[y.Z,S.ZP,C()]})}),(0,z.jsx)("div",{style:{display:a?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,z.jsx)(p.$Q,{ref:l,data:ne,options:ae,plugins:[y.Z,S.ZP,C()]})}),oe(),u]})})},U=["#A0DEFF","#FF9F66","#ECB176","#B0EBB4","#CDE8E5"],$=["RFAI","Integration","Site ONAIR","SCFT I-Deploy Offered"],X=()=>{const e=(0,c.s0)(),{loading:t,action:l}=(0,D.Z)(),[d,p]=(0,n.useState)([]),[h,x]=(0,n.useState)([]);console.log("table data",h);const g=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t))return"Invalid Date";const l=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(l,"-").concat(n,"-").concat(a)},m=async()=>{l(!0);var e=new FormData;e.append("circle",""),e.append("site_tagging",""),e.append("relocation_method",""),e.append("new_toco_name",""),e.append("from_date",g(new Date(Date.now()-864e5))),e.append("to_date",g(new Date)),e.append("view","Cumulative");const t=await(0,k.qC)("alok_tracker/daily_dashboard_file/",e);t?(l(!1),p(t.dates),x(JSON.parse(t.data).filter((e=>$.includes(e["Milestone Track/Site Count"]))))):l(!1)};(0,n.useCallback)((e=>{let{data:t,color:l}=e;function n(e){const t=new Date(e),l=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(l,"-").concat(n,"-").concat(a)}return(0,z.jsxs)(r.Z,{sx:{height:"auto",width:"28vh",cursor:"pointer",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:l,textAlign:"center"},title:t.OEM,children:[(0,z.jsx)(r.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:t.OEM}),(0,z.jsxs)(r.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:[(0,z.jsx)(u.ZP,{end:t.record_count,duration:4})," "]}),(0,z.jsxs)(r.Z,{sx:{color:"black",textAlign:"left"},children:[(0,z.jsx)("span",{style:{fontWeight:600,fontSize:"14px"},children:"From-"}),n(t.from_integration_date)]}),(0,z.jsxs)(r.Z,{sx:{color:"black",textAlign:"left"},children:[" ",(0,z.jsx)("span",{style:{fontWeight:600},children:"To-"}),n(t.to_integration_date)]})]})}),[]);return(0,n.useEffect)((()=>{m(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),m()}),[]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,z.jsxs)(a.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,z.jsx)(s.Z,{fontSize:"small"}),children:[(0,z.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools")},children:"Tools"}),(0,z.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools/relocation_tracking")},children:"Relocation Tracking"}),(0,z.jsx)(o.Z,{color:"text.primary",children:"Analytics Dashboard"})]})}),(0,z.jsx)(r.Z,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",flexDirection:"row",gap:1,marginBottom:2},children:h.length>0&&h.map(((e,t)=>(0,z.jsxs)(r.Z,{sx:{height:"auto",width:"30vh",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:"".concat(U[t]),textAlign:"center"},title:null===e||void 0===e?void 0:e["Milestone Track/Site Count"],children:[(0,z.jsx)(r.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:null===e||void 0===e?void 0:e["Milestone Track/Site Count"]}),(0,z.jsx)(r.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:(0,z.jsx)(u.ZP,{end:e.date_1,duration:6})}),(0,z.jsx)(r.Z,{sx:{color:"black",textAlign:"left"},children:d[0]})]},t)))}),(0,z.jsx)(r.Z,{children:(0,z.jsx)(T,{})}),(0,z.jsx)(r.Z,{children:(0,z.jsx)(Q,{})}),(0,z.jsx)(r.Z,{children:(0,z.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=3035.54673d9e.chunk.js.map