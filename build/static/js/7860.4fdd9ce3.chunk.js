"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[7860],{88845:(e,l,t)=>{t.d(l,{Z:()=>n});var o=t(72791),i=t(5574),s=t(39157),r=t(64554),d=t(63571),a=t(80184);const n=()=>{const[e,l]=(0,o.useState)(!1);return{loading:(0,o.useMemo)((()=>(console.log("loadingh dialog"),(0,a.jsx)(i.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(r.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,a.jsx)(r.Z,{style:{textAlign:"center"},children:(0,a.jsx)(d.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,a.jsx)(r.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{l(e)}}}},30204:(e,l,t)=>{t.d(l,{u:()=>d});var o=t(72791),i=t(31243),s=t(44997),r=t(61982);const d=e=>{const[l,t]=(0,o.useState)(!1),[d,a]=(0,o.useState)(null),[n,c]=(0,o.useState)(null),[h,p]=(0,o.useState)(null),[u,x]=(0,o.useState)(0),b=()=>{h&&h.cancel()};return(0,o.useEffect)((()=>b),[]),{isLoading:l,error:d,response:n,makePostRequest:async(l,o)=>{t(!0),a(null),c(null);const n=i.Z.CancelToken.source();p(n);try{const t=await i.Z.post("".concat(s.hN,"/").concat(l),o,{...e,cancelToken:n.token,headers:{Authorization:"token ".concat((0,r.b)("tokenKey"))}});return c(t),await t.data}catch(d){return i.Z.isCancel(d)?(console.log("Request canceled"),!1):(a(d),console.log("error",d),!1)}finally{t(!1)}},cancelRequest:b}}},7860:(e,l,t)=>{t.r(l),t.d(l,{default:()=>A});var o=t(72791),i=t(93517),s=t(50533),r=t(4567),d=t(61889),a=t(64554),n=t(13838),c=t(5397),h=t(97639),p=t(12998),u=t(57689),x=t(73518),b=t(90977),_=t(55931),y=t(13967),v=t(77196),g=t(50168),j=t(82626),m=t(45363),M=t(17563),S=t(85771),C=t(30204),k=t(88845),f=t(39281),O=t(4841),R=t(44997),E=t(3984),T=t(25415),w=t(80184);const Q={PaperProps:{style:{maxHeight:188,width:200}}},A=()=>{var e,l;const t=(0,u.s0)(),[A,Z]=((0,y.Z)(),(0,o.useState)([])),[F,P]=(0,o.useState)([]),[I,z]=(0,o.useState)([]),[D,G]=(0,o.useState)([]),[W,B]=(0,o.useState)([]),[U,V]=(0,o.useState)([]),[N,Y]=(0,o.useState)([]),q=(0,p.y)(),L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],{makePostRequest:H}=(0,C.u)(),{action:J,loading:K}=(0,k.Z)(),{data:X,refetch:$,isFetching:ee,isLoading:le}=(0,E.a)({queryKey:["mo_base_cats_tracker"],queryFn:async()=>{J(!0);const e=await H("MO_BASED_REPORT/cats_tracker_dashboard/",{circle:F,status:D}),l=await H("MO_BASED_REPORT/shipment_dump/",{circle:F,status:D});return e&&l&&J(!1),{responce:e,responce2:l}},staleTime:4e5,refetchOnReconnect:!1}),te=(e,l)=>{const[,t,o]=e.match(/(\w+)'(\d+)/),[,i,s]=l.match(/(\w+)'(\d+)/),r=parseInt(o)-parseInt(s);return 0!==r?r:L.indexOf(t)-L.indexOf(i)};return(0,o.useEffect)((()=>{(async()=>{const e=await(0,R.Yu)("MO_BASED_REPORT/unique_circle_status_month/");if(e){Z(e.unique_circle),z(e.unique_status);const l=e.unique_month.sort(te);V(l)}})()}),[]),(0,o.useEffect)((()=>{B([]),Y([])}),[F,D]),(0,w.jsx)(_.Z,{direction:"left",in:"true",timeout:1e3,children:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{style:{margin:10,marginLeft:10},children:(0,w.jsxs)(i.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,w.jsx)(c.Z,{fontSize:"small"}),children:[(0,w.jsx)(s.Z,{underline:"hover",onClick:()=>{t("/tools")},children:"Tools"}),(0,w.jsx)(s.Z,{underline:"hover",onClick:()=>{t("/tools/cats_tracker")},children:"CATS Tracker"}),(0,w.jsx)(r.Z,{color:"text.primary",children:"Dashboard"})]})}),(0,w.jsx)("div",{style:{height:"auto",width:"99%",margin:"5px 0px",boxShadow:"rgba(0, 0, 0, 0.5) 0px 3px 8px",border:"0px solid black",backgroundColor:"white",borderRadius:"10px",padding:"2px",display:"flex"},children:(0,w.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,w.jsxs)(d.ZP,{item:!0,xs:10,style:{display:"flex"},children:[(0,w.jsxs)(a.Z,{children:[(0,w.jsxs)(m.Z,{sx:{m:1,minWidth:120},size:"small",children:[(0,w.jsx)(g.Z,{id:"Circle",children:"Circle"}),(0,w.jsxs)(M.Z,{labelId:"Circle",id:"demo-multiple-chip",multiple:!0,value:F,onChange:e=>{const{target:{value:l}}=e;P("string"===typeof l?l.split(","):l)},input:(0,w.jsx)(v.Z,{id:"select-multiple-chip",label:"Circle"}),renderValue:e=>0===e.length?(0,w.jsx)("em",{children:"All"}):(0,w.jsx)(a.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,w.jsx)(S.Z,{label:e},e)))}),MenuProps:Q,children:[(0,w.jsx)(j.Z,{onClick:()=>{P([])},children:"All"}),null===A||void 0===A?void 0:A.map((e=>(0,w.jsx)(j.Z,{value:e,children:e},e)))]})]}),(0,w.jsxs)(m.Z,{sx:{m:1,minWidth:120},size:"small",children:[(0,w.jsx)(g.Z,{id:"Status",children:"Status"}),(0,w.jsxs)(M.Z,{labelId:"Status",id:"demo-multiple-chip",multiple:!0,value:D,onChange:e=>{const{target:{value:l}}=e;G("string"===typeof l?l.split(","):l)},input:(0,w.jsx)(v.Z,{id:"select-multiple-chip",label:"Status"}),renderValue:e=>0===e.length?(0,w.jsx)("em",{children:"All"}):(0,w.jsx)(a.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,w.jsx)(S.Z,{label:e},e)))}),MenuProps:Q,children:[(0,w.jsx)(j.Z,{onClick:()=>{G([])},children:"All"}),null===I||void 0===I?void 0:I.map((e=>(0,w.jsx)(j.Z,{value:e,children:e},e)))]})]})]}),(0,w.jsx)(a.Z,{style:{marginTop:10},children:(0,w.jsx)(n.Z,{onClick:()=>{$()},variant:"contained",children:"get data"})})]}),(0,w.jsx)(d.ZP,{item:!0,xs:2,children:(0,w.jsx)(a.Z,{style:{float:"right"},children:(0,w.jsx)(h.Z,{title:"Export Excel",children:(0,w.jsx)(b.Z,{onClick:()=>{const e=new T.Workbook,l=e.addWorksheet("MO Based CATS vs Mobinet Signoff Summary",{properties:{tabColor:{argb:"f1948a"}}}),t=e.addWorksheet("TO vs Shipment Dump Summary",{properties:{tabColor:{argb:"C5EBAA"}}});l.mergeCells("A1:O1"),l.getCell("A1").value="MO Based CATS vs Mobinet Signoff from ".concat(U[0]," to ").concat(U[U.length-1]),l.getCell("A2").value="4G+5G Module",l.getCell("B2").value="Module Qty dispatched as per TO",l.getCell("C2").value="Module Qty received at site as per TO",l.getCell("D2").value="Module Qty visible in Mobinet",l.getCell("E2").value="Gap CATS vs Mobinet(C-E)",l.getCell("F2").value="Module Available in OSS",l.getCell("G2").value="SREQ Mapped",l.getCell("H2").value="RMO Mapped",l.getCell("I2").value="SREQ/RMO Mapped",l.getCell("J2").value="SREQ/RMO WIP",l.getCell("K2").value="Theft",l.getCell("L2").value="MOS",l.getCell("M2").value="Virtual MO/Regularisation",l.getCell("N2").value="MO Cancelled",l.getCell("O2").value="Under check",l.columns=[{key:"Module_Name"},{key:"Module_Qty_dispatched_as_per_TO"},{key:"Module_Qty_received_at_site_as_per_TO"},{key:"Module_Qty_visible"},{key:"Gap_CATS_vs_Mobinet"},{key:"Module_Available_in_OSS"},{key:"SREQ"},{key:"RMO"},{key:"SREQ_RMO"},{key:"SREQ_RMO_WIP"},{key:"Theft"},{key:"MOS"},{key:"Virtual_MO_Regularisation"},{key:"MO_Cancelled"},{key:"Under_check"}],t.mergeCells("A1:C1"),t.getCell("A1").value="TO vs Shipment Dump Summary From ".concat(U[0]," to ").concat(U[U.length-1]),t.getCell("A2").value="4G+5G Module",t.getCell("B2").value="QtyShipped",t.getCell("C2").value="Qtyreceived",t.columns=[{key:"Module_name"},{key:"QTYSHIPPED"},{key:"QTYRECEIVED"}],null===X||void 0===X||X.map((e=>{l.addRow({Module_Name:null===e||void 0===e?void 0:e.Module_Name,Module_Qty_dispatched_as_per_TO:null===e||void 0===e?void 0:e.Module_Qty_dispatched_as_per_TO,Module_Qty_received_at_site_as_per_TO:null===e||void 0===e?void 0:e.Module_Qty_received_at_site_as_per_TO,Module_Qty_visible:null===e||void 0===e?void 0:e.Module_Qty_visible,Gap_CATS_vs_Mobinet:null===e||void 0===e?void 0:e.Gap_CATS_vs_Mobinet,Module_Available_in_OSS:null===e||void 0===e?void 0:e.Module_Available_in_OSS,SREQ:null===e||void 0===e?void 0:e.SREQ,RMO:null===e||void 0===e?void 0:e.RMO,SREQ_RMO:null===e||void 0===e?void 0:e.SREQ_RMO,SREQ_RMO_WIP:null===e||void 0===e?void 0:e.SREQ_RMO_WIP,Theft:null===e||void 0===e?void 0:e.Theft,MOS:null===e||void 0===e?void 0:e.MOS,Virtual_MO_Regularisation:null===e||void 0===e?void 0:e.Virtual_MO_Regularisation,MO_Cancelled:null===e||void 0===e?void 0:e.MO_Cancelled,Under_check:null===e||void 0===e?void 0:e.Under_check})})),null===N||void 0===N||N.map((e=>{t.addRow({Module_name:null===e||void 0===e?void 0:e.Module_name,QTYSHIPPED:null===e||void 0===e?void 0:e.QTYSHIPPED,QTYRECEIVED:null===e||void 0===e?void 0:e.QTYRECEIVED})})),l.getCell("Q2").value="CIRCLE",0===F.length?l.getCell("Q3").value="All":null===F||void 0===F||F.map(((e,t)=>{l.getCell("Q".concat(3+t)).value="".concat(e)})),l.getCell("R2").value="STATUS",0===D.length?l.getCell("R3").value="All":null===D||void 0===D||D.map(((e,t)=>{l.getCell("R".concat(3+t)).value="".concat(e)})),t.getCell("F2").value="CIRCLE",0===F.length?t.getCell("F3").value="All":null===F||void 0===F||F.map(((e,l)=>{t.getCell("F".concat(3+l)).value="".concat(e)})),t.getCell("G2").value="STATUS",0===D.length?t.getCell("G3").value="All":null===D||void 0===D||D.map(((e,l)=>{t.getCell("G".concat(3+l)).value="".concat(e)})),l.eachRow(((e,t)=>{const o=l.getColumn(1)._worksheet._rows.length;e.eachCell((e=>{e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},t===o&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FE9209"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:13}),1===t&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"F1948A"}},e.font={color:{argb:"222831"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}]),2===t&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"223354"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}])}))})),t.eachRow(((e,t)=>{const o=l.getColumn(1)._worksheet._rows.length;e.eachCell((e=>{e.alignment={vertical:"middle",horizontal:"center"},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},t===o&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FE9209"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:13}),1===t&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"C5EBAA"}},e.font={color:{argb:"222831"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}]),2===t&&(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"223354"}},e.font={color:{argb:"FFFFFF"},bold:!0,size:12},e.views=[{state:"frozen",ySplit:1}])}))})),e.xlsx.writeBuffer().then((e=>{const l=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheet.sheet"}),t=window.URL.createObjectURL(l),o=document.createElement("a");o.href=t,o.download="CATS_Tracker.xlsx",o.click(),window.URL.revokeObjectURL(t)}))},children:(0,w.jsx)(x.Z,{fontSize:"large",color:"primary"})})})})})]})}),(0,w.jsx)(a.Z,{children:(0,w.jsx)(f.Z,{sx:{maxHeight:"70vh",boxShadow:"rgba(0, 0, 0, 0.5) 0px 3px 8px",width:"99%",marginTop:2},component:O.Z,children:(0,w.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse"},children:[(0,w.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,w.jsx)("tr",{children:(0,w.jsxs)("th",{colspan:"15",style:{fontSize:24,backgroundColor:"#F1948A",color:""},children:["MO Based CATS vs Mobinet Signoff from ",U[0]," to ",U[U.length-1]]})}),(0,w.jsxs)("tr",{style:{fontSize:14,backgroundColor:"#223354",color:"white"},children:[(0,w.jsx)("th",{style:{border:"1px solid white"},children:"4G+5G Module"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Module Qty dispatched as per TO"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Module Qty received at site as per TO"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Module Qty visible in Mobinet"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Gap CATS vs Mobinet(C-E)"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Module Available in OSS"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"SREQ Mapped"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"RMO Mapped"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"SREQ/RMO Mapped"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"SREQ/RMO WIP"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Theft "}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"MOS"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Virtual MO/Regularisation"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"MO Cancelled"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:"Under check"})]})]}),(0,w.jsx)("tbody",{children:null===X||void 0===X||null===(e=X.responce.data)||void 0===e?void 0:e.map(((e,l)=>"total"===e.Module_Name?(0,w.jsxs)("tr",{style:{textAlign:"center",backgroundColor:"#DC7633",fontSize:14,fontWeight:"bold",color:"white"},children:[(0,w.jsx)("th",{style:{border:"1px solid black"},children:"Total"}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_dispatched_as_per_TO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_received_at_site_as_per_TO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_visible}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Gap_CATS_vs_Mobinet}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Available_in_OSS}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.RMO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ_RMO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ_RMO_WIP}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Theft}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.MOS}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Virtual_MO_Regularisation}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.MO_Cancelled}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Under_check})]},l):(0,w.jsxs)("tr",{className:q.hover,children:[(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Name}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_dispatched_as_per_TO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_received_at_site_as_per_TO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Qty_visible}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Gap_CATS_vs_Mobinet}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_Available_in_OSS}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.RMO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ_RMO}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.SREQ_RMO_WIP}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Theft}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.MOS}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Virtual_MO_Regularisation}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.MO_Cancelled}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Under_check})]},l)))})]})})}),(0,w.jsx)(a.Z,{children:(0,w.jsx)(f.Z,{sx:{maxHeight:"70vh",boxShadow:"rgba(0, 0, 0, 0.5) 0px 3px 8px",width:"99%",marginTop:2,marginBottom:3},component:O.Z,children:(0,w.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse"},children:[(0,w.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,w.jsx)("tr",{children:(0,w.jsxs)("th",{colspan:"15",style:{fontSize:24,backgroundColor:"#C5EBAA",color:""},children:["TO vs Shipment Dump Summary From ",U[0]," to ",U[U.length-1]]})}),(0,w.jsxs)("tr",{style:{fontSize:16,backgroundColor:"#223354",color:"white"},children:[(0,w.jsx)("th",{style:{border:"1px solid white"},children:"4G+5G Module"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:" QtyShipped"}),(0,w.jsx)("th",{style:{border:"1px solid white"},children:" Qtyreceived"})]})]}),(0,w.jsx)("tbody",{children:null===X||void 0===X||null===(l=X.responce2.data)||void 0===l?void 0:l.map(((e,l)=>"total"===e.Module_name?(0,w.jsxs)("tr",{style:{textAlign:"center",backgroundColor:"#DC7633",fontSize:14,fontWeight:"bold",color:"white"},children:[(0,w.jsx)("th",{style:{border:"1px solid black"},children:"Total"}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.QTYSHIPPED}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.QTYRECEIVED})]},l):(0,w.jsxs)("tr",{className:q.hover,children:[(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.Module_name}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.QTYSHIPPED}),(0,w.jsx)("th",{style:{border:"1px solid black"},children:e.QTYRECEIVED})]},l)))})]})})}),K]})})}}}]);
//# sourceMappingURL=7860.4fdd9ce3.chunk.js.map