"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[9817],{88845:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(72791),o=a(5574),n=a(39157),r=a(64554),l=a(63571),i=a(80184);const d=()=>{const[e,t]=(0,s.useState)(!1);return{loading:(0,s.useMemo)((()=>(console.log("loadingh dialog"),(0,i.jsx)(o.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(r.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,i.jsx)(r.Z,{style:{textAlign:"center"},children:(0,i.jsx)(l.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,i.jsx)(r.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,a)=>{a.d(t,{u:()=>l});var s=a(72791),o=a(31243),n=a(44997),r=a(61982);const l=e=>{const[t,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[u,p]=(0,s.useState)(null),[h,b]=(0,s.useState)(0),g=()=>{u&&u.cancel()};return(0,s.useEffect)((()=>g),[]),{isLoading:t,error:l,response:d,makePostRequest:async(t,s)=>{a(!0),i(null),c(null);const d=o.Z.CancelToken.source();p(d);try{const a=await o.Z.post("".concat(n.hN,"/").concat(t),s,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,r.b)("tokenKey"))}});return c(a),await a.data}catch(l){return o.Z.isCancel(l)?(console.log("Request canceled"),!1):(i(l),console.log("error",l),!1)}finally{a(!1)}},cancelRequest:g}}},49817:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(72791),o=a(64554),n=a(61889),r=(a(30550),a(43623)),l=(a(44997),a(81213)),i=a(80429),d=a(93517),c=a(50533),u=a(4567),p=a(5397),h=a(3984),b=a(30204),g=a(88845),x=a(80184);const f=()=>{const[e,t]=(0,s.useState)(""),[a,f]=(0,s.useState)(""),[m,y]=(0,s.useState)(""),[k,j]=(0,s.useState)(!1),[w,S]=(0,s.useState)(""),[Z,v]=(0,s.useState)(""),[C,R]=(0,s.useState)("2023"),[P,z]=(0,s.useState)(""),[T,_]=(0,s.useState)([]),[E,A]=(0,s.useState)([]),[W,D]=(0,s.useState)([]),[O,B]=(0,s.useState)([]),{makePostRequest:$}=(0,b.u)(),{loading:q,action:F}=(0,g.Z)();var Q=[],I=[],L=[],M=[],N=[],G=[],K=[],U=[],X=[];delete I[I.length-1];const{isPending:Y,isFetching:H,isError:J,data:V,error:ee}=(0,h.a)({queryKey:["soft_at_master_api"],queryFn:async()=>{F(!0);var t=new FormData;t.append("Date",e),t.append("month",a),t.append("week",m),t.append("from_date",w),t.append("to_date",Z),t.append("year",C),t.append("project",P);const s=await $("Soft_At/view/",t);if(s)return F(!1),_(s.Data),A(s.pending_sites_bucketization),D(s.alarm_bucketization),B(s.ageing_circleWise.Total),s},staleTime:4e5,refetchOnReconnect:!1});console.log("query daata",V,Y,H);const te={labels:Q,datasets:[{label:"Accepted Sites",data:L,borderColor:"green",backgroundColor:["rgba(15, 255, 79, 0.53)"],borderWidth:2,color:"red",fill:!0,tension:.4}]},ae={labels:Q,datasets:[{label:"Accepted % ",data:M,borderColor:"green",backgroundColor:["rgba(15, 255, 79, 0.53)"],borderWidth:2,color:"red",fill:!0,tension:.4},{label:"Rejected % ",data:G,borderColor:"red",backgroundColor:["rgba(255, 15, 15, 0.56)"],borderWidth:2,color:"red",fill:!0,tension:.4}]},se={responsive:!0,plugins:{legend:{labels:{font:{size:16,weight:"bold"}}},datalabels:{display:!0,color:"black",anchor:"end",align:"top"},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}}};return(0,s.useEffect)((()=>{V&&(_(V.Data),A(V.pending_sites_bucketization),D(V.alarm_bucketization),B(V.ageing_circleWise.Total)),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(o.Z,{style:{margin:10},children:[(0,x.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,x.jsxs)(d.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,x.jsx)(p.Z,{fontSize:"small"}),children:[(0,x.jsx)(c.Z,{underline:"hover",href:"/tools",children:"Tools"}),(0,x.jsx)(c.Z,{underline:"hover",href:"/tools/soft_at",children:"Soft AT"}),(0,x.jsx)(u.Z,{color:"text.primary",children:"Master Dashboard"})]})}),(0,x.jsxs)(n.ZP,{container:!0,rowSpacing:1,columnSpacing:1,direction:{xs:"column",md:"row",sm:"column"},children:[(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh"},children:(0,x.jsx)(r.$Q,{style:{height:300,width:550,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:te,options:se,plugins:[l.Z]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh"},children:(0,x.jsx)(r.$Q,{style:{height:300,width:550,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Rejected Sites",data:N,borderColor:"red",backgroundColor:["rgba(255, 15, 15, 0.56)"],borderWidth:2,fill:!0,tension:.4}]},options:se,plugins:[l.Z]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Dismantle Sites",data:K,borderColor:"rgba(235, 150, 76, 1)",backgroundColor:["rgba(235, 150, 76, 0.79)"],borderWidth:2}]},options:se,plugins:[l.Z]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Pending Sites",data:I,borderColor:"Yellow",backgroundColor:["rgba(255, 239, 15, 0.65)"],borderWidth:2,fill:!0,tension:.4}]},options:se,plugins:[l.Z]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:["0-15","16-30","31-60","61-90","GT-90","GT-120","Total"],datasets:[{label:"Ageing wise(Pending Sites)",data:X,borderColor:"rgba(161, 68, 218)",backgroundColor:["rgba(161, 68, 218, 0.5)"],borderWidth:2}]},options:se,plugins:[l.Z]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",backgroundColor:"",borderRadius:10,backgroundColor:"white"},data:ae,options:{responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{font:{size:16,weight:"bold"}}},datalabels:{display:!0,color:"black",anchor:"end",align:"top"},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},stacked:!0},y:{stacked:!0,grid:{display:!0},ticks:{stepSize:""}}}},plugins:[l.Z,i.ZP]})})}),(0,x.jsx)(n.ZP,{item:!0,xs:6,children:(0,x.jsx)(o.Z,{style:{height:"60vh",width:"100%"},children:(0,x.jsx)(r.$I,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:{labels:["Circle Team","NOC Team","UBR Team"],datasets:[{label:"Bucket wise(Pending Sites)",data:U,borderColor:"#D35400",backgroundColor:["#7FB3D5","#148F77","#B9770E ","#EB984E"],borderWidth:0,hoverBorderWidth:2}]},options:{responsive:!0,plugins:{legend:{position:"right",labels:{font:{size:14}}},title:{display:!0,text:"Bucket wise(Pending Sites)",font:{size:18,weight:"bold"}},datalabels:{display:!0,color:"black",font:{size:15}}}},plugins:[l.Z]})})})]})]}),(e=>{console.log("test function rerendring");var t,a=[];null!=T&&(null===(t=Object.keys(T))||void 0===t||t.map((e=>{a.push({...T[e],circle:e})})));null===a||void 0===a||a.map((e=>{Q.push(e.circle),I.push(e.Pending),L.push(e.Accepted),N.push(e.Rejected),K.push(e.Dismantle),M.push(e.Accepted_per),G.push(e.Rejection_per)}))})(),(()=>{var e,t=[];null!=E&&(null===(e=Object.keys(E))||void 0===e||e.map((e=>{t.push({...E[e],status:e})})));null===t||void 0===t||t.map(((e,t)=>{var a;"Pending"==e.status&&(delete e.status,delete e.Total,null===(a=Object.values(e))||void 0===a||a.map((e=>{console.log("aaaaaa",e),U.push(e)})))}))})(),(()=>{var e,t=O;null===(e=Object.values(t))||void 0===e||e.map((e=>{X.push(e)}))})(),q]})}},30550:(e,t,a)=>{var s=a(74819);s.kL.register(...s.zX)},43623:(e,t,a)=>{a.d(t,{$I:()=>g,$Q:()=>b,by:()=>x,x1:()=>h});var s=a(72791),o=a(74819);const n="label";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function l(e,t){e.labels=t}function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;const s=[];e.datasets=t.map((t=>{const o=e.datasets.find((e=>e[a]===t[a]));return o&&t.data&&!s.includes(o)?(s.push(o),Object.assign(o,t),o):{...t}}))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a={labels:[],datasets:[]};return l(a,e.labels),i(a,e.datasets,t),a}function c(e,t){const{height:a=150,width:n=300,redraw:c=!1,datasetIdKey:u,type:p,data:h,options:b,plugins:g=[],fallbackContent:x,updateMode:f,...m}=e,y=(0,s.useRef)(null),k=(0,s.useRef)(),j=()=>{y.current&&(k.current=new o.kL(y.current,{type:p,data:d(h,u),options:b&&{...b},plugins:g}),r(t,k.current))},w=()=>{r(t,null),k.current&&(k.current.destroy(),k.current=null)};return(0,s.useEffect)((()=>{!c&&k.current&&b&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(k.current,b)}),[c,b]),(0,s.useEffect)((()=>{!c&&k.current&&l(k.current.config.data,h.labels)}),[c,h.labels]),(0,s.useEffect)((()=>{!c&&k.current&&h.datasets&&i(k.current.config.data,h.datasets,u)}),[c,h.datasets]),(0,s.useEffect)((()=>{k.current&&(c?(w(),setTimeout(j)):k.current.update(f))}),[c,b,h.labels,h.datasets,f]),(0,s.useEffect)((()=>{k.current&&(w(),setTimeout(j))}),[p]),(0,s.useEffect)((()=>(j(),()=>w())),[]),s.createElement("canvas",Object.assign({ref:y,role:"img",height:a,width:n},m),x)}const u=(0,s.forwardRef)(c);function p(e,t){return o.kL.register(t),(0,s.forwardRef)(((t,a)=>s.createElement(u,Object.assign({},t,{ref:a,type:e}))))}const h=p("line",o.ST),b=p("bar",o.vn),g=p("doughnut",o.jI),x=p("pie",o.tt)}}]);
//# sourceMappingURL=9817.9e0fb74d.chunk.js.map