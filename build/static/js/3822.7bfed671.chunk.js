"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[3822],{63822:(e,n,o)=>{o.r(n),o.d(n,{default:()=>T});var l=o(72791),t=o(55931),i=o(64554),r=o(93517),s=o(50533),a=o(4567),c=o(61889),d=o(5574),x=o(65661),m=o(90977),f=o(39157),p=o(13838),u=o(72821),h=o(41557),g=o(53717),j=o(29823),b=o(27247),Z=o(57689),w=o(21830),_=o.n(w),k=o(27207),C=o(39992),v=o(44997),y=o(88845),S=o(80184);const F=[{folder_name:"Locator File",api:"degrow_dismental/upload_locator",back_folder:"locater"},{folder_name:"MS-MF File",api:"degrow_dismental/upload_msmf",back_folder:"msmf"},{folder_name:"RFS File",api:"degrow_dismental/upload_rfs",back_folder:"rfs"},{folder_name:"Mobinet File",api:"degrow_dismental/upload_mobinet",back_folder:"mobinet"}],B=l.forwardRef((function(e,n){return(0,S.jsx)(t.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:n,...e})})),A=e=>{let{label:n,color:o,onChange:l,error:t,multiple:r=!1,selectedText:s}=e;return(0,S.jsxs)(i.Z,{children:[(0,S.jsx)("div",{className:(0,C.Z)().Front_Box_Hading,children:n}),(0,S.jsxs)("div",{className:(0,C.Z)().Front_Box_Select_Button,children:[(0,S.jsxs)(p.Z,{variant:"contained",component:"label",color:o,children:["Select File",(0,S.jsx)("input",{hidden:!0,required:!0,type:"file",accept:".csv, .xls, .xlsx, .xlsb, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, application/octet-stream",multiple:r,onChange:l})]}),s&&(0,S.jsx)("span",{style:{color:"green",fontSize:18,fontWeight:600,marginLeft:10},children:s}),t&&(0,S.jsx)("div",{children:(0,S.jsx)("span",{style:{color:"red",fontSize:18,fontWeight:600},children:"This Field Is Required!"})})]})]})},T=()=>{const[e,n]=(0,l.useState)(!1),[o,t]=(0,l.useState)(),w=(0,Z.s0)(),{loading:C,action:T}=(0,y.Z)(),[D,R]=(0,l.useState)([]),[z,I]=(0,l.useState)([]),[W,E]=(0,l.useState)({selectfile:!1}),O=async e=>{T(!0);const n=await(0,v.Yu)("".concat(e,"/"));null!==n&&void 0!==n&&n.status&&(T(!1),R(n.files))},M=()=>{n(!1),R([]),t(),E({selectfile:!1}),I([])};return(0,l.useEffect)((()=>{const e=window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase();document.title=e}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{m:1,ml:2,children:(0,S.jsxs)(r.Z,{separator:(0,S.jsx)(u.Z,{fontSize:"small"}),children:[(0,S.jsx)(s.Z,{underline:"hover",onClick:()=>w("/tools"),children:"Tools"}),(0,S.jsx)(s.Z,{underline:"hover",onClick:()=>w("/tools/degrow_dismantle"),children:"Degrow Dismantle"}),(0,S.jsx)(a.Z,{color:"text.primary",children:"File Manager"})]})}),(0,S.jsx)(i.Z,{sx:{margin:"20px"},children:(0,S.jsx)(c.ZP,{container:!0,rowSpacing:2,columnSpacing:3,direction:{xs:"column",sm:"column",md:"row"},children:F.map(((e,o)=>(0,S.jsx)(c.ZP,{item:!0,xs:4,children:(0,S.jsxs)(i.Z,{onClick:()=>{return o=e.folder_name,l=e.api,i=e.back_folder,O(l),n(!0),void t({foldername:o,apikey:l,back_folder:i});var o,l,i},sx:{border:"1px solid black",cursor:"pointer",display:"flex",gap:"10px",padding:1,alignItems:"center",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px","&:hover":{backgroundColor:"#006e74",color:"white"}},children:[(0,S.jsx)(g.Z,{sx:{color:"#FEA405",fontSize:35}}),(0,S.jsx)(i.Z,{sx:{fontSize:20,fontWeight:"bold"},children:e.folder_name})]})},o)))})}),e&&(0,S.jsxs)(d.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:B,open:e,onClose:M,sx:{zIndex:2},children:[(0,S.jsxs)(x.Z,{children:[(0,S.jsx)("span",{style:{float:"left"},children:(0,S.jsx)("h3",{children:o.foldername})}),(0,S.jsx)("span",{style:{float:"right"},children:(0,S.jsx)(m.Z,{size:"large",onClick:M,children:(0,S.jsx)(j.Z,{})})})]}),(0,S.jsxs)(f.Z,{children:[(0,S.jsxs)(i.Z,{sx:{border:"2px solid black",borderRadius:"5px",padding:1,display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,S.jsx)(i.Z,{children:(0,S.jsx)(A,{color:z.length>0?"warning":"primary",multiple:!0,onChange:e=>{I(Array.from(e.target.files)),E((e=>({...e,selectfile:!1})))},error:W.selectfile,selectedText:z.length>0?"Selected File(s): ".concat(z.length):""})}),(0,S.jsx)(i.Z,{children:(0,S.jsx)(p.Z,{variant:"contained",color:"success",onClick:()=>(async e=>{if(!(z.length>0))return void E({selectfile:0===z.length});T(!0);const n=new FormData;Array.from(z).forEach((e=>{n.append("files",e)}));const o=await(0,v.qC)("".concat(e,"/"),n);T(!1),o.status?(O(e),E({selectfile:!1}),I([]),_().fire({icon:"success",title:"Done",text:o.message})):_().fire({icon:"error",title:"Oops...",text:o.message})})(null===o||void 0===o?void 0:o.apikey),endIcon:(0,S.jsx)(h.Z,{}),children:"Upload"})})]}),D.length>0&&(0,S.jsxs)(i.Z,{sx:{border:"2px solid black",borderRadius:"5px",padding:2,marginTop:1},children:[(0,S.jsx)(c.ZP,{container:!0,rowSpacing:2,columnSpacing:3,direction:{xs:"column",sm:"column",md:"row"},children:D.map(((e,n)=>(0,S.jsx)(c.ZP,{item:!0,xs:4,children:(0,S.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",border:"0px solid black",borderRadius:"5px",padding:.5,background:"#e9e9e9","&:hover":{backgroundColor:"#223354",color:"white"}},onClick:()=>(async(e,n,o)=>{if((await _().fire({title:"Are you sure?",text:"Want to delete ".concat(e," file!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){T(!0);const l=await(0,v.SR)("degrow_dismental/delete_file/",{data:{filename:"".concat(e),foldername:"".concat(o)}});T(!1),null!==l&&void 0!==l&&l.status?(O(n),_().fire({icon:"success",title:"Deleted!",text:l.message})):_().fire({icon:"error",title:"Oops...",text:l.message})}else console.log("Deletion cancelled.")})(e,null===o||void 0===o?void 0:o.apikey,null===o||void 0===o?void 0:o.back_folder),children:[(0,S.jsx)(k.Z,{sx:{color:"#FEA405"}}),e]},e)},n)))}),(0,S.jsx)(i.Z,{sx:{textAlign:"center",marginTop:2},children:(0,S.jsx)(p.Z,{onClick:()=>(async e=>{if((await _().fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed){T(!0);const n=await(0,v.SR)("".concat(e,"/"));console.log("response",n),T(!1),null!==n&&void 0!==n&&n.status?(R([]),_().fire({icon:"success",title:"Deleted!",text:n.message})):_().fire({icon:"error",title:"Oops...",text:n.message})}else console.log("Deletion cancelled.")})(null===o||void 0===o?void 0:o.apikey),variant:"contained",fullWidth:!0,color:"error",endIcon:(0,S.jsx)(b.Z,{}),children:"Delete All"})})]})]})]}),C]})}}}]);
//# sourceMappingURL=3822.7bfed671.chunk.js.map