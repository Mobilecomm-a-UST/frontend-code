"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[9817],{88845:(e,t,a)=>{a.d(t,{Z:()=>d});var o=a(72791),s=a(5574),l=a(39157),r=a(64554),i=a(63571),n=a(80184);const d=()=>{const[e,t]=(0,o.useState)(!1);return{loading:(0,o.useMemo)((()=>(console.log("loadingh dialog"),(0,n.jsx)(s.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(r.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,n.jsx)(r.Z,{style:{textAlign:"center"},children:(0,n.jsx)(i.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,n.jsx)(r.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,a)=>{a.d(t,{u:()=>i});var o=a(72791),s=a(31243),l=a(44997),r=a(61982);const i=e=>{const[t,a]=(0,o.useState)(!1),[i,n]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[h,p]=(0,o.useState)(null),[u,b]=(0,o.useState)(0),g=()=>{h&&h.cancel()};return(0,o.useEffect)((()=>g),[]),{isLoading:t,error:i,response:d,makePostRequest:async(t,o)=>{a(!0),n(null),c(null);const d=s.Z.CancelToken.source();p(d);try{const a=await s.Z.post("".concat(l.hN,"/").concat(t),o,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,r.b)("tokenKey"))}});return c(a),await a.data}catch(i){return s.Z.isCancel(i)?(console.log("Request canceled"),!1):(n(i),console.log("error",i),!1)}finally{a(!1)}},cancelRequest:g}}},49817:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var o=a(72791),s=a(64554),l=a(61889),r=(a(30550),a(43623)),i=(a(44997),a(81213)),n=a(80429),d=a(93517),c=a(50533),h=a(4567),p=a(5397),u=a(3984),b=a(30204),g=a(88845),x=a(80184);const m=()=>{const[e,t]=(0,o.useState)(""),[a,m]=(0,o.useState)(""),[k,j]=(0,o.useState)(""),[y,w]=(0,o.useState)(!1),[S,Z]=(0,o.useState)(""),[f,C]=(0,o.useState)(""),[v,P]=(0,o.useState)("2023"),[z,R]=(0,o.useState)(""),[_,T]=(0,o.useState)([]),[A,W]=(0,o.useState)([]),[D,B]=(0,o.useState)([]),[E,q]=(0,o.useState)([]),{makePostRequest:F}=(0,b.u)(),{loading:O,action:$}=(0,g.Z)();var Q=[],N=[],G=[],I=[],L=[],M=[],U=[],K=[],X=[];delete N[N.length-1];const{isPending:Y,isFetching:H,isError:J,data:V,error:ee}=(0,u.a)({queryKey:["soft_at_master_api"],queryFn:async()=>{$(!0);var t=new FormData;t.append("Date",e),t.append("month",a),t.append("week",k),t.append("from_date",S),t.append("to_date",f),t.append("year",v),t.append("project",z);const o=await F("Soft_At/view/",t);if(o)return $(!1),T(o.Data),W(o.pending_sites_bucketization),B(o.alarm_bucketization),q(o.ageing_circleWise.Total),o},staleTime:4e5,refetchOnReconnect:!1});console.log("query daata",V,Y,H);const te={labels:Q,datasets:[{label:"Accepted Sites",data:G,borderColor:"green",backgroundColor:["rgba(15, 255, 79, 0.53)"],borderWidth:2,color:"red",fill:!0,tension:.4}]},ae={labels:Q,datasets:[{label:"Accepted % ",data:I,borderColor:"green",backgroundColor:["rgba(15, 255, 79, 0.53)"],borderWidth:2,color:"red",fill:!0,tension:.4},{label:"Rejected % ",data:M,borderColor:"red",backgroundColor:["rgba(255, 15, 15, 0.56)"],borderWidth:2,color:"red",fill:!0,tension:.4}]},oe={responsive:!0,plugins:{legend:{labels:{font:{size:16,weight:"bold"}}},datalabels:{display:!0,color:"black",anchor:"end",align:"top"},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}}};return(0,o.useEffect)((()=>{V&&(T(V.Data),W(V.pending_sites_bucketization),B(V.alarm_bucketization),q(V.ageing_circleWise.Total)),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(s.Z,{style:{margin:10},children:[(0,x.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,x.jsxs)(d.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,x.jsx)(p.Z,{fontSize:"small"}),children:[(0,x.jsx)(c.Z,{underline:"hover",href:"/tools",children:"Tools"}),(0,x.jsx)(c.Z,{underline:"hover",href:"/tools/soft_at",children:"Soft AT"}),(0,x.jsx)(h.Z,{color:"text.primary",children:"Master Dashboard"})]})}),(0,x.jsxs)(l.ZP,{container:!0,rowSpacing:1,columnSpacing:1,direction:{xs:"column",md:"row",sm:"column"},children:[(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh"},children:(0,x.jsx)(r.$Q,{style:{height:300,width:550,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:te,options:oe,plugins:[i.Z]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh"},children:(0,x.jsx)(r.$Q,{style:{height:300,width:550,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Rejected Sites",data:L,borderColor:"red",backgroundColor:["rgba(255, 15, 15, 0.56)"],borderWidth:2,fill:!0,tension:.4}]},options:oe,plugins:[i.Z]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Dismantle Sites",data:U,borderColor:"rgba(235, 150, 76, 1)",backgroundColor:["rgba(235, 150, 76, 0.79)"],borderWidth:2}]},options:oe,plugins:[i.Z]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:Q,datasets:[{label:"Pending Sites",data:N,borderColor:"Yellow",backgroundColor:["rgba(255, 239, 15, 0.65)"],borderWidth:2,fill:!0,tension:.4}]},options:oe,plugins:[i.Z]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",height:300,width:550,borderRadius:10,backgroundColor:"white"},data:{labels:["0-15","16-30","31-60","61-90","GT-90","GT-120","Total"],datasets:[{label:"Ageing wise(Pending Sites)",data:X,borderColor:"rgba(161, 68, 218)",backgroundColor:["rgba(161, 68, 218, 0.5)"],borderWidth:2}]},options:oe,plugins:[i.Z]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"44vh",width:"100%"},children:(0,x.jsx)(r.$Q,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",backgroundColor:"",borderRadius:10,backgroundColor:"white"},data:ae,options:{responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{labels:{font:{size:16,weight:"bold"}}},datalabels:{display:!0,color:"black",anchor:"end",align:"top"},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},stacked:!0},y:{stacked:!0,grid:{display:!0},ticks:{stepSize:""}}}},plugins:[i.Z,n.ZP]})})}),(0,x.jsx)(l.ZP,{item:!0,xs:6,children:(0,x.jsx)(s.Z,{style:{height:"60vh",width:"100%"},children:(0,x.jsx)(r.$I,{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",borderRadius:10,backgroundColor:"white"},data:{labels:["Circle Team","NOC Team","UBR Team"],datasets:[{label:"Bucket wise(Pending Sites)",data:K,borderColor:"#D35400",backgroundColor:["#7FB3D5","#148F77","#B9770E ","#EB984E"],borderWidth:0,hoverBorderWidth:2}]},options:{responsive:!0,plugins:{legend:{position:"right",labels:{font:{size:14}}},title:{display:!0,text:"Bucket wise(Pending Sites)",font:{size:18,weight:"bold"}},datalabels:{display:!0,color:"black",font:{size:15}}}},plugins:[i.Z]})})})]})]}),(e=>{console.log("test function rerendring");var t,a=[];null!=_&&(null===(t=Object.keys(_))||void 0===t||t.map((e=>{a.push({..._[e],circle:e})})));null===a||void 0===a||a.map((e=>{Q.push(e.circle),N.push(e.Pending),G.push(e.Accepted),L.push(e.Rejected),U.push(e.Dismantle),I.push(e.Accepted_per),M.push(e.Rejection_per)}))})(),(()=>{var e,t=[];null!=A&&(null===(e=Object.keys(A))||void 0===e||e.map((e=>{t.push({...A[e],status:e})})));null===t||void 0===t||t.map(((e,t)=>{var a;"Pending"==e.status&&(delete e.status,delete e.Total,null===(a=Object.values(e))||void 0===a||a.map((e=>{console.log("aaaaaa",e),K.push(e)})))}))})(),(()=>{var e,t=E;null===(e=Object.values(t))||void 0===e||e.map((e=>{X.push(e)}))})(),O]})}},30550:(e,t,a)=>{var o=a(74819);o.kL.register(...o.zX)}}]);
//# sourceMappingURL=9817.44868d38.chunk.js.map