"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[6787],{88845:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(72791),n=o(5574),r=o(39157),i=o(64554),l=o(63571),s=o(80184);const d=()=>{const[e,t]=(0,a.useState)(!1);return{loading:(0,a.useMemo)((()=>(console.log("loadingh dialog"),(0,s.jsx)(n.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(i.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,s.jsx)(i.Z,{style:{textAlign:"center"},children:(0,s.jsx)(l.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,s.jsx)(i.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,o)=>{o.d(t,{u:()=>l});var a=o(72791),n=o(31243),r=o(44997),i=o(61982);const l=e=>{const[t,o]=(0,a.useState)(!1),[l,s]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[p,b]=(0,a.useState)(null),[u,h]=(0,a.useState)(0),g=()=>{p&&p.cancel()};return(0,a.useEffect)((()=>g),[]),{isLoading:t,error:l,response:d,makePostRequest:async(t,a)=>{o(!0),s(null),c(null);const d=n.Z.CancelToken.source();b(d);try{const o=await n.Z.post("".concat(r.hN,"/").concat(t),a,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,i.b)("tokenKey"))}});return c(o),await o.data}catch(l){return n.Z.isCancel(l)?(console.log("Request canceled"),!1):(s(l),console.log("error",l),!1)}finally{o(!1)}},cancelRequest:g}}},46787:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var a=o(72791),n=(o(30550),o(43623)),r=o(13838),i=o(81213),l=o(80429),s=o(46420),d=o.n(s),c=o(44997),p=o(60585),b=o(50168),u=o(40630),h=o(70320),g=o(5536),x=o(5574),m=o(55931),f=o(30204),y=o(88845),C=o(3984),v=o(65661),k=o(90977),j=o(29823),S=o(80184);const w=a.forwardRef((function(e,t){return(0,S.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),R=e=>{var t,o,a,r,s,p,b,u,h,g,m,f,y;let C,{dataset:R,status:E,closeDialog:O,month:Z,activity:_}=e;console.log("data",R);const I={labels:[R?null===(t=R[0])||void 0===t?void 0:t.cir:"nan"],datasets:[{label:"DE-GROW",data:[R?null===(o=R[0])||void 0===o?void 0:o.DE_GROW:"0"],borderColor:"black",backgroundColor:["rgb(192, 57, 43,0.8)"],borderWidth:1,fill:!0,tension:.4},{label:"MACRO",data:[R?null===(a=R[0])||void 0===a?void 0:a.MACRO:"0"],borderColor:"black",backgroundColor:["rgb(236, 112, 99,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"RELOCATION",data:[R?null===(r=R[0])||void 0===r?void 0:r.RELOCATION:"0"],borderColor:"black",backgroundColor:["rgb(136, 78, 160 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"RET",data:[R?null===(s=R[0])||void 0===s?void 0:s.RET:"0"],borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"ULS HPSC",data:[R?null===(p=R[0])||void 0===p?void 0:p.ULS_HPSC:"0"],borderColor:"black",backgroundColor:["rgb(187, 143, 206,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"UPGRADE",data:[R?null===(b=R[0])||void 0===b?void 0:b.UPGRADE:"0"],borderColor:"black",backgroundColor:["rgb(229, 152, 102,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"FEMTO",data:[R?null===(u=R[0])||void 0===u?void 0:u.FEMTO:"0"],borderColor:"black",backgroundColor:["rgb(93, 173, 226,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"HT-INCREMENT",data:[R?null===(h=R[0])||void 0===h?void 0:h.HT_INCREMENT:"0"],borderColor:"black",backgroundColor:["rgb(118, 215, 196,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"IBS",data:[R?null===(g=R[0])||void 0===g?void 0:g.IBS:"0"],borderColor:"black",backgroundColor:["rgb(34, 153, 84 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"ODSC",data:[R?null===(m=R[0])||void 0===m?void 0:m.ODSC:"0"],borderColor:"black",backgroundColor:["rgb(243, 156, 18,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"RECTIFICATION",data:[R?null===(f=R[0])||void 0===f?void 0:f.RECTIFICATION:"0"],borderColor:"black",backgroundColor:["rgb(211, 84, 0 ,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1},{label:"OTHERS",data:[R?null===(y=R[0])||void 0===y?void 0:y.OTHERS:"0"],borderColor:"black",backgroundColor:["rgb(133, 146, 158,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1}]},A={responsive:!0,maintainApectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"OEM (".concat(_,") Wise Integration Count ").concat(Z),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:10,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{C=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||C||(t=300*e.dataIndex+100*e.datasetIndex),t}}};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(x.Z,{fullWidth:!0,maxWidth:"md",TransitionComponent:w,open:E,children:[(0,S.jsxs)(v.Z,{children:["Activity Graph ",(0,S.jsx)("span",{style:{float:"right"},children:(0,S.jsx)(k.Z,{size:"large",onClick:O,children:(0,S.jsx)(j.Z,{})})})]}),(0,S.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,S.jsx)("div",{style:{filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,S.jsx)(n.$Q,{data:I,options:A,plugins:[i.Z,l.ZP,d()]})})})]})})},E=a.memo(R);var O=o(763),Z=o.n(O);const _=a.forwardRef((function(e,t){return(0,S.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),I=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],A=()=>{const e=(0,a.useRef)(null),[t,o]=(0,a.useState)(!1),[s,m]=(0,a.useState)(!1),{makePostRequest:v,cancelRequest:k}=(0,f.u)(),{loading:j,action:w}=(0,y.Z)(),[R,O]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),[W,N]=(0,a.useState)([]),[M,P]=(0,a.useState)([]),[D,z]=(0,a.useState)([]),[F,J]=(0,a.useState)([]),[L,U]=(0,a.useState)(""),[H,B]=(0,a.useState)(""),[G,q]=(0,a.useState)(""),[K,Q]=(0,a.useState)(),[Y,$]=(0,a.useState)(!1),[X,V]=(0,a.useState)(""),{isPending:ee,isFetching:te,isError:oe,data:ae,refetch:ne}=(0,C.a)({queryKey:["Integration_OEM_wise"],queryFn:async()=>{w(ee);var e=new FormData;e.append("month",L),e.append("year",H);const t=await v("IntegrationTracker/monthly-oemwise-integration-data/",e);if(t)return w(!1),O(Z().map(JSON.parse(t.table_data),"cir")),T(Z().map(JSON.parse(t.table_data),"ERICSSON")),N(Z().map(JSON.parse(t.table_data),"HUAWEI")),P(Z().map(JSON.parse(t.table_data),"NOKIA")),z(Z().map(JSON.parse(t.table_data),"SAMSUNG")),J(Z().map(JSON.parse(t.table_data),"ZTE")),U(t.month),B(t.year),q("".concat(t.year,"-").concat(t.month<10?"0"+t.month:t.month)),t;w(!1)},staleTime:1e5,refetchOnReconnect:!1});let re;const ie={labels:R,datasets:[{label:"Ericsson",data:A,borderColor:"black",backgroundColor:["rgb(237,108,2,0.8)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"Huawei",data:W,borderColor:"black",backgroundColor:["rgb(241,4,5,0.6)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"Nokia",data:M,borderColor:"black",backgroundColor:["rgb(0,90,255,0.7)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"Samsung",data:D,borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"ZTE",data:F,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4,borderRadius:5}]},le={labels:R,datasets:[{label:"Ericsson",data:A,borderColor:"black",backgroundColor:["rgb(237,108,2,0.8)"],borderWidth:1,fill:!0,tension:.4},{label:"Huawei",data:W,borderColor:"black",backgroundColor:["rgb(241,4,5,0.6)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"Nokia",data:M,borderColor:"black",backgroundColor:["rgb(0,90,255,0.7)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"Samsung",data:D,borderColor:"black",backgroundColor:["rgb(244, 208, 63,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4},{label:"ZTE",data:F,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,color:"red",fill:!0,tension:.4,borderRadius:1}]},se={responsive:!0,maintainApectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"OEM Wise Integration Count ( ".concat(I[L],"-").concat(H," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:10,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{re=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||re||(t=300*e.dataIndex+100*e.datasetIndex),t}}},de=()=>{m(!1),$(!1)};(0,a.useEffect)((()=>{const t=e.current;t&&(t.canvas.onclick=function(e){const o=t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(o.length>0){const e=o[0],a=t.data.labels[e.index],n=t.data.datasets[e.datasetIndex].label;t.data.datasets[e.datasetIndex].data[e.index];(async()=>{w(!0);var e=new FormData;e.append("circle",a),e.append("oem",n.toUpperCase()),e.append("month",L),e.append("year",H);const t=await v("IntegrationTracker/hyperlink-monthly-oemwise-integration-data/",e);t?(w(!1),V(n.toUpperCase()),Q(JSON.parse(t.table_data)),$(!0)):w(!1)})()}})}),[le]);const ce=(0,a.useCallback)((()=>(0,S.jsx)(x.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:_,open:s,onClose:de,children:(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.$Q,{ref:e,data:le,options:se,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.x1,{data:ie,options:se,plugins:[i.Z,l.ZP,d()]})})]})})),[s]);return(0,a.useEffect)((()=>(ae&&(O(Z().map(JSON.parse(ae.table_data),"cir")),T(Z().map(JSON.parse(ae.table_data),"ERICSSON")),N(Z().map(JSON.parse(ae.table_data),"HUAWEI")),P(Z().map(JSON.parse(ae.table_data),"NOKIA")),z(Z().map(JSON.parse(ae.table_data),"SAMSUNG")),J(Z().map(JSON.parse(ae.table_data),"ZTE")),U(ae.month),B(ae.year),q("".concat(ae.year,"-").concat(ae.month<10?"0"+ae.month:ae.month)),console.log("test data",JSON.parse(ae.table_data))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{k()})),[]),(0,S.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,S.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,S.jsx)(p.Z,{}),"FILTER DATA"]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{style:{fontSize:15},children:"Select Month"}),(0,S.jsx)("input",{type:"month",value:G,onChange:e=>(async e=>{let t=e.split("-");await U(t[1]),await B(t[0]),await q(e),await ne()})(e.target.value)})]}),(0,S.jsx)("div",{children:(0,S.jsxs)(h.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{o(!t)},"aria-label":"Platform",children:[(0,S.jsx)(u.Z,{value:!0,children:"Line"}),(0,S.jsx)(u.Z,{value:!1,children:"Bar"})]})}),(0,S.jsx)("div",{children:(0,S.jsx)(r.Z,{color:"primary",endIcon:(0,S.jsx)(g.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,S.jsx)(n.x1,{ref:e,data:ie,options:se,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,S.jsx)(n.$Q,{ref:e,data:le,options:se,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)(E,{dataset:K,status:Y,closeDialog:de,month:"".concat(I[L],"-").concat(H),activity:X}),ce(),j]})};var T=o(64554),W=o(40835);const N=a.forwardRef((function(e,t){return(0,S.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),M=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],P=["#B0EBB4","#A0DEFF","#FF9F66","#ECB176","#CDE8E5"],D=()=>{const e=(0,a.useRef)(null),[t,o]=(0,a.useState)(!1),[s,m]=(0,a.useState)(!1),{makePostRequest:v,cancelRequest:k}=(0,f.u)(),{loading:j,action:w}=(0,y.Z)(),[R,E]=(0,a.useState)([]),[O,_]=(0,a.useState)("AP"),[I,A]=(0,a.useState)("_DE_GROW"),[D,z]=(0,a.useState)([]),[F,J]=(0,a.useState)([]),[L,U]=(0,a.useState)([]),[H,B]=(0,a.useState)([]),[G,q]=(0,a.useState)([]),[K,Q]=(0,a.useState)([]),[Y,$]=(0,a.useState)(""),[X,V]=(0,a.useState)(""),[ee,te]=(0,a.useState)(""),[oe,ae]=(0,a.useState)([]),[ne,re]=(0,a.useState)([]),{isPending:ie,isFetching:le,isError:se,data:de,error:ce,refetch:pe}=(0,C.a)({queryKey:["Integration_month_wise"],queryFn:async()=>{w(!0);var e=new FormData;e.append("month",Y),e.append("year",X);try{const t=await v("IntegrationTracker/monthwise-integration-data/",e);return w(!1),console.log("graph data",t),t?($(t.latest_months),V(t.latest_year),te("".concat(t.latest_year[0],"-").concat(t.latest_months[0]<10?"0"+t.latest_months[0]:t.latest_months[0])),E(Z().map(JSON.parse(t.table_data),"cir")),re(JSON.parse(t.table_data)),t):{}}catch(ce){return w(!1),console.error("Error fetching data:",ce),{}}},staleTime:1e5,refetchOnReconnect:!1});let be;console.log("activityData",null!==ne&&void 0!==ne?ne:0);const ue=(0,a.useCallback)((()=>{fe();let e={["M1".concat(I)]:0,["M2".concat(I)]:0,["M3".concat(I)]:0,["M4".concat(I)]:0,["M5".concat(I)]:0,["M6".concat(I)]:0};null===R||void 0===R||R.map((e=>{const t=Z().filter(ne,(t=>Z().includes(e,t.cir)));z((e=>[...e,Z().get(t[0],"M1".concat(I))])),J((e=>[...e,Z().get(t[0],"M2".concat(I))])),U((e=>[...e,Z().get(t[0],"M3".concat(I))])),B((e=>[...e,Z().get(t[0],"M4".concat(I))])),q((e=>[...e,Z().get(t[0],"M5".concat(I))])),Q((e=>[...e,Z().get(t[0],"M6".concat(I))]))})),null===ne||void 0===ne||ne.forEach((t=>{for(let o in e)e[o]+=Number(t[o])||0})),ae(Object.entries(e).map((e=>{let[t,o]=e;return{activity:t,count:o}})))}),[O,I,ne]),he={labels:R,datasets:[{label:"".concat(M[Y[0]],"-").concat(X[0]),data:D,borderColor:"rgb(0, 159, 189)",backgroundColor:["rgb(0, 159, 189)"],borderWidth:2,borderRadius:5,fill:!1,tension:.4},{label:"".concat(M[Y[1]],"-").concat(X[1]),data:F,borderColor:"rgb(249, 226, 175)",backgroundColor:["rgb(249, 226, 175)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(M[Y[2]],"-").concat(X[2]),data:L,borderColor:"rgb(63, 162, 246)",backgroundColor:["rgb(63, 162, 246)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(M[Y[3]],"-").concat(X[3]),data:H,borderColor:"rgb(54, 186, 152)",backgroundColor:["rgb(54, 186, 152)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(M[Y[4]],"-").concat(X[4]),data:G,borderColor:"rgb(255, 177, 177)",backgroundColor:["rgb(255, 177, 177)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4,borderRadius:5},{label:"".concat(M[Y[5]],"-").concat(X[5]),data:K,borderColor:"rgb(0,76,156,0.8)",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4,borderRadius:5}]},ge={labels:R,datasets:[{label:"".concat(M[Y[0]],"-").concat(X[0]),data:D,borderColor:"black",backgroundColor:["rgb(0, 159, 189)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"".concat(M[Y[1]],"-").concat(X[1]),data:F,borderColor:"black",backgroundColor:["rgb(249, 226, 175)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(M[Y[2]],"-").concat(X[2]),data:L,borderColor:"black",backgroundColor:["rgb(63, 162, 246)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(M[Y[3]],"-").concat(X[3]),data:H,borderColor:"black",backgroundColor:["rgb(54, 186, 152)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(M[Y[4]],"-").concat(X[4]),data:G,borderColor:"black",backgroundColor:["rgb(255, 177, 177)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4},{label:"".concat(M[Y[5]],"-").concat(X[5]),data:K,borderColor:"black",backgroundColor:["rgb(0,76,156,0.8)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4}]},xe={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Monthly Wise Integration Site Count ( ".concat(M[Y[0]],"-").concat(X[0]," ~ ").concat(M[Y[5]],"-").concat(X[5]," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{be=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||be||(t=300*e.dataIndex+100*e.datasetIndex),t}}},me=()=>{m(!1)},fe=()=>{z([]),J([]),U([]),B([]),q([]),Q([])},ye=(0,a.useCallback)((()=>(0,S.jsx)(x.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:N,open:s,onClose:me,children:(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.$Q,{ref:e,data:ge,options:xe,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.x1,{data:he,options:xe,plugins:[i.Z,l.ZP,d()]})})]})})),[s]);return(0,a.useEffect)((()=>{ue()}),[ue]),(0,a.useEffect)((()=>(de&&($(de.latest_months),V(de.latest_year),te("".concat(de.latest_year[0],"-").concat(de.latest_months[0]<10?"0"+de.latest_months[0]:de.latest_months[0])),E(Z().map(JSON.parse(de.table_data),"cir")),re(JSON.parse(de.table_data))),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{k()})),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(T.Z,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",flexDirection:"row",gap:1,marginBottom:2},children:oe.length>0&&oe.map(((e,t)=>(0,S.jsxs)(T.Z,{sx:{height:"auto",width:"23vh",cursor:"pointer",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:"".concat(P[t]),textAlign:"center"},children:[(0,S.jsx)(T.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:"".concat(M[Y[t]],"-").concat(X[t])}),(0,S.jsx)(T.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:(0,S.jsx)(W.ZP,{end:null===e||void 0===e?void 0:e.count,duration:6})}),(0,S.jsx)(T.Z,{sx:{color:"black",textAlign:"left"},children:null===e||void 0===e?void 0:e.activity.replace(/^M\d_/,"").replace(/_/g," ")})]})))}),(0,S.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,S.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,S.jsx)(p.Z,{}),"FILTER DATA"]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{style:{fontSize:15},children:"Select Month"}),(0,S.jsx)("input",{type:"month",value:ee,onChange:e=>(async e=>{let t=e.split("-");await $(t[1]),await V(t[0]),await te(e),await pe()})(e.target.value)})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{style:{fontSize:15},children:"Select Activity"}),(0,S.jsxs)("select",{style:{width:145,height:25,borderRadius:2},value:I,onChange:e=>A(e.target.value),children:[(0,S.jsx)("option",{selected:!0,value:"_DE_GROW",children:"DE-GROW"}),(0,S.jsx)("option",{value:"_MACRO",children:"MACRO"}),(0,S.jsx)("option",{value:"_RELOCATION",children:"RELOCATION"}),(0,S.jsx)("option",{value:"_RET",children:"RET"}),(0,S.jsx)("option",{value:"_ULS_HPSC",children:"ULS-HPSC"}),(0,S.jsx)("option",{value:"_UPGRADE",children:"UPGRADE"}),(0,S.jsx)("option",{value:"_FEMTO",children:"FEMTO"}),(0,S.jsx)("option",{value:"_HT_INCREMENT",children:"HT-INCREMENT"}),(0,S.jsx)("option",{value:"_IBS",children:"IBS"}),(0,S.jsx)("option",{value:"_IDSC",children:"IDSC"}),(0,S.jsx)("option",{value:"_ODSC",children:"ODSC"}),(0,S.jsx)("option",{value:"_RECTIFICATION",children:"RECTIFICATION"}),(0,S.jsx)("option",{value:"_5G_RELOCATION",children:"5G RELOCATION"}),(0,S.jsx)("option",{value:"_5G_SECTOR_ADDITION",children:"5G SECTOR ADDITION"}),(0,S.jsx)("option",{value:"_OPERATIONS",children:"OPERATIONS"}),(0,S.jsx)("option",{value:"_OTHERS",children:"OTHER"})]})]}),(0,S.jsx)("div",{children:(0,S.jsxs)(h.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{o(!t)},"aria-label":"Platform",children:[(0,S.jsx)(u.Z,{value:!0,children:"Line"}),(0,S.jsx)(u.Z,{value:!1,children:"Bar"})]})}),(0,S.jsx)("div",{children:(0,S.jsx)(r.Z,{color:"primary",endIcon:(0,S.jsx)(g.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,S.jsx)(n.x1,{ref:e,data:he,options:xe,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,S.jsx)(n.$Q,{ref:e,data:ge,options:xe,plugins:[i.Z,l.ZP,d()]})}),ye(),j]})]})},z=a.forwardRef((function(e,t){return(0,S.jsx)(m.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),F=[" ","January","February","March","April","May","June","July","August","September","October","November","December"],J=["rgb(255, 99, 132,0.7)","rgb(54, 162, 235,0.7)","rgb(255, 206, 86,0.7)","rgb(75, 192, 192,0.7)","rgb(153, 102, 255,0.7)","rgb(255, 159, 64,0.7)","rgb(201, 203, 207,0.7)","rgb(255, 99, 71,0.7)","rgb(144, 238, 144,0.7)","rgb(135, 206, 235,0.7)","rgb(255, 182, 193)","rgb(173, 216, 230)","rgb(255, 228, 196)","rgb(124, 252, 0)","rgb(255, 140, 0)","rgb(220, 20, 60)","rgb(255, 215, 0)","rgb(0, 255, 127)","rgb(70, 130, 180)","rgb(240, 128, 128)"],L=()=>{const e=(0,a.useRef)(null),[t,o]=(0,a.useState)(!1),[s,m]=(0,a.useState)(!1),{makePostRequest:v,cancelRequest:k}=(0,f.u)(),{loading:j,action:w}=(0,y.Z)(),[R,E]=(0,a.useState)(["ORI","AP","UPW","RAJ","BIH","UPE","KK","KOL","JRK","WB","HRY","ROTN","PUN","MP","MUM","DEL","JK","CHN"]),[O,_]=(0,a.useState)("AP"),[I,A]=(0,a.useState)("_DE_GROW"),[T,W]=(0,a.useState)(""),[N,M]=(0,a.useState)(""),[P,D]=(0,a.useState)(""),[L,U]=(0,a.useState)([]),[H,B]=(0,a.useState)(),[G,q]=(0,a.useState)([]),{isPending:K,isFetching:Q,isError:Y,data:$,error:X,refetch:V}=(0,C.a)({queryKey:["Integration_month_wises"],queryFn:async()=>{w(K);var e=new FormData;e.append("month",T),e.append("year",N);try{const t=await v("IntegrationTracker/monthwise-integration-data/",e);return w(!1),t?(W(t.latest_months),M(t.latest_year),D("".concat(t.latest_year[0],"-").concat(t.latest_months[0]<10?"0"+t.latest_months[0]:t.latest_months[0])),U(Z().uniqBy(t.download_data,"Activity_Name").map((e=>e.Activity_Name))),B(t.download_data),t):{}}catch(X){return w(!1),console.error("Error fetching data:",X),{}}},staleTime:1e5,refetchOnReconnect:!1});let ee;const te=(0,a.useCallback)((()=>{ie();const e={};null===H||void 0===H||H.forEach((t=>{const o="".concat(t.CIRCLE,"_").concat(t.Site_ID,"_").concat(t.Activity_Name);e[o]?e[o]++:e[o]=1}));const t=Object.keys(e).map((t=>{let[o,a,n]=t.split("_");return{CIRCLE:o,Site_ID:a,Activity_Name:n,count:e[t]}}));let o=Z().filter(t,(e=>Z().includes(O,e.CIRCLE)));const a=[];L.map((e=>{let t=Z().filter(o,(t=>Z().includes(e,t.Activity_Name))).length;a.push({Activity:e,Count:t})})),console.log("countArray",a),q(a)}),[O,I,H]),oe={labels:[O],datasets:G.map(((e,t)=>({label:e.Activity,data:[e.Count],borderColor:"black",backgroundColor:[J[t]],borderWidth:1,borderRadius:5,fill:!0,tension:.4})))},ae={labels:[O],datasets:G.map(((e,t)=>({label:e.Activity,data:[e.Count],borderColor:"black",backgroundColor:[J[t]],borderWidth:1,borderRadius:5,fill:!0,tension:.4})))},ne={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Count Of Distinct Activities ( ".concat(F[T[0]],"-").concat(N[0]," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:1}}},watermark:{image:"".concat(c.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{ee=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||ee||(t=300*e.dataIndex+100*e.datasetIndex),t}}},re=()=>{m(!1)},ie=()=>{},le=(0,a.useCallback)((()=>(0,S.jsx)(x.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:z,open:s,onClose:re,children:(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.$Q,{ref:e,data:ae,options:ne,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,S.jsx)(n.x1,{data:oe,options:ne,plugins:[i.Z,l.ZP,d()]})})]})})),[s]);return(0,a.useEffect)((()=>{te()}),[te]),(0,a.useEffect)((()=>($&&(W($.latest_months),M($.latest_year),D("".concat($.latest_year[0],"-").concat($.latest_months[0]<10?"0"+$.latest_months[0]:$.latest_months[0])),B($.download_data)),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{k()})),[]),(0,S.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"100%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,S.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,S.jsx)(p.Z,{}),"FILTER DATA"]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{style:{fontSize:15},children:"Select Month"}),(0,S.jsx)("input",{type:"month",value:P,onChange:e=>(async e=>{let t=e.split("-");await W(t[1]),await M(t[0]),await D(e),await V()})(e.target.value)})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(b.Z,{style:{fontSize:15},children:"Select Circle"}),(0,S.jsx)("select",{style:{width:145,height:25,borderRadius:2},value:O,onChange:e=>_(e.target.value),children:null===R||void 0===R?void 0:R.map(((e,t)=>(0,S.jsx)("option",{children:e},t)))})]}),(0,S.jsx)("div",{children:(0,S.jsxs)(h.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{o(!t)},"aria-label":"Platform",children:[(0,S.jsx)(u.Z,{value:!0,children:"Line"}),(0,S.jsx)(u.Z,{value:!1,children:"Bar"})]})}),(0,S.jsx)("div",{children:(0,S.jsx)(r.Z,{color:"primary",endIcon:(0,S.jsx)(g.Z,{}),onClick:()=>{m(!0)},children:"Full screen"})})]}),(0,S.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,S.jsx)(n.x1,{ref:e,data:oe,options:ne,plugins:[i.Z,l.ZP,d()]})}),(0,S.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,S.jsx)(n.$Q,{ref:e,data:ae,options:ne,plugins:[i.Z,l.ZP,d()]})}),le(),j]})},U=()=>(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(T.Z,{sx:{margin:2},children:[(0,S.jsx)(D,{}),(0,S.jsx)("br",{}),(0,S.jsx)(A,{}),(0,S.jsx)("br",{}),(0,S.jsx)(L,{})]})})},55931:(e,t,o)=>{o.d(t,{Z:()=>g});var a=o(87462),n=o(63366),r=o(72791),i=o(18875),l=o(83199),s=o(42071),d=o(13967),c=o(4999),p=o(17602),b=o(80184);const u=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function h(e,t,o){var a;const n=function(e,t,o){const a=t.getBoundingClientRect(),n=o&&o.getBoundingClientRect(),r=(0,p.Z)(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const e=r.getComputedStyle(t);i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let l=0,s=0;if(i&&"none"!==i&&"string"===typeof i){const e=i.split("(")[1].split(")")[0].split(",");l=parseInt(e[4],10),s=parseInt(e[5],10)}return"left"===e?"translateX(".concat(n?n.right+l-a.left:r.innerWidth+l-a.left,"px)"):"right"===e?"translateX(-".concat(n?a.right-n.left-l:a.left+a.width-l,"px)"):"up"===e?"translateY(".concat(n?n.bottom+s-a.top:r.innerHeight+s-a.top,"px)"):"translateY(-".concat(n?a.top-n.top+a.height-s:a.top+a.height-s,"px)")}(e,t,"function"===typeof(a=o)?a():a);n&&(t.style.webkitTransform=n,t.style.transform=n)}const g=r.forwardRef((function(e,t){const o=(0,d.Z)(),g={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},x={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:m,appear:f=!0,children:y,container:C,direction:v="down",easing:k=g,in:j,onEnter:S,onEntered:w,onEntering:R,onExit:E,onExited:O,onExiting:Z,style:_,timeout:I=x,TransitionComponent:A=i.ZP}=e,T=(0,n.Z)(e,u),W=r.useRef(null),N=(0,s.Z)(y.ref,W,t),M=e=>t=>{e&&(void 0===t?e(W.current):e(W.current,t))},P=M(((e,t)=>{h(v,e,C),(0,c.n)(e),S&&S(e,t)})),D=M(((e,t)=>{const n=(0,c.C)({timeout:I,style:_,easing:k},{mode:"enter"});e.style.webkitTransition=o.transitions.create("-webkit-transform",(0,a.Z)({},n)),e.style.transition=o.transitions.create("transform",(0,a.Z)({},n)),e.style.webkitTransform="none",e.style.transform="none",R&&R(e,t)})),z=M(w),F=M(Z),J=M((e=>{const t=(0,c.C)({timeout:I,style:_,easing:k},{mode:"exit"});e.style.webkitTransition=o.transitions.create("-webkit-transform",t),e.style.transition=o.transitions.create("transform",t),h(v,e,C),E&&E(e)})),L=M((e=>{e.style.webkitTransition="",e.style.transition="",O&&O(e)})),U=r.useCallback((()=>{W.current&&h(v,W.current,C)}),[v,C]);return r.useEffect((()=>{if(j||"down"===v||"right"===v)return;const e=(0,l.Z)((()=>{W.current&&h(v,W.current,C)})),t=(0,p.Z)(W.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[v,j,C]),r.useEffect((()=>{j||U()}),[j,U]),(0,b.jsx)(A,(0,a.Z)({nodeRef:W,onEnter:P,onEntered:z,onEntering:D,onExit:J,onExited:L,onExiting:F,addEndListener:e=>{m&&m(W.current,e)},appear:f,in:j,timeout:I},T,{children:(e,t)=>r.cloneElement(y,(0,a.Z)({ref:N,style:(0,a.Z)({visibility:"exited"!==e||j?void 0:"hidden"},_,y.props.style)},t))}))}))}}]);
//# sourceMappingURL=6787.c4bed923.chunk.js.map