"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[316],{88845:(e,t,i)=>{i.d(t,{Z:()=>d});var o=i(72791),a=i(5574),r=i(39157),l=i(64554),n=i(63571),s=i(80184);const d=()=>{const[e,t]=(0,o.useState)(!1);return{loading:(0,o.useMemo)((()=>(console.log("loadingh dialog"),(0,s.jsx)(a.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(l.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,s.jsx)(l.Z,{style:{textAlign:"center"},children:(0,s.jsx)(n.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,s.jsx)(l.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,i)=>{i.d(t,{u:()=>n});var o=i(72791),a=i(31243),r=i(44997),l=i(61982);const n=e=>{const[t,i]=(0,o.useState)(!1),[n,s]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[p,x]=(0,o.useState)(null),[h,u]=(0,o.useState)(0),b=()=>{p&&p.cancel()};return(0,o.useEffect)((()=>b),[]),{isLoading:t,error:n,response:d,makePostRequest:async(t,o)=>{i(!0),s(null),c(null);const d=a.Z.CancelToken.source();x(d);try{const i=await a.Z.post("".concat(r.hN,"/").concat(t),o,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,l.b)("tokenKey"))}});return c(i),await i.data}catch(n){return a.Z.isCancel(n)?(console.log("Request canceled"),!1):(s(n),console.log("error",n),!1)}finally{i(!1)}},cancelRequest:b}}},80316:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var o=i(72791),a=i(64554),r=i(30204),l=i(88845),n=i(44997),s=(i(30550),i(43623)),d=i(13838),c=i(81213),p=i(80429),x=i(46420),h=i.n(x),u=i(60585),b=i(50168),g=i(40630),f=i(70320),m=i(5536),y=i(5574),j=i(12998),C=i(55931),w=i(763),k=i.n(w),R=i(80184);const v=o.forwardRef((function(e,t){return(0,R.jsx)(C.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),Z=["AP","BH","CH","DL","EH","HP","HR","KK","JH","JK","KO","MP","MU","OD","PB","RJ","TN","UE","UW","WB"],S=e=>{let{data:t}=e;const{makePostRequest:i}=(0,r.u)(),{loading:a,action:x}=(0,l.Z)(),b=(0,o.useRef)(null),[C,w]=((0,j.y)(),(0,o.useState)(!1)),[S,O]=(0,o.useState)(!1),[P,K]=(0,o.useState)([]),[W,A]=(0,o.useState)([]),[z,T]=(0,o.useState)([]),[E,I]=(0,o.useState)([]),[_,B]=(0,o.useState)([]);let D;const H=()=>{O(!1)},N={labels:Z,datasets:[{label:"RRC",data:z,borderColor:"rgb(100, 130, 173)",backgroundColor:["rgb(100, 130, 173)"],borderWidth:3,borderRadius:5,fill:!1,tension:.4},{label:"ERAB",data:E,borderColor:"rgb(110, 172, 218)",backgroundColor:["rgb(110, 172, 218)"],borderWidth:3,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"Volume GB",data:_,borderColor:"rgb(110, 172, 218)",backgroundColor:["rgb(110, 172, 218)"],borderWidth:3,borderRadius:5,color:"red",fill:!1,tension:.4}]},F={labels:Z,datasets:[{label:"RRC",data:z,borderColor:"black",backgroundColor:["rgb(100, 130, 173)"],borderWidth:1,borderRadius:1,cursor:"pointer",fill:!0,tension:.4},{label:"ERAB",data:E,borderColor:"black",backgroundColor:["rgb(110, 172, 218)"],borderWidth:1,borderRadius:1,cursor:"pointer",color:"red",fill:!0,tension:.4},{label:"Volume GB",data:_,borderColor:"black",backgroundColor:["rgb(133, 169, 143)"],borderWidth:1,borderRadius:1,cursor:"pointer",color:"red",fill:!0,tension:.4}]},M={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"KPI Count of RRC, ERAB & Volume GB (NOT OK) ",font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:100}}},watermark:{image:"".concat(n.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{D=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||D||(t=300*e.dataIndex+100*e.datasetIndex),t}}},L=(0,o.useCallback)((()=>(0,R.jsx)(y.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:v,open:S,onClose:H,children:(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,R.jsx)("div",{style:{display:C?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.$Q,{ref:b,data:F,options:M,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:C?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.x1,{data:N,options:M,plugins:[c.Z,p.ZP,h()]})})]})})),[S]);return(0,o.useEffect)((()=>{I([]),T([]),B([]),t&&Z.map((e=>{let i=0,o=0,a=0,r=k().filter(t.Data,{circle:e,KPI:"MV_RRC_Setup_Success_Rate"}),l=k().filter(t.Data,{circle:e,KPI:"MV_ERAB_Setup_Success_Rate"}),n=k().filter(t.Data,{circle:e,KPI:"MV_4G_Data_Volume_GB_N"});console.log("kpi data is",n),r.map((e=>{"OK"!==e.check_condition&&(i+=1)})),l.map((e=>{"OK"!==e.check_condition&&(o+=1)})),n.map((e=>{"OK"!==e.check_condition&&(a+=1)})),T((e=>[...e,i])),I((e=>[...e,o])),B((e=>[...e,a]))}))}),[t]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{style:{margin:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"98%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,R.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,R.jsx)(u.Z,{}),"FILTER DATA"]}),(0,R.jsx)("div",{children:(0,R.jsxs)(f.Z,{size:"small",color:"primary",value:C,exclusive:!0,onChange:()=>{w(!C)},"aria-label":"Platform",children:[(0,R.jsx)(g.Z,{value:!0,children:"Line"}),(0,R.jsx)(g.Z,{value:!1,children:"Bar"})]})}),(0,R.jsx)("div",{children:(0,R.jsx)(d.Z,{color:"primary",endIcon:(0,R.jsx)(m.Z,{}),onClick:()=>{O(!0)},children:"Full screen"})})]}),(0,R.jsx)("div",{style:{display:C?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,R.jsx)(s.x1,{ref:b,data:N,options:M,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:C?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,R.jsx)(s.$Q,{ref:b,data:F,options:M,plugins:[c.Z,p.ZP,h()]})}),L(),a]})})},O=o.memo(S),P=o.forwardRef((function(e,t){return(0,R.jsx)(C.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),K=["AP","BH","CH","DL","EH","HP","HR","KK","JH","JK","KO","MP","MU","OD","PB","RJ","TN","UE","UW","WB"],W=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(255, 159, 64)","rgb(201, 203, 207)","rgb(255, 99, 71)","rgb(144, 238, 144)","rgb(135, 206, 235)","rgb(255, 182, 193)","rgb(173, 216, 230)","rgb(255, 228, 196)","rgb(124, 252, 0)","rgb(255, 140, 0)","rgb(220, 20, 60)","rgb(255, 215, 0)","rgb(0, 255, 127)","rgb(70, 130, 180)","rgb(240, 128, 128)"],A=e=>{let{data:t}=e;const{makePostRequest:i}=(0,r.u)(),{loading:a,action:x}=(0,l.Z)(),C=(0,o.useRef)(null),[w,v]=((0,j.y)(),(0,o.useState)(!1)),[Z,S]=(0,o.useState)(!1),[O,A]=(0,o.useState)("AP"),[z,T]=(0,o.useState)([]),[E,I]=(0,o.useState)([]),[_,B]=(0,o.useState)([]);let D;const H=()=>{S(!1)},N={labels:[O],datasets:null===z||void 0===z?void 0:z.map(((e,t)=>({label:E[t],data:[_[t]],borderColor:"black",backgroundColor:["rgb(100, 130, 173)"],borderWidth:3,borderRadius:5,cursor:"pointer",fill:!1,tension:.4})))},F={labels:[O],datasets:null===z||void 0===z?void 0:z.map(((e,t)=>({label:E[t],data:[_[t]],borderColor:"black",backgroundColor:[W[t]],borderWidth:1,borderRadius:1,cursor:"pointer",fill:!0,tension:.4})))},M={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Count Of Distinct RCA Type ( ".concat(O," )"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:100}}},watermark:{image:"".concat(n.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{D=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||D||(t=300*e.dataIndex+100*e.datasetIndex),t}}},L=(0,o.useCallback)((()=>(0,R.jsx)(y.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:P,open:Z,onClose:H,children:(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,R.jsx)("div",{style:{display:w?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.$Q,{ref:C,data:F,options:M,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:w?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.x1,{data:N,options:M,plugins:[c.Z,p.ZP,h()]})})]})})),[Z]);return(0,o.useEffect)((()=>{if(t){let e=k().filter(t.Data,{circle:O,check_condition:"NOT OK",KPI:"MV_RRC_Setup_Success_Rate"}),i=k().uniqBy(e,"RCA"),o=k().countBy(e,"RCA");T(i),I(Object.keys(o)),B(Object.values(o))}}),[t,O]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{style:{margin:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"98%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,R.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,R.jsx)(u.Z,{}),"FILTER DATA"]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{style:{fontSize:15},children:"Select Circle"}),(0,R.jsx)("select",{style:{width:145,height:25,borderRadius:2},value:O,onChange:e=>A(e.target.value),children:K.map(((e,t)=>(0,R.jsx)("option",{value:e,children:e},t)))})]}),(0,R.jsx)("div",{children:(0,R.jsxs)(f.Z,{size:"small",color:"primary",value:w,exclusive:!0,onChange:()=>{v(!w)},"aria-label":"Platform",children:[(0,R.jsx)(g.Z,{value:!0,children:"Line"}),(0,R.jsx)(g.Z,{value:!1,children:"Bar"})]})}),(0,R.jsx)("div",{children:(0,R.jsx)(d.Z,{color:"primary",endIcon:(0,R.jsx)(m.Z,{}),onClick:()=>{S(!0)},children:"Full screen"})})]}),(0,R.jsx)("div",{style:{display:w?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,R.jsx)(s.x1,{ref:C,data:N,options:M,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:w?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,R.jsx)(s.$Q,{ref:C,data:F,options:M,plugins:[c.Z,p.ZP,h()]})}),L(),a]})})},z=o.memo(A),T=o.forwardRef((function(e,t){return(0,R.jsx)(C.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),E=["AP","BH","CH","DL","EH","HP","HR","KK","JH","JK","KO","MP","MU","OD","PB","RJ","TN","UE","UW","WB"],I=()=>{const{makePostRequest:e}=(0,r.u)(),{loading:t,action:i}=(0,l.Z)(),a=(0,o.useRef)(null),[x,C]=((0,j.y)(),(0,o.useState)(!1)),[w,v]=(0,o.useState)(!1),[Z,S]=(0,o.useState)([]),[P,K]=(0,o.useState)([]),[W,A]=(0,o.useState)([]),[I,_]=(0,o.useState)(""),[B,D]=(0,o.useState)([]),H=async t=>{i(!0);var o=new FormData;o.append("date",t||"");const a=await e("RCA_TOOL/RCA_Table_output/",o);console.log("dfdfsdfsdf",a),a?(i(!1),D(a),F(a.Data),_(a.date)):i(!1)};let N;const F=e=>{E.map((t=>{let i=0,o=0;k().filter(e,{circle:t}).map((e=>{"OK"===e.check_condition?i+=1:o+=1})),S((e=>[...e,i])),K((e=>[...e,o])),A((e=>[...e,i+o]))}))},M=()=>{v(!1)},L={labels:E,datasets:[{label:"OK",data:Z,borderColor:"rgb(255, 130, 37)",backgroundColor:["rgb(255, 130, 37)"],borderWidth:3,borderRadius:5,fill:!1,tension:.4},{label:"NOT OK",data:P,borderColor:"rgb(255, 173, 96)",backgroundColor:["rgb(255, 173, 96)"],borderWidth:3,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"Sum of OK & NOT OK",data:W,borderColor:"black",backgroundColor:["rgb(126, 24, 145,0.5)"],borderWidth:1,borderRadius:1,cursor:"pointer",color:"red",fill:!0,tension:.4,type:"bar"}]},U={labels:E,datasets:[{label:"OK",data:Z,borderColor:"black",backgroundColor:["rgb(255, 130, 37,0.8)"],borderWidth:1,borderRadius:1,cursor:"pointer",fill:!0,tension:.4},{label:"NOT OK",data:P,borderColor:"black",backgroundColor:["rgb(223, 211, 195)"],borderWidth:1,borderRadius:1,cursor:"pointer",color:"red",fill:!0,tension:.4},{label:"Sum of OK & NOT OK",data:W,borderColor:"#7E1891",borderWidth:3,borderRadius:1,cursor:"pointer",color:"red",fill:!1,tension:.4,type:"line"}]},J={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Count of OK (".concat(k().sum(Z),") and NOT OK (").concat(k().sum(P),")"),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:100}}},watermark:{image:"".concat(n.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{N=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||N||(t=300*e.dataIndex+100*e.datasetIndex),t}}},V=(0,o.useCallback)((()=>(0,R.jsx)(y.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:T,open:w,onClose:M,children:(0,R.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,R.jsx)("div",{style:{display:x?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.$Q,{ref:a,data:U,options:J,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:x?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,R.jsx)(s.x1,{data:L,options:J,plugins:[c.Z,p.ZP,h()]})})]})})),[w]);return(0,o.useEffect)((()=>{H()}),[]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{style:{margin:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"98%",borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,R.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,R.jsx)(u.Z,{}),"FILTER DATA"]}),(0,R.jsxs)("div",{children:[(0,R.jsx)(b.Z,{style:{fontSize:15},children:"Select Date"}),(0,R.jsx)("input",{type:"date",value:I,onChange:e=>{(async e=>{S([]),K([]),A([]),await _(e.target.value),await H(e.target.value)})(e)}})]}),(0,R.jsx)("div",{children:(0,R.jsxs)(f.Z,{size:"small",color:"primary",value:x,exclusive:!0,onChange:()=>{C(!x)},"aria-label":"Platform",children:[(0,R.jsx)(g.Z,{value:!0,children:"Line"}),(0,R.jsx)(g.Z,{value:!1,children:"Bar"})]})}),(0,R.jsx)("div",{children:(0,R.jsx)(d.Z,{color:"primary",endIcon:(0,R.jsx)(m.Z,{}),onClick:()=>{v(!0)},children:"Full screen"})})]}),(0,R.jsx)("div",{style:{display:x?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,R.jsx)(s.x1,{ref:a,data:L,options:J,plugins:[c.Z,p.ZP,h()]})}),(0,R.jsx)("div",{style:{display:x?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,R.jsx)(s.$Q,{ref:a,data:U,options:J,plugins:[c.Z,p.ZP,h()]})}),V(),t]}),(0,R.jsx)(O,{data:B}),(0,R.jsx)(z,{data:B})]})},_=()=>((0,o.useEffect)((()=>{document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(a.Z,{sx:{margin:1},children:[(0,R.jsx)(I,{}),(0,R.jsx)("br",{})]})}))}}]);
//# sourceMappingURL=316.5b64e5e9.chunk.js.map