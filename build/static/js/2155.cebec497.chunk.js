"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[2155],{32155:(e,t,i)=>{i.r(t),i.d(t,{default:()=>T});var n=i(72791),s=i(64554),l=i(13838),o=i(93517),a=i(50533),r=i(4567),c=i(36314),d=i(5397),p=i(89013),x=i(38926),h=i(44997),m=i(65560),f=i(21830),g=i.n(f),j=i(5574),u=i(39157),y=i(63571),v=i(39992),S=i(48980),Z=i(21632),b=(i(68444),i(49877)),_=i(17819),w=i(97639),k=i(30204),F=i(57689),P=i(80184);const T=()=>{const{isLoading:e,error:t,response:i,makePostRequest:f,cancelRequest:T}=(0,k.u)(),[C,B]=(0,n.useState)({filename:"",bytes:""}),[I,N]=(0,n.useState)({filename:"",bytes:""}),[R,D]=(0,n.useState)({filename:"",bytes:""}),[E,K]=(0,n.useState)(!1),[O,q]=(0,n.useState)(),[z,M]=(0,n.useState)(!1),[W,L]=(0,n.useState)(!1),[A,H]=(0,n.useState)(!1),[U,G]=(0,n.useState)(),[Y,J]=(0,n.useState)(!1),Q=C.filename.length,V=I.filename.length,X=R.filename.length,$=(0,v.Z)(),ee=(0,F.s0)();"".concat(h.hN).concat(U);console.log("size:",U);(0,n.useEffect)((()=>{(()=>{var e=new Date,t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear();t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),q([n,t,i].join("-"))})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase())}),[]);return(0,P.jsx)(S.Z,{in:"true",timeout:500,children:(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{style:{margin:10,marginLeft:10},children:(0,P.jsxs)(o.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,P.jsx)(d.Z,{fontSize:"small"}),children:[(0,P.jsx)(a.Z,{underline:"hover",onClick:()=>{ee("/tools")},children:"Tools"}),(0,P.jsx)(a.Z,{underline:"hover",onClick:()=>{ee("/trends")},children:"Trend"}),(0,P.jsx)(a.Z,{underline:"hover",onClick:()=>{ee("/trends/ktk")},children:"KTK"}),(0,P.jsx)(r.Z,{color:"text.primary",children:"Make Degrow"})]})}),(0,P.jsx)(s.Z,{style:{position:"fixed",right:20},children:(0,P.jsx)(w.Z,{title:"Help",children:(0,P.jsx)(b.Z,{color:"primary","aria-label":"add",onClick:()=>{(0,Z.v)({showProgress:!0,steps:[{element:"#step-1",popover:{title:"Select PRE KPI File:-",description:"Select PRE KPI Filegenerated from MyCom Tool",side:"bottom",align:"start"}},{element:"#step-2",popover:{title:"Select POST KPI File:-",description:"Select POST KPI File generated from MyCom Tool ",side:"left",align:"start"}},{element:"#step-3",popover:{title:"Select PRE-POST Site File:-",description:"select site id in this field",side:"left",align:"start"}},{element:"#step-4",popover:{title:"SUBMIT BUTTON",description:"Click on submit button",side:"center",align:"start"}},{element:"#step-5",popover:{title:"",description:"<div>Please wait few minutes</div><img src='/assets/prograse.png' style='height: 202.5px; width: 270px;' />"}},{element:"#step-6",popover:{title:"Enable Download KPI Button",description:"<img src='/assets/downloadButton.png' style='height: 202.5px; width: 270px;' />"}}]}).drive()},children:(0,P.jsx)(_.Z,{})})})}),(0,P.jsxs)(s.Z,{className:$.main_Box,children:[(0,P.jsxs)(s.Z,{className:$.Back_Box,sx:{width:{md:"75%",xs:"100%"}},children:[(0,P.jsx)(s.Z,{className:$.Box_Hading,children:"Make DEGROW TREND"}),(0,P.jsxs)(c.Z,{spacing:2,sx:{marginTop:"-40px"},children:[(0,P.jsxs)(s.Z,{className:$.Front_Box,id:"step-1",children:[(0,P.jsxs)("div",{className:$.Front_Box_Hading,children:["Select PRE KPI File:-",(0,P.jsx)("span",{style:{fontFamily:"Poppins",color:"gray",marginLeft:20},children:C.filename})]}),(0,P.jsxs)("div",{className:$.Front_Box_Select_Button,children:[(0,P.jsx)("div",{style:{float:"left"},children:(0,P.jsxs)(l.Z,{variant:"contained",component:"label",color:C.state?"warning":"primary",children:["select file",(0,P.jsx)("input",{required:!0,onChange:e=>{M(!1),B({filename:e.target.files[0].name,bytes:e.target.files[0],state:!0})},hidden:!0,accept:"/*",multiple:!0,type:"file"})]})}),(0,P.jsxs)("div",{children:["  ",(0,P.jsx)("span",{style:{display:z?"inherit":"none",color:"red",fontSize:"18px",fontWeight:600},children:"This Field Is Required !"})," "]}),(0,P.jsx)("div",{})]})]}),(0,P.jsxs)(s.Z,{className:$.Front_Box,id:"step-2",children:[(0,P.jsxs)("div",{className:$.Front_Box_Hading,children:["Select POST KPI File:-",(0,P.jsx)("span",{style:{fontFamily:"Poppins",color:"gray",marginLeft:20},children:I.filename})]}),(0,P.jsxs)("div",{className:$.Front_Box_Select_Button,children:[(0,P.jsx)("div",{style:{float:"left"},children:(0,P.jsxs)(l.Z,{variant:"contained",component:"label",color:I.state?"warning":"primary",children:["select file",(0,P.jsx)("input",{required:!0,onChange:e=>{L(!1),N({filename:e.target.files[0].name,bytes:e.target.files[0],state:!0})},hidden:!0,accept:"/*",multiple:!0,type:"file"})]})}),(0,P.jsxs)("div",{children:["  ",(0,P.jsx)("span",{style:{display:W?"inherit":"none",color:"red",fontSize:"18px",fontWeight:600},children:"This Field Is Required !"})," "]}),(0,P.jsx)("div",{})]})]}),(0,P.jsxs)(s.Z,{className:$.Front_Box,id:"step-3",children:[(0,P.jsxs)("div",{className:$.Front_Box_Hading,children:["Select PRE-POST Site File:-",(0,P.jsx)("span",{style:{fontFamily:"Poppins",color:"gray",marginLeft:20},children:R.filename})]}),(0,P.jsxs)("div",{className:$.Front_Box_Select_Button,children:[(0,P.jsx)("div",{style:{float:"left"},children:(0,P.jsxs)(l.Z,{variant:"contained",component:"label",color:R.state?"warning":"primary",children:["select file",(0,P.jsx)("input",{required:!0,onChange:e=>{H(!1),D({filename:e.target.files[0].name,bytes:e.target.files[0],state:!0})},hidden:!0,accept:"/*",multiple:!0,type:"file"})]})}),(0,P.jsxs)("div",{children:["  ",(0,P.jsx)("span",{style:{display:A?"inherit":"none",color:"red",fontSize:"18px",fontWeight:600},children:"This Field Is Required !"})," "]}),(0,P.jsx)("div",{})]})]})]}),(0,P.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-around",flexDirection:{xs:"column",md:"row"},gap:2,marginTop:"20px"},children:[(0,P.jsx)(l.Z,{variant:"contained",color:"success",onClick:async()=>{if(Q>0&&V>0&&X>0){K(!0);var e=new FormData;e.append("raw_kpi_pre",C.bytes),e.append("raw_kpi_post",I.bytes),e.append("site_list",R.bytes);const t=await f("trend/ktk/makeKpiTrend/pre_post/",e);console.log("response data",t),t?(G(t.download_path),K(!1),J(!0),g().fire({icon:"success",title:"Done",text:"".concat(t.message)})):(K(!1),g().fire({icon:"error",title:"Oops...",text:"".concat(t.message)}))}else 0==Q&&M(!0),0==V&&L(!0),0==X&&H(!0)},endIcon:(0,P.jsx)(p.Z,{}),id:"step-4",children:"submit"}),(0,P.jsx)(l.Z,{variant:"contained",onClick:()=>{B({filename:"",bytes:""}),N({filename:"",bytes:""}),D({filename:"",bytes:""})},style:{backgroundColor:"red",color:"white"},endIcon:(0,P.jsx)(x.Z,{}),children:"cancel"})]})]}),(0,P.jsx)(s.Z,{style:{display:Y?"inherit":"none"},children:(0,P.jsx)("a",{download:!0,href:U,children:(0,P.jsx)(l.Z,{variant:"outlined",onClick:"",startIcon:(0,P.jsx)(m.Z,{style:{fontSize:30,color:"green"}}),sx:{marginTop:"10px",width:"auto"},children:(0,P.jsx)("span",{style:{fontFamily:"Poppins",fontSize:"22px",fontWeight:800,textTransform:"none",textDecorationLine:"none"},children:"Download KPI Trend"})})})})]}),(0,P.jsx)(j.Z,{open:E,keepMounted:!0,children:(0,P.jsxs)(u.Z,{children:[(0,P.jsx)(s.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,P.jsx)(s.Z,{style:{textAlign:"center"},children:(0,P.jsx)(y.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,P.jsx)(s.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."}),(0,P.jsx)(l.Z,{variant:"contained",fullWidth:!0,style:{backgroundColor:"red",color:"white"},onClick:T,endIcon:(0,P.jsx)(x.Z,{}),children:"cancel"})]})})]})})}}}]);
//# sourceMappingURL=2155.cebec497.chunk.js.map