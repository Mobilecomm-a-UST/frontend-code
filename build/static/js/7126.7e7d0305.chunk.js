"use strict";(self.webpackChunkmobilecomm=self.webpackChunkmobilecomm||[]).push([[7126],{17759:(e,t,n)=>{n.d(t,{X:()=>r});var l=n(72791),a=n(31243),i=n(44997),s=n(61982);const r=e=>{const[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(null),[d,c]=(0,l.useState)(null),[h,u]=(0,l.useState)(null),[x,p]=(0,l.useState)(0),g=()=>{h&&h.cancel()};return(0,l.useEffect)((()=>g),[]),{isLoading:t,error:r,response:d,makeGetRequest:async t=>{n(!0),o(null),c(null);const l=a.Z.CancelToken.source();u(l);try{const n=await a.Z.get("".concat(i.hN,"/").concat(t),{...e,cancelToken:l.token,headers:{Authorization:"token ".concat((0,s.b)("tokenKey"))}});return await n.data}catch(r){return a.Z.isCancel(r)?(console.log("Request canceled"),!1):(o(r),!1)}finally{n(!1)}},cancelRequest:g}}},88845:(e,t,n)=>{n.d(t,{Z:()=>d});var l=n(72791),a=n(5574),i=n(39157),s=n(64554),r=n(63571),o=n(80184);const d=()=>{const[e,t]=(0,l.useState)(!1);return{loading:(0,l.useMemo)((()=>(console.log("loadingh dialog"),(0,o.jsx)(a.Z,{open:e,BackdropProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(3px)"}},keepMounted:!0,children:(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(s.Z,{style:{padding:20,display:"flex",justifyContent:"center"}}),(0,o.jsx)(s.Z,{style:{textAlign:"center"},children:(0,o.jsx)(r.Z,{pulse:!0,style:{fontSize:"100px",color:"#232455"}})}),(0,o.jsx)(s.Z,{style:{margin:"10px 0px 10px 0px",fontWeight:"bolder"},children:"DATA UNDER PROCESSING..."})]})}))),[e]),action:e=>{t(e)}}}},30204:(e,t,n)=>{n.d(t,{u:()=>r});var l=n(72791),a=n(31243),i=n(44997),s=n(61982);const r=e=>{const[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(null),[d,c]=(0,l.useState)(null),[h,u]=(0,l.useState)(null),[x,p]=(0,l.useState)(0),g=()=>{h&&h.cancel()};return(0,l.useEffect)((()=>g),[]),{isLoading:t,error:r,response:d,makePostRequest:async(t,l)=>{n(!0),o(null),c(null);const d=a.Z.CancelToken.source();u(d);try{const n=await a.Z.post("".concat(i.hN,"/").concat(t),l,{...e,cancelToken:d.token,headers:{Authorization:"token ".concat((0,s.b)("tokenKey"))}});return c(n),await n.data}catch(r){return a.Z.isCancel(r)?(console.log("Request canceled"),!1):(o(r),console.log("error",r),!1)}finally{n(!1)}},cancelRequest:g}}},17126:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var l=n(72791),a=n(93517),i=n(50533),s=n(4567),r=n(5397),o=n(64554),d=(n(25415),n(17759),n(30204)),c=(n(78687),n(57689)),h=n(40835),u=(n(30550),n(43623)),x=n(13838),p=n(77196),g=n(50168),b=n(82626),j=n(45363),m=n(49900),f=n(17563),S=n(13034),y=n(81213),v=n(80429),C=n(46420),Z=n.n(C),k=n(44997),w=n(60585),A=n(40630),I=n(70320),_=n(5536),R=n(5574),F=n(55931),D=n(88845),W=n(763),T=n.n(W),O=n(80184);const P=l.forwardRef((function(e,t){return(0,O.jsx)(F.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),M=e=>{let{label:t,options:n,selectedValues:l,setSelectedValues:a}=e;const i=n.length>0&&l.length===n.length;return(0,O.jsxs)(j.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,O.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:l,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?l.length===n.length?a([]):a(n):a(i)},input:(0,O.jsx)(p.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,O.jsxs)(b.Z,{value:"ALL",children:[(0,O.jsx)(S.Z,{checked:i,indeterminate:l.length>0&&l.length<n.length}),(0,O.jsx)(m.Z,{primary:"Select All"})]}),n.map((e=>(0,O.jsxs)(b.Z,{value:e,children:[(0,O.jsx)(S.Z,{checked:l.includes(e)}),(0,O.jsx)(m.Z,{primary:e})]},e)))]})]})},z=()=>{const e=(0,l.useRef)(null),[t,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),{makePostRequest:s,cancelRequest:r}=(0,d.u)(),{loading:o,action:c}=(0,D.Z)(),[h,p]=(0,l.useState)([]),[g,b]=(0,l.useState)(["CF"]),[j,m]=(0,l.useState)([]),f=["RFAI","Site ONAIR"],[S,C]=(0,l.useState)({}),[F,W]=(0,l.useState)([]),[z,N]=(0,l.useState)([]),[q,V]=(0,l.useState)([]),[E,L]=(0,l.useState)([]),[B,J]=(0,l.useState)([]),[Q,U]=(0,l.useState)([]),[Y,$]=(0,l.useState)([]),[X,G]=(0,l.useState)([]),[H,K]=(0,l.useState)("Cumulative");let ee;console.log("data get",g,S);const te=(e,t)=>{const n={},l=["CF",...T()(e[0]).keys().filter((e=>e.startsWith("Month-"))).sortBy((e=>Number(e.split("-")[1]))).value()];if(T().forEach(t,(t=>{const a=T().find(e,(e=>e["Milestone Track/Site Count"]===t));if(a){const e=T().map(T().pick(a,l),(e=>Number(e)));n[t]=e}})),2===t.length){const[e,l]=t,a=n[e]||[],i=n[l]||[],s=T().map(a,((e,t)=>i[t]&&0!==i[t]?Number((i[t]/e*100).toFixed(2)):0));n.Percentage=s}return n},ne={labels:g,datasets:[{label:"RFAI",data:null===S||void 0===S?void 0:S.RFAI,borderColor:"rgb(0, 110, 116)",backgroundColor:["rgb(0, 110, 116)"],borderWidth:2,borderRadius:5,fill:!1,tension:.4},{label:"MS1",data:null===S||void 0===S?void 0:S["Site ONAIR"],borderColor:"rgb(107, 107, 107)",backgroundColor:["rgb(204, 255, 254)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"Sites Converted %",data:null===S||void 0===S?void 0:S.Percentage,type:"bar",borderColor:"rgb(183, 183, 183)",backgroundColor:"rgba(183, 183, 183, 0.5)",borderWidth:2,borderRadius:5,fill:!1,tension:.4,yAxisID:"y1"}]},le={labels:g,datasets:[{label:"Sites Converted %",data:null===S||void 0===S?void 0:S.Percentage,type:"line",borderColor:"rgb(72, 98, 149)",backgroundColor:"rgba(48, 104, 215, 0.3)",borderWidth:2,fill:!1,tension:.4,yAxisID:"y1"},{label:"RFAI",data:null===S||void 0===S?void 0:S.RFAI,borderColor:"black",backgroundColor:["rgb(0, 110, 116)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"MS1",data:null===S||void 0===S?void 0:S["Site ONAIR"],borderColor:"black",backgroundColor:["rgb(171, 171, 171)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4}]},ae={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Monthly Progress - RFAI to MS1",font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(k.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{ee=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||ee||(t=300*e.dataIndex+100*e.datasetIndex),t}}},ie=()=>{i(!1)},se=(0,l.useCallback)((()=>(0,O.jsx)(R.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:P,open:a,onClose:ie,children:(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,O.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,O.jsx)(u.$Q,{ref:e,data:le,options:ae,plugins:[y.Z,v.ZP,Z()]})}),(0,O.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,O.jsx)(u.x1,{data:ne,options:ae,plugins:[y.Z,v.ZP,Z()]})})]})})),[a]);return(0,l.useEffect)((()=>(C({Percentage:[],RFAI:[],"Site ONAIR":[]}),(async()=>{c(!0);var e=new FormData;e.append("circle",F),e.append("site_tagging",q),e.append("relocation_method",B),e.append("new_toco_name",Y),e.append("view",H);const t=await(0,k.qC)("alok_tracker/weekly_monthly_dashboard_file/",e);t?(c(!1),C(te(JSON.parse(t.months_data),f)),0===z.length&&(b((e=>[...e,...t.unique_data.month_columns])),N(t.unique_data.unique_circle),L(t.unique_data.unique_site_tagging),U(t.unique_data.unique_relocation_method),G(t.unique_data.unique_new_toco_name))):c(!1)})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{r()})),[F,q,B,Y]),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"96%",margin:20,borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,O.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,O.jsx)(w.Z,{}),"FILTER DATA"]}),(0,O.jsx)(M,{label:"Circle",options:z,selectedValues:F,setSelectedValues:W}),(0,O.jsx)(M,{label:"Site Tagging",options:E,selectedValues:q,setSelectedValues:V}),(0,O.jsx)(M,{label:"Current Status",options:Q,selectedValues:B,setSelectedValues:J}),(0,O.jsx)(M,{label:"TOCO",options:X,selectedValues:Y,setSelectedValues:$}),(0,O.jsx)("div",{children:(0,O.jsxs)(I.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{n(!t)},"aria-label":"Platform",children:[(0,O.jsx)(A.Z,{value:!0,children:"Line"}),(0,O.jsx)(A.Z,{value:!1,children:"Bar"})]})}),(0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"primary",endIcon:(0,O.jsx)(_.Z,{}),onClick:()=>{i(!0)},children:"Full screen"})})]}),(0,O.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,O.jsx)(u.x1,{ref:e,data:ne,options:ae,plugins:[y.Z,v.ZP,Z()]})}),(0,O.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,O.jsx)(u.$Q,{ref:e,data:le,options:ae,plugins:[y.Z,v.ZP,Z()]})}),se(),o]})})};var N=n(39281),q=n(4841),V=(n(22151),n(12998));n(64197);const E=e=>{let{label:t,options:n,selectedValues:l,setSelectedValues:a}=e;const i=n.length>0&&l.length===n.length;return(0,O.jsxs)(j.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,O.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:l,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?l.length===n.length?a([]):a(n):a(i)},input:(0,O.jsx)(p.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,O.jsxs)(b.Z,{value:"ALL",children:[(0,O.jsx)(S.Z,{checked:i,indeterminate:l.length>0&&l.length<n.length}),(0,O.jsx)(m.Z,{primary:"Select All"})]}),n.map((e=>(0,O.jsxs)(b.Z,{value:e,children:[(0,O.jsx)(S.Z,{checked:l.includes(e)}),(0,O.jsx)(m.Z,{primary:e})]},e)))]})]})},L=()=>{const{loading:e,action:t}=(0,D.Z)(),[n,a]=(0,l.useState)([]),[i,s]=(0,l.useState)([]),[r,d]=(0,l.useState)([]),[c,h]=(0,l.useState)([]),[u,x]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[b,j]=(0,l.useState)(""),m=(0,V.y)(),f=e=>{const t={};return e.forEach((e=>{const n=e.Circle,l=e["Site Status"];t[n]||(t[n]={Circle:n,data:{Done:null,Pending:null}});const{Circle:a,"Site Status":i,...s}=e;t[n].data[l]=s})),Object.values(t)};return(0,l.useEffect)((()=>{(async()=>{t(!0);var e=new FormData;e.append("site_tagging",n),e.append("current_status",r),e.append("milestone1","RFAI"),e.append("milestone2","Integration");const l=await(0,k.qC)("alok_tracker/graphs/",e);l?(t(!1),x(f(JSON.parse(l.json_data.integration_to_onair_table))),0===c.length&&0===i.length&&(h(l.unique_data.unique_current_status),s(l.unique_data.unique_site_tagging))):t(!1)})()}),[n,r]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("style",{children:"th{border:1px solid black;}"}),(0,O.jsx)(F.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,O.jsxs)("div",{style:{margin:20},children:[(0,O.jsxs)(o.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,O.jsx)(o.Z,{style:{fontSize:22,fontWeight:"bold"},children:"Done Vs Pending Count - Clear Integration to MS1"}),(0,O.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,O.jsx)(E,{label:"Site Tagging",options:i,selectedValues:n,setSelectedValues:a}),(0,O.jsx)(E,{label:"Current Status",options:c,selectedValues:r,setSelectedValues:d})]})]}),(0,O.jsx)(o.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:(0,O.jsx)(N.Z,{sx:{maxHeight:400,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:q.Z,children:(0,O.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,O.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,O.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,O.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,O.jsx)("th",{colSpan:11,style:{padding:"1px 1px"},children:"Status Summary"})]}),(0,O.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"black",border:"1px solid white"},children:[(0,O.jsx)("th",{children:"Site Status"}),(0,O.jsx)("th",{children:"Integration Status"}),(0,O.jsx)("th",{children:"EMF Status"}),(0,O.jsx)("th",{children:"Alarm Status"}),(0,O.jsx)("th",{children:"SCFT Offered"}),(0,O.jsx)("th",{children:"PAT Offered"}),(0,O.jsx)("th",{children:"SAT Offered"}),(0,O.jsx)("th",{children:"MW PAT Offered"}),(0,O.jsx)("th",{children:"MW SAT Offered"}),(0,O.jsx)("th",{children:"MW MIDS MS1"}),(0,O.jsx)("th",{children:"I-Deploy MS1"})]})]}),(0,O.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map(((e,t)=>{const{Circle:n,data:a}=e,i=(null===a||void 0===a?void 0:a.Done)||{},s=(null===a||void 0===a?void 0:a.Pending)||{};return(0,O.jsxs)(l.Fragment,{children:[(0,O.jsxs)("tr",{className:m.hoverRT,style:{textAlign:"center"},children:[(0,O.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",background:"#fff",borderRight:"1px solid black"},className:m.hoverRT,children:n}),(0,O.jsx)("th",{children:"Done"}),(0,O.jsx)("th",{children:i["Integration Status"]}),(0,O.jsx)("th",{children:i["EMF Status"]}),(0,O.jsx)("th",{children:i["Alarm Status"]}),(0,O.jsx)("th",{children:i["SCFT Offered"]}),(0,O.jsx)("th",{children:i["PAT Offered"]}),(0,O.jsx)("th",{children:i["SAT Offered"]}),(0,O.jsx)("th",{children:i["MW PAT Offered"]}),(0,O.jsx)("th",{children:i["MW SAT Offered"]}),(0,O.jsx)("th",{children:i["MW MIDS MS1"]}),(0,O.jsx)("th",{children:i["I-Deploy MS1"]})]}),(0,O.jsxs)("tr",{className:m.hoverRT,style:{textAlign:"center"},children:[(0,O.jsx)("th",{children:"Pending"}),(0,O.jsx)("th",{children:s["Integration Status"]}),(0,O.jsx)("th",{children:s["EMF Status"]}),(0,O.jsx)("th",{children:s["Alarm Status"]}),(0,O.jsx)("th",{children:s["SCFT Offered"]}),(0,O.jsx)("th",{children:s["PAT Offered"]}),(0,O.jsx)("th",{children:s["SAT Offered"]}),(0,O.jsx)("th",{children:s["MW PAT Offered"]}),(0,O.jsx)("th",{children:s["MW SAT Offered"]}),(0,O.jsx)("th",{children:s["MW MIDS MS1"]}),(0,O.jsx)("th",{children:s["I-Deploy MS1"]})]})]},t)}))})]})})})]})}),e]})},B=e=>{let{label:t,options:n,selectedValues:l,setSelectedValues:a}=e;const i=n.length>0&&l.length===n.length;return(0,O.jsxs)(j.Z,{sx:{minWidth:150,maxWidth:200},size:"small",children:[(0,O.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:l,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?l.length===n.length?a([]):a(n):a(i)},input:(0,O.jsx)(p.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,O.jsxs)(b.Z,{value:"ALL",children:[(0,O.jsx)(S.Z,{checked:i,indeterminate:l.length>0&&l.length<n.length}),(0,O.jsx)(m.Z,{primary:"Select All"})]}),n.map((e=>(0,O.jsxs)(b.Z,{value:e,children:[(0,O.jsx)(S.Z,{checked:l.includes(e)}),(0,O.jsx)(m.Z,{primary:e})]},e)))]})]})},J=()=>{const{loading:e,action:t}=(0,D.Z)(),[n,a]=(0,l.useState)([]),[i,s]=(0,l.useState)([]),[r,d]=(0,l.useState)([]),[c,h]=(0,l.useState)([]),[u,x]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[b,j]=(0,l.useState)(""),m=(0,V.y)(),f=e=>{const t={};return e.forEach((e=>{const n=e.Circle,l=e["Site Status"];t[n]||(t[n]={Circle:n,data:{Done:null,Pending:null}});const{Circle:a,"Site Status":i,...s}=e;t[n].data[l]=s})),Object.values(t)};return(0,l.useEffect)((()=>{(async()=>{t(!0);var e=new FormData;e.append("site_tagging",n),e.append("current_status",r),e.append("milestone1","RFAI"),e.append("milestone2","Integration");const l=await(0,k.qC)("alok_tracker/graphs/",e);console.log(" rfai data",JSON.parse(l.json_data.rfai_to_integration_table)),l?(t(!1),x(f(JSON.parse(l.json_data.rfai_to_integration_table))),0===c.length&&0===i.length&&(h(l.unique_data.unique_current_status),s(l.unique_data.unique_site_tagging))):t(!1)})()}),[n,r]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("style",{children:"th{border:1px solid black;}"}),(0,O.jsx)(F.Z,{direction:"left",in:"true",timeout:700,style:{transformOrigin:"1 1 1"},children:(0,O.jsxs)("div",{style:{margin:20},children:[(0,O.jsxs)(o.Z,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",alignContent:"center"},children:[(0,O.jsx)(o.Z,{style:{fontSize:22,fontWeight:"bold"},children:"Done Vs Pending Count - Clear RFAI to Integration"}),(0,O.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1},children:[(0,O.jsx)(B,{label:"Site Tagging",options:i,selectedValues:n,setSelectedValues:a}),(0,O.jsx)(B,{label:"Current Status",options:c,selectedValues:r,setSelectedValues:d})]})]}),(0,O.jsx)(o.Z,{sx:{marginTop:0,display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:(0,O.jsx)(N.Z,{sx:{maxHeight:400,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"},component:q.Z,children:(0,O.jsxs)("table",{style:{width:"100%",border:"1px solid black",borderCollapse:"collapse",overflow:"auto"},children:[(0,O.jsxs)("thead",{style:{position:"sticky",top:0,zIndex:1},children:[(0,O.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#223354",color:"white",border:"1px solid white"},children:[(0,O.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",position:"sticky",left:0,top:0,zIndex:3,backgroundColor:"#006e74"},children:"Circle"}),(0,O.jsx)("th",{colSpan:11,style:{padding:"1px 1px"},children:"Status Summary"})]}),(0,O.jsxs)("tr",{style:{fontSize:15,backgroundColor:"#CBCBCB",color:"black",border:"1px solid white"},children:[(0,O.jsx)("th",{children:"Site Status"}),(0,O.jsx)("th",{children:"Site RFAI"}),(0,O.jsx)("th",{children:"Site Allocation"}),(0,O.jsx)("th",{children:"Survey Status"}),(0,O.jsx)("th",{children:"Material Punched"}),(0,O.jsx)("th",{children:"Material Delivered"}),(0,O.jsx)("th",{children:"Installation End"}),(0,O.jsx)("th",{children:"Integration Status"})]})]}),(0,O.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map(((e,t)=>{const{Circle:n,data:a}=e,i=(null===a||void 0===a?void 0:a.Done)||{},s=(null===a||void 0===a?void 0:a.Pending)||{};return(0,O.jsxs)(l.Fragment,{children:[(0,O.jsxs)("tr",{className:m.hoverRT,style:{textAlign:"center"},children:[(0,O.jsx)("th",{rowSpan:2,style:{padding:"1px 1px",whiteSpace:"nowrap",background:"#fff",borderRight:"1px solid black"},className:m.hoverRT,children:n}),(0,O.jsx)("th",{children:"Done"}),(0,O.jsx)("th",{children:i["Site RFAI"]}),(0,O.jsx)("th",{children:i["Site Allocation"]}),(0,O.jsx)("th",{children:i["Survey Status"]}),(0,O.jsx)("th",{children:i["Material Punched"]}),(0,O.jsx)("th",{children:i["Material Delivered"]}),(0,O.jsx)("th",{children:i["Installation End"]}),(0,O.jsx)("th",{children:i["Integration Status"]})]}),(0,O.jsxs)("tr",{className:m.hoverRT,style:{textAlign:"center"},children:[(0,O.jsx)("th",{children:"Pending"}),(0,O.jsx)("th",{children:s["Site RFAI"]}),(0,O.jsx)("th",{children:s["Site Allocation"]}),(0,O.jsx)("th",{children:s["Survey Status"]}),(0,O.jsx)("th",{children:s["Material Punched"]}),(0,O.jsx)("th",{children:s["Material Delivered"]}),(0,O.jsx)("th",{children:s["Installation End"]}),(0,O.jsx)("th",{children:s["Integration Status"]})]})]},t)}))})]})})})]})}),e]})},Q=l.forwardRef((function(e,t){return(0,O.jsx)(F.Z,{direction:"down",timeout:2500,style:{transformOrigin:"0 0 0"},mountOnEnter:!0,unmountOnExit:!0,ref:t,...e})})),U=e=>{let{label:t,options:n,selectedValues:l,setSelectedValues:a}=e;const i=n.length>0&&l.length===n.length;return(0,O.jsxs)(j.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,O.jsx)(g.Z,{id:"".concat(t,"-label"),children:t}),(0,O.jsxs)(f.Z,{labelId:"".concat(t,"-label"),multiple:!0,value:l,onChange:e=>{const{value:t}=e.target,i="string"===typeof t?t.split(","):t;i.includes("ALL")?l.length===n.length?a([]):a(n):a(i)},input:(0,O.jsx)(p.Z,{label:t}),renderValue:e=>e.join(", "),children:[(0,O.jsxs)(b.Z,{value:"ALL",children:[(0,O.jsx)(S.Z,{checked:i,indeterminate:l.length>0&&l.length<n.length}),(0,O.jsx)(m.Z,{primary:"Select All"})]}),n.map((e=>(0,O.jsxs)(b.Z,{value:e,children:[(0,O.jsx)(S.Z,{checked:l.includes(e)}),(0,O.jsx)(m.Z,{primary:e})]},e)))]})]})},Y=()=>{const e=(0,l.useRef)(null),[t,n]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),{makePostRequest:s,cancelRequest:r}=(0,d.u)(),{loading:o,action:c}=(0,D.Z)(),h=["Allocation","RFAI","RFAI Survey","MO Punch","Material Dispatch","Material Delivered","Installation End","Integration","EMF Submission","Alarm Rectification Done","SCFT I-Deploy Offered","RAN PAT Offer","RAN SAT Offer","MW PAT Offer","MW SAT Offer","Site ONAIR","I-Deploy ONAIR"],[p,m]=(0,l.useState)("RFAI"),[S,C]=(0,l.useState)("Site ONAIR"),[F,W]=(0,l.useState)([]),[T,P]=(0,l.useState)([]),[M,z]=(0,l.useState)([]),[N,q]=(0,l.useState)([]),[V,E]=(0,l.useState)([]),[L,B]=(0,l.useState)([]),[J,Y]=(0,l.useState)({}),[$,X]=(0,l.useState)([]),[G,H]=(0,l.useState)([]),[K,ee]=(0,l.useState)("Cumulative");let te;console.log("data get",h);const ne=e=>({circle:e.map((e=>e.Circle)),RFAI_done:e.map((e=>Number(e["".concat(p," Done Count")]))),onAirDone:e.map((e=>Number(e["".concat(S," Done Count")]))),onAirPending:e.map((e=>Number(e["".concat(S," Pending Count")])))}),le={labels:F,datasets:[{label:"".concat(S," Done"),data:null===L||void 0===L?void 0:L.onAirDone,borderColor:"rgb(0, 110, 116)",backgroundColor:["rgb(0, 110, 116)"],borderWidth:2,borderRadius:5,fill:!1,tension:.4},{label:"".concat(S," Pending"),data:null===L||void 0===L?void 0:L.onAirPending,borderColor:"rgb(107, 107, 107)",backgroundColor:["rgb(204, 255, 254)"],borderWidth:2,borderRadius:5,color:"red",fill:!1,tension:.4},{label:"".concat(p," Done"),data:null===L||void 0===L?void 0:L.RFAI_done,type:"bar",borderColor:"rgb(183, 183, 183)",backgroundColor:"rgba(183, 183, 183, 0.5)",borderWidth:2,borderRadius:5,fill:!1,tension:.4}]},ae={labels:F,datasets:[{label:"".concat(p," Done"),data:null===L||void 0===L?void 0:L.RFAI_done,type:"line",borderColor:"rgb(72, 98, 149)",backgroundColor:"rgba(48, 104, 215, 0.3)",borderWidth:2,fill:!1,tension:.4},{label:"".concat(S," Done"),data:null===L||void 0===L?void 0:L.onAirDone,borderColor:"black",backgroundColor:["rgb(0, 110, 116)"],borderWidth:1,borderRadius:5,fill:!0,tension:.4},{label:"".concat(S," Pending"),data:null===L||void 0===L?void 0:L.onAirPending,borderColor:"black",backgroundColor:["rgb(171, 171, 171)"],borderWidth:1,borderRadius:5,color:"red",fill:!0,tension:.4}]},ie={responsive:!0,maintainApectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{font:{size:13},boxWidth:18}},title:{display:!0,text:"Circlewise Progress - ".concat(p," to ").concat(S),font:{size:16,weight:"bold"}},datalabels:{display:!0,color:"black",anchor:"end",align:"top",offset:.5,font:{size:12,weight:"bold"}},zoom:{zoom:{wheel:{enabled:!0,speed:.01},pinch:{enabled:!0,speed:.01},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{display:!1},ticks:{}},y:{grid:{display:!0},ticks:{stepSize:10}}},watermark:{image:"".concat(k.hN,"/media/assets/logo-new.png"),x:50,y:50,width:300,height:150,opacity:.25,alignX:"right",alignY:"top",alignToChartArea:!1,position:"back"},animation:{onComplete:()=>{te=!0},delay:e=>{let t=0;return"data"!==e.type||"default"!==e.mode||te||(t=300*e.dataIndex+100*e.datasetIndex),t}}},se=()=>{i(!1)},re=(0,l.useCallback)((()=>(0,O.jsx)(R.Z,{fullWidth:!0,maxWidth:"lg",TransitionComponent:Q,open:a,onClose:se,children:(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,O.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,O.jsx)(u.$Q,{ref:e,data:ae,options:ie,plugins:[y.Z,v.ZP,Z()]})}),(0,O.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"1100px",height:"600px"},children:(0,O.jsx)(u.x1,{data:le,options:ie,plugins:[y.Z,v.ZP,Z()]})})]})})),[a]);return(0,l.useEffect)((()=>(Y({circle:[],RFAI_done:[],onAirDone:[],onAirPending:[]}),(async()=>{if(p!==S){c(!0);var e=new FormData;e.append("site_tagging",T),e.append("current_status",N),e.append("milestone1",p),e.append("milestone2",S);const t=await(0,k.qC)("alok_tracker/graphs/",e);console.log(" circle wise data",t),t?(c(!1),B(ne(JSON.parse(t.json_data.graph_summary))),0===V.length&&0===M.length&&(W(ne(JSON.parse(t.json_data.graph_summary)).circle),E(t.unique_data.unique_current_status),z(t.unique_data.unique_site_tagging))):c(!1)}else alert("Please select different milestones")})(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),()=>{r()})),[T,N,p,S]),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{style:{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",padding:10,height:"auto",width:"96%",margin:20,borderRadius:10,backgroundColor:"white",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,O.jsxs)("div",{style:{width:200,height:350,borderRadius:5,padding:10,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"18px",fontWeight:"bold",color:"black"},children:[(0,O.jsx)(w.Z,{}),"FILTER DATA"]}),(0,O.jsxs)(j.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,O.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone1"}),(0,O.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,label:"milestone1",onChange:e=>{m(e.target.value)},children:null===h||void 0===h?void 0:h.map(((e,t)=>(0,O.jsx)(b.Z,{value:e,children:e},t)))})]}),(0,O.jsxs)(j.Z,{sx:{minWidth:120,maxWidth:120},size:"small",children:[(0,O.jsx)(g.Z,{id:"demo-simple-select-label",children:"milestone2"}),(0,O.jsx)(f.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,label:"milestone2",onChange:e=>{C(e.target.value)},children:null===h||void 0===h?void 0:h.map(((e,t)=>(0,O.jsx)(b.Z,{value:e,children:e},t)))})]}),(0,O.jsx)(U,{label:"Site Tagging",options:M,selectedValues:T,setSelectedValues:P}),(0,O.jsx)(U,{label:"Current Status",options:V,selectedValues:N,setSelectedValues:q}),(0,O.jsx)("div",{children:(0,O.jsxs)(I.Z,{size:"small",color:"primary",value:t,exclusive:!0,onChange:()=>{n(!t)},"aria-label":"Platform",children:[(0,O.jsx)(A.Z,{value:!0,children:"Line"}),(0,O.jsx)(A.Z,{value:!1,children:"Bar"})]})}),(0,O.jsx)("div",{children:(0,O.jsx)(x.Z,{color:"primary",endIcon:(0,O.jsx)(_.Z,{}),onClick:()=>{i(!0)},children:"Full screen"})})]}),(0,O.jsx)("div",{style:{display:t?"inherit":"none",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"800px",height:400},children:(0,O.jsx)(u.x1,{ref:e,data:le,options:ie,plugins:[y.Z,v.ZP,Z()]})}),(0,O.jsx)("div",{style:{display:t?"none":"inherit",filter:"drop-shadow(rgba(0, 0, 0, 0.34) 0px 3px 3px)",width:"80hv",height:400},children:(0,O.jsx)(u.$Q,{ref:e,data:ae,options:ie,plugins:[y.Z,v.ZP,Z()]})}),re(),o]})})},$=["#B0EBB4","#A0DEFF","#FF9F66","#ECB176","#CDE8E5"],X=["RFAI","Integration","Site ONAIR","SCFT I-Deploy Offered"],G=()=>{const e=(0,c.s0)(),{loading:t,action:n}=(0,D.Z)(),[d,u]=(0,l.useState)([]),[x,p]=(0,l.useState)([]);console.log("table data",x);const g=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t))return"Invalid Date";const n=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(l,"-").concat(a)},b=async()=>{n(!0);var e=new FormData;e.append("circle",""),e.append("site_tagging",""),e.append("relocation_method",""),e.append("new_toco_name",""),e.append("from_date",g(new Date(Date.now()-864e5))),e.append("to_date",g(new Date)),e.append("view","Cumulative");const t=await(0,k.qC)("alok_tracker/daily_dashboard_file/",e);t?(n(!1),u(t.dates),p(JSON.parse(t.data).filter((e=>X.includes(e["Milestone Track/Site Count"]))))):n(!1)};(0,l.useCallback)((e=>{let{data:t,color:n}=e;function l(e){const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(n,"-").concat(l,"-").concat(a)}return(0,O.jsxs)(o.Z,{sx:{height:"auto",width:"28vh",cursor:"pointer",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:n,textAlign:"center"},title:t.OEM,children:[(0,O.jsx)(o.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:t.OEM}),(0,O.jsxs)(o.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:[(0,O.jsx)(h.ZP,{end:t.record_count,duration:4})," "]}),(0,O.jsxs)(o.Z,{sx:{color:"black",textAlign:"left"},children:[(0,O.jsx)("span",{style:{fontWeight:600,fontSize:"14px"},children:"From-"}),l(t.from_integration_date)]}),(0,O.jsxs)(o.Z,{sx:{color:"black",textAlign:"left"},children:[" ",(0,O.jsx)("span",{style:{fontWeight:600},children:"To-"}),l(t.to_integration_date)]})]})}),[]);return(0,l.useEffect)((()=>{b(),document.title="".concat(window.location.pathname.slice(1).replaceAll("_"," ").replaceAll("/"," | ").toUpperCase()),b()}),[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:{margin:5,marginLeft:10},children:(0,O.jsxs)(a.Z,{"aria-label":"breadcrumb",itemsBeforeCollapse:2,maxItems:3,separator:(0,O.jsx)(r.Z,{fontSize:"small"}),children:[(0,O.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools")},children:"Tools"}),(0,O.jsx)(i.Z,{underline:"hover",onClick:()=>{e("/tools/relocation_tracking")},children:"Relocation Tracking"}),(0,O.jsx)(s.Z,{color:"text.primary",children:"Analytics Dashboard"})]})}),(0,O.jsx)(o.Z,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",flexDirection:"row",gap:1,marginBottom:2},children:x.length>0&&x.map(((e,t)=>(0,O.jsxs)(o.Z,{sx:{height:"auto",width:"30vh",cursor:"pointer",padding:1.5,borderRadius:1.5,boxShadow:" rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px",backgroundColor:"".concat($[t]),textAlign:"center"},children:[(0,O.jsx)(o.Z,{sx:{fontWeight:600,fontSize:"16px",color:"black",textAlign:"left"},children:null===e||void 0===e?void 0:e["Milestone Track/Site Count"]}),(0,O.jsx)(o.Z,{sx:{fontWeight:600,fontSize:"24px",color:"black",fontFamily:"cursive"},children:(0,O.jsx)(h.ZP,{end:e.date_1,duration:6})}),(0,O.jsx)(o.Z,{sx:{color:"black",textAlign:"left"},children:d[0]})]})))}),(0,O.jsx)(o.Z,{children:(0,O.jsx)(z,{})}),(0,O.jsx)(o.Z,{children:(0,O.jsx)(Y,{})}),(0,O.jsx)(o.Z,{children:(0,O.jsx)(J,{})}),(0,O.jsx)(o.Z,{children:(0,O.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=7126.7e7d0305.chunk.js.map